!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="assets/",i(i.s=0)}({"/iRC":function(t,e,i){(function(t){!function(t){"use strict";var e={pluralRules:{ak:{one:"n = 0..1"},am:{one:"i = 0 or n = 1"},ar:{zero:"n = 0",one:"n = 1",two:"n = 2",few:"n % 100 = 3..10",many:"n % 100 = 11..99"},ars:{zero:"n = 0",one:"n = 1",two:"n = 2",few:"n % 100 = 3..10",many:"n % 100 = 11..99"},as:{one:"i = 0 or n = 1"},be:{one:"n % 10 = 1 and n % 100 != 11",few:"n % 10 = 2..4 and n % 100 != 12..14",many:"n % 10 = 0 or n % 10 = 5..9 or n % 100 = 11..14"},bh:{one:"n = 0..1"},bn:{one:"i = 0 or n = 1"},br:{one:"n % 10 = 1 and n % 100 != 11,71,91",two:"n % 10 = 2 and n % 100 != 12,72,92",few:"n % 10 = 3..4,9 and n % 100 != 10..19,70..79,90..99",many:"n != 0 and n % 1000000 = 0"},bs:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},cs:{one:"i = 1 and v = 0",few:"i = 2..4 and v = 0",many:"v != 0"},cy:{zero:"n = 0",one:"n = 1",two:"n = 2",few:"n = 3",many:"n = 6"},da:{one:"n = 1 or t != 0 and i = 0,1"},dsb:{one:"v = 0 and i % 100 = 1 or f % 100 = 1",two:"v = 0 and i % 100 = 2 or f % 100 = 2",few:"v = 0 and i % 100 = 3..4 or f % 100 = 3..4"},fa:{one:"i = 0 or n = 1"},ff:{one:"i = 0,1"},fil:{one:"v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9"},fr:{one:"i = 0,1"},ga:{one:"n = 1",two:"n = 2",few:"n = 3..6",many:"n = 7..10"},gd:{one:"n = 1,11",two:"n = 2,12",few:"n = 3..10,13..19"},gu:{one:"i = 0 or n = 1"},guw:{one:"n = 0..1"},gv:{one:"v = 0 and i % 10 = 1",two:"v = 0 and i % 10 = 2",few:"v = 0 and i % 100 = 0,20,40,60,80",many:"v != 0"},he:{one:"i = 1 and v = 0",two:"i = 2 and v = 0",many:"v = 0 and n != 0..10 and n % 10 = 0"},hi:{one:"i = 0 or n = 1"},hr:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},hsb:{one:"v = 0 and i % 100 = 1 or f % 100 = 1",two:"v = 0 and i % 100 = 2 or f % 100 = 2",few:"v = 0 and i % 100 = 3..4 or f % 100 = 3..4"},hy:{one:"i = 0,1"},is:{one:"t = 0 and i % 10 = 1 and i % 100 != 11 or t != 0"},iu:{one:"n = 1",two:"n = 2"},iw:{one:"i = 1 and v = 0",two:"i = 2 and v = 0",many:"v = 0 and n != 0..10 and n % 10 = 0"},kab:{one:"i = 0,1"},kn:{one:"i = 0 or n = 1"},kw:{one:"n = 1",two:"n = 2"},lag:{zero:"n = 0",one:"i = 0,1 and n != 0"},ln:{one:"n = 0..1"},lt:{one:"n % 10 = 1 and n % 100 != 11..19",few:"n % 10 = 2..9 and n % 100 != 11..19",many:"f != 0"},lv:{zero:"n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19",one:"n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1"},mg:{one:"n = 0..1"},mk:{one:"v = 0 and i % 10 = 1 or f % 10 = 1"},mo:{one:"i = 1 and v = 0",few:"v != 0 or n = 0 or n != 1 and n % 100 = 1..19"},mr:{one:"i = 0 or n = 1"},mt:{one:"n = 1",few:"n = 0 or n % 100 = 2..10",many:"n % 100 = 11..19"},naq:{one:"n = 1",two:"n = 2"},nso:{one:"n = 0..1"},pa:{one:"n = 0..1"},pl:{one:"i = 1 and v = 0",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14",many:"v = 0 and i != 1 and i % 10 = 0..1 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 12..14"},prg:{zero:"n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19",one:"n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1"},pt:{one:"i = 0..1"},ro:{one:"i = 1 and v = 0",few:"v != 0 or n = 0 or n != 1 and n % 100 = 1..19"},ru:{one:"v = 0 and i % 10 = 1 and i % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14",many:"v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14"},se:{one:"n = 1",two:"n = 2"},sh:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},shi:{one:"i = 0 or n = 1",few:"n = 2..10"},si:{one:"n = 0,1 or i = 0 and f = 1"},sk:{one:"i = 1 and v = 0",few:"i = 2..4 and v = 0",many:"v != 0"},sl:{one:"v = 0 and i % 100 = 1",two:"v = 0 and i % 100 = 2",few:"v = 0 and i % 100 = 3..4 or v != 0"},sma:{one:"n = 1",two:"n = 2"},smi:{one:"n = 1",two:"n = 2"},smj:{one:"n = 1",two:"n = 2"},smn:{one:"n = 1",two:"n = 2"},sms:{one:"n = 1",two:"n = 2"},sr:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},ti:{one:"n = 0..1"},tl:{one:"v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9"},tzm:{one:"n = 0..1 or n = 11..99"},uk:{one:"v = 0 and i % 10 = 1 and i % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14",many:"v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14"},wa:{one:"n = 0..1"},zu:{one:"i = 0 or n = 1"}},convertPlural:function(e,i){var n,o,s,a,r=new RegExp("\\d+=","i");if(!i||0===i.length)return"";for(s=0;s<i.length;s++)if(a=i[s],r.test(a)){if(parseInt(a.slice(0,a.indexOf("=")),10)===e)return a.slice(a.indexOf("=")+1);i[s]=void 0}return i=t.map(i,(function(t){if(void 0!==t)return t})),(n=this.pluralRules[t.i18n().locale])?(o=this.getPluralForm(e,n),i[o=Math.min(o,i.length-1)]):1===e?i[0]:i[1]},getPluralForm:function(t,e){var i,n=["zero","one","two","few","many","other"],o=0;for(i=0;i<n.length;i++)if(e[n[i]]){if(pluralRuleParser(e[n[i]],t))return o;o++}return o},convertNumber:function(e,i){var n,o,s,a,r,l;if(a=this.digitTransformTable(t.i18n().locale),r=String(e),l="",!a)return e;if(i){if(parseFloat(e,10)===e)return e;for(o in n=[],a)n[a[o]]=o;a=n}for(s=0;s<r.length;s++)a[r[s]]?l+=a[r[s]]:l+=r[s];return i?parseFloat(l,10):l},convertGrammar:function(t,e){return t},gender:function(t,e){if(!e||0===e.length)return"";for(;e.length<2;)e.push(e[e.length-1]);return"male"===t?e[0]:"female"===t?e[1]:3===e.length?e[2]:e[0]},digitTransformTable:function(t){var e={ar:"٠١٢٣٤٥٦٧٨٩",fa:"۰۱۲۳۴۵۶۷۸۹",ml:"൦൧൨൩൪൫൬൭൮൯",kn:"೦೧೨೩೪೫೬೭೮೯",lo:"໐໑໒໓໔໕໖໗໘໙",or:"୦୧୨୩୪୫୬୭୮୯",kh:"០១២៣៤៥៦៧៨៩",nqo:"߀߁߂߃߄߅߆߇߈߉",pa:"੦੧੨੩੪੫੬੭੮੯",gu:"૦૧૨૩૪૫૬૭૮૯",hi:"०१२३४५६७८९",my:"၀၁၂၃၄၅၆၇၈၉",ta:"௦௧௨௩௪௫௬௭௮௯",te:"౦౧౨౩౪౫౬౭౮౯",th:"๐๑๒๓๔๕๖๗๘๙",bo:"༠༡༢༣༤༥༦༧༨༩"};return!!e[t]&&e[t].split("")}};t.extend(t.i18n.languages,{default:e})}(t)}).call(this,i("EVdn"))},0:function(t,e,i){i("EVdn"),i("ovuR"),i("mF8h"),i("0hJh"),i("EN70"),i("gXRV"),i("wCmc"),i("6NS1"),i("vuU+"),i("IvOP"),i("nmF7"),i("tPeR"),i("uzZt"),i("mJPs"),i("/iRC"),i("viYT"),i("anCX"),i("3iwj"),i("Mh5E"),i("6R2C"),i("KPT6"),i("J1iX"),i("0oQ0"),i("IJar"),i("Nrnj"),i("9Rgn"),i("lK6O"),i("bMVF"),i("1Wo5"),i("zoyU"),i("qXYj"),i("W28u"),i("ML86"),i("iGkt"),i("IUhG"),i("zXW2"),t.exports=i("Mv9J")},"0hJh":function(t,e,i){(function(t){
/*!
 * OOUI v0.33.4
 * https://www.mediawiki.org/wiki/OOUI
 *
 * Copyright 2011–2019 OOUI Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2019-07-23T03:23:32Z
 */
!function(t){"use strict";t.ui.WikimediaUITheme=function(){t.ui.WikimediaUITheme.parent.call(this)},t.inheritClass(t.ui.WikimediaUITheme,t.ui.Theme),t.ui.WikimediaUITheme.prototype.getElementClasses=function(e){var i,n,o,s,a={invert:!1,progressive:!1,destructive:!1,error:!1,warning:!1,success:!1},r=t.ui.WikimediaUITheme.parent.prototype.getElementClasses.call(this,e);for(i in e instanceof t.ui.IconWidget&&e.$element.hasClass("oo-ui-checkboxInputWidget-checkIcon")?a.invert=!0:e.supports(["hasFlag"])&&(n=e.supports(["isFramed"])&&e.isFramed(),o=e.supports(["isActive"])&&e.isActive(),s=t.ui.Tool&&e instanceof t.ui.Tool||t.ui.ToolGroup&&e instanceof t.ui.ToolGroup,n&&(o||e.isDisabled()||e.hasFlag("primary"))||s&&e.hasFlag("primary")?a.invert=!0:n||!e.isDisabled()||e.hasFlag("invert")?e.isDisabled()||(a.progressive=e.hasFlag("progressive")||s&&o||(e instanceof t.ui.MenuOptionWidget||t.ui.OutlineOptionWidget&&e instanceof t.ui.OutlineOptionWidget)&&(e.isPressed()||e.isSelected()),a.destructive=e.hasFlag("destructive"),a.invert=e.hasFlag("invert"),a.error=e.hasFlag("error"),a.warning=e.hasFlag("warning"),a.success=e.hasFlag("success")):a.invert=!1),a)r[a[i]?"on":"off"].push("oo-ui-image-"+i);return r},t.ui.WikimediaUITheme.prototype.getDialogTransitionDuration=function(){return 250},t.ui.theme=new t.ui.WikimediaUITheme}(t)}).call(this,i("ovuR"))},"0oQ0":function(t,e,i){(function(t){!function(t){"use strict";var e;(e=function(e,i){var n;for(n in this.$element=t(e),this.options=t.extend({},t.fn.uls.defaults,i),this.$menu=t('<div class="grid uls-menu"> \t\t\t<div id="search" class="row uls-search"> \t\t\t\t<div class="uls-search-wrapper"> \t\t\t\t\t<label class="uls-search-label" for="uls-languagefilter"></label>\t\t\t\t\t<div class="uls-search-input-wrapper">\t\t\t\t\t\t<span class="uls-languagefilter-clear"></span>\t\t\t\t\t\t<input type="text" class="uls-filterinput uls-filtersuggestion"\t\t\t\t\t\t\tdisabled="true" autocomplete="off">\t\t\t\t\t\t<input type="text" class="uls-filterinput uls-languagefilter"\t\t\t\t\t\t\tmaxlength="40"\t\t\t\t\t\t\tdata-clear="uls-languagefilter-clear"\t\t\t\t\t\t\tdata-suggestion="uls-filtersuggestion"\t\t\t\t\t\t\tplaceholder="Search for a language" autocomplete="off">\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="row uls-language-list"></div>\t\t\t<div class="row" id="uls-settings-block"></div>\t\t</div>'),this.languages=this.options.languages,this.languages)void 0===t.uls.data.languages[n]&&delete this.languages[n];this.left=this.options.left,this.top=this.options.top,this.shown=!1,this.initialized=!1,this.shouldRecreate=!1,this.menuWidth=this.getMenuWidth(),this.$languageFilter=this.$menu.find(".uls-languagefilter"),this.$resultsView=this.$menu.find(".uls-language-list"),this.render(),this.listen(),this.ready()}).prototype={constructor:e,ready:function(){this.options.onReady&&this.options.onReady.call(this)},visible:function(){this.options.onVisible&&this.options.onVisible.call(this)},position:function(){var e,i=this.top,n=this.left;return void 0===i&&(i=(e=t.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight})).top+e.height),void 0===n&&(n=t(window).width()/2-this.$menu.outerWidth()/2),{top:i,left:n}},show:function(){this.$menu.addClass({wide:"uls-wide",medium:"uls-medium",narrow:"uls-narrow"}[this.menuWidth]),this.initialized||(t("body").prepend(this.$menu),this.i18n(),this.initialized=!0),this.$menu.css(this.position()),this.$menu.show(),this.$menu.scrollIntoView(),this.shown=!0,this.isMobile()||this.$languageFilter.focus(),this.visible()},i18n:function(){t.i18n&&(this.$menu.find("[data-i18n]").i18n(),this.$languageFilter.prop("placeholder",t.i18n("uls-search-placeholder")))},hide:function(){this.$menu.hide(),this.shown=!1,this.$menu.removeClass("uls-wide uls-medium uls-narrow"),this.shouldRecreate&&this.recreateLanguageFilter(),this.options.onCancel&&this.options.onCancel.call(this)},render:function(){},success:function(){this.$resultsView.show()},createLanguageFilter:function(){var t,e;e=Object.keys(this.options.languages).length,t=this.$resultsView.lcd({languages:this.languages,columns:{wide:4,medium:2,narrow:1}[this.menuWidth],quickList:e>12?this.options.quickList:[],clickhandler:this.select.bind(this),showRegions:this.options.showRegions,languageDecorator:this.options.languageDecorator,noResultsTemplate:this.options.noResultsTemplate,itemsPerColumn:this.options.itemsPerColumn,groupByRegion:this.options.groupByRegion}).data("lcd"),this.$languageFilter.languagefilter({lcd:t,languages:this.languages,ulsPurpose:this.options.ulsPurpose,searchAPI:this.options.searchAPI,onSelect:this.select.bind(this)}),this.$languageFilter.on("noresults.uls",t.noResults.bind(t))},recreateLanguageFilter:function(){this.$resultsView.removeData("lcd"),this.$resultsView.empty(),this.$languageFilter.removeData("languagefilter"),this.createLanguageFilter(),this.shouldRecreate=!1},listen:function(){this.$element.on("click",this.click.bind(this)),this.$menu.on("click",(function(t){t.stopPropagation()})),this.$menu.on("keydown",this.keypress.bind(this)),this.createLanguageFilter(),this.$languageFilter.on("resultsfound.uls",this.success.bind(this)),t("html").click(this.cancel.bind(this)),t(window).resize(t.fn.uls.debounce(this.resize.bind(this),250))},resize:function(){var t=this.getMenuWidth();this.menuWidth!==t&&(this.menuWidth=t,this.shouldRecreate=!0,this.shown||this.recreateLanguageFilter())},select:function(t,e){this.hide(),this.options.onSelect&&this.options.onSelect.call(this,t,e)},cancel:function(e){e&&(this.$element.is(e.target)||t.contains(this.$element[0],e.target))||this.hide()},keypress:function(t){this.shown&&27===t.keyCode&&(this.cancel(),t.preventDefault(),t.stopPropagation())},click:function(){this.shown?this.hide():this.show()},getMenuWidth:function(){var t,e=document.documentElement.clientWidth;return this.options.menuWidth?this.options.menuWidth:(t=Object.keys(this.options.languages).length,e>900&&t>=48?"wide":e>500&&t>=24?"medium":"narrow")},isMobile:function(){return navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)}},t.fn.uls=function(i){return this.each((function(){var n=t(this),o=n.data("uls"),s="object"==typeof i&&i;o||n.data("uls",o=new e(this,s)),"string"==typeof i&&o[i]()}))},t.fn.uls.defaults={top:void 0,left:void 0,onSelect:void 0,onCancel:void 0,onReady:void 0,onVisible:void 0,languages:t.uls.data.getAutonyms(),menuWidth:void 0,ulsPurpose:"",quickList:[],showRegions:void 0,languageDecorator:void 0,noResultsTemplate:void 0,itemsPerColumn:void 0,groupByRegion:void 0,searchAPI:void 0},t.fn.i18n||(t.fn.i18n=function(){}),t.fn.uls.debounce=function(t,e,i){var n;return function(){var o,s=this,a=function(){n=null,i||t.apply(s,arguments)};o=i&&!n,clearTimeout(n),n=setTimeout(a,e||100),o&&t.apply(s,arguments)}},t.fn.scrollIntoView=function(){return this.each((function(){var e,i=t(window),n=i.height(),o=i.scrollTop(),s=o+n,a=t(this),r=a.height(),l=a.offset().top,u=l+r;(l<o||u>s)&&(e=o>l?l:u-n,t("html, body").stop().animate({scrollTop:e},500))}))},t.fn.uls.Constructor=e}(t)}).call(this,i("EVdn"))},"1Wo5":function(t,e,i){(function(t,e,n){e.OO=t,e.App=i("UmG/"),i("mwPO"),i("6efa"),i("5gvb"),i("2nf7"),n((function(){var t=n("html").attr("lang"),e={},i={};e[t]=appConfig.assetsPath+"/i18n/jquery.uls/"+t+".json",i[t]=appConfig.assetsPath+"/i18n/app/"+t+".json","en"!==t&&(e.en=appConfig.assetsPath+"/i18n/jquery.uls/en.json",i.en=appConfig.assetsPath+"/i18n/app/en.json"),n.i18n().locale=t,n.i18n().load(e),n.i18n().load(i).then(App.addLanguageSettingsLink)})),App.getCookieVal=function(t,e){var n=i("p46w").get("svgtranslate");if(n)try{return JSON.parse(n)[t]}catch(t){return e}return e},App.addLanguageSettingsLink=function(){var e=n("<a>").html(n.i18n("language-settings")).attr("href","#lang-dialog").on("click",(function(){var e=t.ui.getWindowManager(),i=new App.LanguageDialog({interfaceLang:n("html").attr("lang")});e.isElementAttached()||n("body").append(e.$element),e.addWindows([i]),e.openWindow(i)}));n("nav.user ul").prepend(n("<li>").append(e))},n((function(){var e=n("#search-widget");e.length>0&&t.ui.infuse(e)}))}).call(this,i("ovuR"),i("yLpj"),i("EVdn"))},"2nf7":function(t,e){t.exports="../assets/images/fa-question-circle-solid.266cfdc5.svg"},"3iwj":function(t,e,i){(function(t){!function(t){"use strict";t.i18n.languages.ml=t.extend({},t.i18n.languages.default,{convertGrammar:function(t,e){switch(e=e.toLowerCase()){case"ഉദ്ദേശിക":case"dative":"ു"===t.slice(-1)||"ൂ"===t.slice(-1)||"ൗ"===t.slice(-1)||"ൌ"===t.slice(-1)?t+="വിന്":"ം"===t.slice(-1)?t=t.slice(0,-1)+"ത്തിന്":"ൻ"===t.slice(-1)?t=t.slice(0,-1)+"ന്":"ന്‍"===t.slice(-3)?t=t.slice(0,-1):"ൾ"===t.slice(-1)||"ള്‍"===t.slice(-3)||"ർ"===t.slice(-1)||"ര്‍"===t.slice(-3)?t+="ക്ക്":"ൽ"===t.slice(-1)?t=t.slice(0,-1)+"ലിന്":"ല്‍"===t.slice(-3)||"ു്"===t.slice(-2)?t=t.slice(0,-2)+"ിന്":"്"===t.slice(-1)?t=t.slice(0,-1)+"ിന്":t+="യ്ക്ക്";break;case"സംബന്ധിക":case"genitive":"ം"===t.slice(-1)?t=t.slice(0,-1)+"ത്തിന്റെ":"ു്"===t.slice(-2)?t=t.slice(0,-2)+"ിന്റെ":"്"===t.slice(-1)?t=t.slice(0,-1)+"ിന്റെ":"ു"===t.slice(-1)||"ൂ"===t.slice(-1)||"ൗ"===t.slice(-1)||"ൌ"===t.slice(-1)?t+="വിന്റെ":"ൻ"===t.slice(-1)?t=t.slice(0,-1)+"ന്റെ":"ന്‍"===t.slice(-3)?t=t.slice(0,-1)+"റെ":"ള്‍"===t.slice(-3)?t=t.slice(0,-2)+"ുടെ":"ൾ"===t.slice(-1)?t=t.slice(0,-1)+"ളുടെ":"ൽ"===t.slice(-1)?t=t.slice(0,-1)+"ലിന്റെ":"ല്‍"===t.slice(-3)?t=t.slice(0,-2)+"ിന്റെ":"ര്‍"===t.slice(-3)?t=t.slice(0,-2)+"ുടെ":"ർ"===t.slice(-1)?t=t.slice(0,-1)+"രുടെ":t+="യുടെ"}return t}})}(t)}).call(this,i("EVdn"))},"5gvb":function(t,e){t.exports="../assets/images/download.440f6d6b.svg"},"6NS1":function(t,e,i){},"6R2C":function(t,e,i){(function(t){!function(t){"use strict";t.uls.data.isRedirect=function(e){return void 0!==t.uls.data.languages[e]&&1===t.uls.data.languages[e].length&&t.uls.data.languages[e][0]},t.uls.data.getScript=function(e){var i=t.uls.data.isRedirect(e);return i?t.uls.data.getScript(i):t.uls.data.languages[e]?t.uls.data.languages[e][0]:"Zyyy"},t.uls.data.getRegions=function(e){var i=t.uls.data.isRedirect(e);return i?t.uls.data.getRegions(i):t.uls.data.languages[e]&&t.uls.data.languages[e][1]||"UNKNOWN"},t.uls.data.getAutonym=function(e){var i=t.uls.data.isRedirect(e);return i?t.uls.data.getAutonym(i):t.uls.data.languages[e]&&t.uls.data.languages[e][2]||e},t.uls.data.getAutonyms=function(){var e,i={};for(e in t.uls.data.languages)t.uls.data.isRedirect(e)||(i[e]=t.uls.data.getAutonym(e));return i},t.uls.data.getLanguagesInScript=function(e){return t.uls.data.getLanguagesInScripts([e])},t.uls.data.getLanguagesInScripts=function(e){var i,n,o=[];for(i in t.uls.data.languages)if(!t.uls.data.isRedirect(i))for(n=0;n<e.length;n++)if(e[n]===t.uls.data.getScript(i)){o.push(i);break}return o},t.uls.data.getLanguagesByScriptGroupInRegion=function(e){return t.uls.data.getLanguagesByScriptGroupInRegions([e])},t.uls.data.getLanguagesByScriptGroup=function(e){var i,n,o,s,a={};for(n=0;n<e.length;n++)i=e[n],o=t.uls.data.isRedirect(i)||i,a[s=t.uls.data.getScriptGroupOfLanguage(o)]||(a[s]=[]),a[s].push(i);return a},t.uls.data.getLanguagesByScriptGroupInRegions=function(e){var i,n,o,s={};for(i in t.uls.data.languages)if(!t.uls.data.isRedirect(i))for(n=0;n<e.length;n++)if(-1!==t.uls.data.getRegions(i).indexOf(e[n])){void 0===s[o=t.uls.data.getScriptGroupOfLanguage(i)]&&(s[o]=[]),s[o].push(i);break}return s},t.uls.data.getGroupOfScript=function(e){var i;for(i in t.uls.data.scriptgroups)if(-1!==t.uls.data.scriptgroups[i].indexOf(e))return i;return"Other"},t.uls.data.getScriptGroupOfLanguage=function(e){return t.uls.data.getGroupOfScript(t.uls.data.getScript(e))},t.uls.data.sortByScriptGroup=function(e){var i,n,o,s=[];for(i=t.uls.data.getLanguagesByScriptGroup(e),n=Object.keys(i).sort(),o=0;o<n.length;o++)s=s.concat(i[n[o]]);return s},t.uls.data.sortByAutonym=function(e,i){var n=t.uls.data.getAutonym(e)||e,o=t.uls.data.getAutonym(i)||i;return n.toLowerCase()<o.toLowerCase()?-1:1},t.uls.data.isRtl=function(e){return-1!==t.uls.data.rtlscripts.indexOf(t.uls.data.getScript(e))},t.uls.data.getDir=function(e){return t.uls.data.isRtl(e)?"rtl":"ltr"},t.uls.data.getLanguagesInTerritory=function(e){return t.uls.data.territories[e]},t.uls.data.addLanguage=function(e,i){i.target?t.uls.data.languages[e]=[i.target]:t.uls.data.languages[e]=[i.script,i.regions,i.autonym]},t.uls.data.deleteLanguage=function(e){return!!t.uls.data.languages[e]&&(delete t.uls.data.languages[e],!0)}}(t)}).call(this,i("EVdn"))},"6efa":function(t,e){t.exports="../assets/images/logo-Wikimedia-Commons.01a57418.svg"},"8U2o":function(t,e,i){(function(t,e){t.App=i("UmG/"),t.OO=i("ovuR"),App.Model=function(t){e.EventEmitter.call(this),this.localStorageKey="svgtranslate",this.translations=e.copy(t)||{},this.originalTranslations=e.copy(this.translations),this.sourceLang=null,this.targetLang=null,this.langs=this.getLangs(this.translations)},e.mixinClass(App.Model,e.EventEmitter),App.Model.prototype.getLangs=function(t){var e,i,n,o,s=Object.keys(t),a=[];for(e=0;e<s.length;e++)for(n=Object.keys(t[s[e]]),i=0;i<n.length;i++)o=n[i],-1===a.indexOf(o)&&a.push(o);return a},App.Model.prototype.setSourceLang=function(t){-1!==this.langs.indexOf(t)&&t!==this.sourceLang&&(this.sourceLang=t,this.saveToLocalStorage("sourceLang",t),this.emit("sourceLangSet"))},App.Model.prototype.getSourceLang=function(){return this.sourceLang},App.Model.prototype.setTargetLang=function(t){void 0!==t&&""!==t&&t!==this.targetLang&&(this.targetLang=t,this.saveToLocalStorage("targetLang",t),this.emit("targetLangSet"))},App.Model.prototype.getTargetLang=function(){return this.targetLang},App.Model.prototype.getSourceTranslation=function(t){return void 0===this.translations[t][this.sourceLang]?{label:this.translations[t].fallback.text,exists:!1}:{label:this.translations[t][this.sourceLang].text,exists:!0}},App.Model.prototype.setTargetTranslation=function(t,e,i){var n={},o=this;null!==this.targetLang&&void 0!==this.translations[e]&&(void 0===this.translations[e][this.targetLang]&&(this.translations[e][this.targetLang]={}),this.translations[e][this.targetLang].text!==i&&(this.translations[e][this.targetLang].text=i,Object.keys(this.translations).forEach((function(t){(void 0!==o.translations[t][o.targetLang]?o.translations[t][o.targetLang].text:"")!==(void 0!==o.originalTranslations[t][o.targetLang]?o.originalTranslations[t][o.targetLang].text:"")?n[t]=o.translations[t][o.targetLang].text:delete n[t]})),n&&(this.saveToLocalStorage("changedTranslations",n),this.saveToLocalStorage("filename",t))))},App.Model.prototype.getTargetTranslation=function(t){return void 0===this.translations[t][this.targetLang]?"":this.translations[t][this.targetLang].text},App.Model.prototype.loadFromLocalStorage=function(t){var e=this,i=this.getLocalStorageValue("changedTranslations"),n=!1,o=this.getLocalStorageValue("filename");return this.setSourceLang(this.getLocalStorageValue("sourceLang")),this.setTargetLang(this.getLocalStorageValue("targetLang")),t!==o?(this.saveToLocalStorage("filename",t),this.saveToLocalStorage("changedTranslations",{}),!1):(i&&Object.keys(i).forEach((function(o){e.getTargetTranslation(o)!==i[o]&&(n=!0,e.setTargetTranslation(t,o,i[o]))})),n)},App.Model.prototype.getLocalStorageValue=function(e){var i,n;if(void 0!==t.localStorage)return null!==(n=JSON.parse(t.localStorage.getItem(this.localStorageKey)))&&void 0!==n[e]&&(i=n[e]),i},App.Model.prototype.saveToLocalStorage=function(e,i){var n;void 0!==t.localStorage&&(null===(n=JSON.parse(t.localStorage.getItem(this.localStorageKey)))&&(n={}),n[e]=i,t.localStorage.setItem(this.localStorageKey,JSON.stringify(n)))}}).call(this,i("yLpj"),i("ovuR"))},"9Rgn":function(t,e,i){},EN70:function(t,e,i){},EVdn:function(t,e,i){var n;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */!function(e,i){"use strict";"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,(function(i,o){"use strict";var s=[],a=i.document,r=Object.getPrototypeOf,l=s.slice,u=s.concat,h=s.push,c=s.indexOf,d={},p=d.toString,g=d.hasOwnProperty,m=g.toString,f=m.call(Object),y={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function x(t,e,i){var n,o=(e=e||a).createElement("script");if(o.text=t,i)for(n in _)i[n]&&(o[n]=i[n]);e.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[p.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function L(t){var e=!!t&&"length"in t&&t.length,i=w(t);return!v(t)&&!b(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.3.1",constructor:E,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:s.sort,splice:s.splice},E.extend=E.fn.extend=function(){var t,e,i,n,o,s,a=arguments[0]||{},r=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[r]||{},r++),"object"==typeof a||v(a)||(a={}),r===l&&(a=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(e in t)i=a[e],a!==(n=t[e])&&(u&&n&&(E.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,s=i&&Array.isArray(i)?i:[]):s=i&&E.isPlainObject(i)?i:{},a[e]=E.extend(u,s,n)):void 0!==n&&(a[e]=n));return a},E.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==p.call(t))&&(!(e=r(t))||"function"==typeof(i=g.call(e,"constructor")&&e.constructor)&&m.call(i)===f)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){x(t)},each:function(t,e){var i,n=0;if(L(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(C,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(L(Object(t))?E.merge(i,"string"==typeof t?[t]:t):h.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:c.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,s=t.length,a=!i;o<s;o++)!e(t[o],o)!==a&&n.push(t[o]);return n},map:function(t,e,i){var n,o,s=0,a=[];if(L(t))for(n=t.length;s<n;s++)null!=(o=e(t[s],s,i))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,i))&&a.push(o);return u.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=s[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){d["[object "+e+"]"]=e.toLowerCase()}));var T=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,i,n,o,s,a,r,l,u,h,c,d,p,g,m,f,y,v,b,_="sizzle"+1*new Date,x=t.document,w=0,E=0,C=at(),L=at(),T=at(),I=function(t,e){return t===e&&(c=!0),0},W={}.hasOwnProperty,S=[],$=S.pop,k=S.push,M=S.push,P=S.slice,A=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+O+"*("+F+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+O+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",R=new RegExp(O+"+","g"),N=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),j=new RegExp("^"+O+"*,"+O+"*"),H=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),U=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),V=new RegExp(B),G=new RegExp("^"+F+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){d()},ot=vt((function(t){return!0===t.disabled&&("form"in t||"label"in t)}),{dir:"parentNode",next:"legend"});try{M.apply(S=P.call(x.childNodes),x.childNodes),S[x.childNodes.length].nodeType}catch(t){M={apply:S.length?function(t,e){k.apply(t,P.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function st(t,e,n,o){var s,r,u,h,c,g,y,v=e&&e.ownerDocument,w=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return n;if(!o&&((e?e.ownerDocument||e:x)!==p&&d(e),e=e||p,m)){if(11!==w&&(c=X.exec(t)))if(s=c[1]){if(9===w){if(!(u=e.getElementById(s)))return n;if(u.id===s)return n.push(u),n}else if(v&&(u=v.getElementById(s))&&b(e,u)&&u.id===s)return n.push(u),n}else{if(c[2])return M.apply(n,e.getElementsByTagName(t)),n;if((s=c[3])&&i.getElementsByClassName&&e.getElementsByClassName)return M.apply(n,e.getElementsByClassName(s)),n}if(i.qsa&&!T[t+" "]&&(!f||!f.test(t))){if(1!==w)v=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((h=e.getAttribute("id"))?h=h.replace(et,it):e.setAttribute("id",h=_),r=(g=a(t)).length;r--;)g[r]="#"+h+" "+yt(g[r]);y=g.join(","),v=J.test(t)&&mt(e.parentNode)||e}if(y)try{return M.apply(n,v.querySelectorAll(y)),n}catch(t){}finally{h===_&&e.removeAttribute("id")}}}return l(t.replace(N,"$1"),e,n,o)}function at(){var t=[];return function e(i,o){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=o}}function rt(t){return t[_]=!0,t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var i=t.split("|"),o=i.length;o--;)n.attrHandle[i[o]]=e}function ht(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ct(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return rt((function(e){return e=+e,rt((function(i,n){for(var o,s=t([],i.length,e),a=s.length;a--;)i[o=s[a]]&&(i[o]=!(n[o]=i[o]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=st.support={},s=st.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=st.setDocument=function(t){var e,o,a=t?t.ownerDocument||t:x;return a!==p&&9===a.nodeType&&a.documentElement?(g=(p=a).documentElement,m=!s(p),x!==p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",nt,!1):o.attachEvent&&o.attachEvent("onunload",nt)),i.attributes=lt((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=lt((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=Y.test(p.getElementsByClassName),i.getById=lt((function(t){return g.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i,n,o,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(o=e.getElementsByName(t),n=0;s=o[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},y=[],f=[],(i.qsa=Y.test(p.querySelectorAll))&&(lt((function(t){g.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&f.push("[*^$]="+O+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||f.push("\\["+O+"*(?:value|"+D+")"),t.querySelectorAll("[id~="+_+"-]").length||f.push("~="),t.querySelectorAll(":checked").length||f.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||f.push(".#.+[+~]")})),lt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&f.push("name"+O+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&f.push(":enabled",":disabled"),g.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),f.push(",.*:")}))),(i.matchesSelector=Y.test(v=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.oMatchesSelector||g.msMatchesSelector))&&lt((function(t){i.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),y.push("!=",B)})),f=f.length&&new RegExp(f.join("|")),y=y.length&&new RegExp(y.join("|")),e=Y.test(g.compareDocumentPosition),b=e||Y.test(g.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===p||t.ownerDocument===x&&b(x,t)?-1:e===p||e.ownerDocument===x&&b(x,e)?1:h?A(h,t)-A(h,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var i,n=0,o=t.parentNode,s=e.parentNode,a=[t],r=[e];if(!o||!s)return t===p?-1:e===p?1:o?-1:s?1:h?A(h,t)-A(h,e):0;if(o===s)return ht(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)r.unshift(i);for(;a[n]===r[n];)n++;return n?ht(a[n],r[n]):a[n]===x?-1:r[n]===x?1:0},p):p},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&d(t),e=e.replace(U,"='$1']"),i.matchesSelector&&m&&!T[e+" "]&&(!y||!y.test(e))&&(!f||!f.test(e)))try{var n=v.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return st(e,p,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==p&&d(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==p&&d(t);var o=n.attrHandle[e.toLowerCase()],s=o&&W.call(n.attrHandle,e.toLowerCase())?o(t,e,!m):void 0;return void 0!==s?s:i.attributes||!m?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},st.escape=function(t){return(t+"").replace(et,it)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,n=[],o=0,s=0;if(c=!i.detectDuplicates,h=!i.sortStable&&t.slice(0),t.sort(I),c){for(;e=t[s++];)e===t[s]&&(o=n.push(s));for(;o--;)t.splice(n[o],1)}return h=null,t},o=st.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=o(e);return i},(n=st.selectors={cacheLength:50,createPseudo:rt,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&V.test(i)&&(e=a(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+O+")"+t+"("+O+"|$)"))&&C(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var o=st.attr(n,t);return null==o?"!="===e:!e||(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o.replace(R," ")+" ").indexOf(i)>-1:"|="===e&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,o){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var u,h,c,d,p,g,m=s!==a?"nextSibling":"previousSibling",f=e.parentNode,y=r&&e.nodeName.toLowerCase(),v=!l&&!r,b=!1;if(f){if(s){for(;m;){for(d=e;d=d[m];)if(r?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;g=m="only"===t&&!g&&"nextSibling"}return!0}if(g=[a?f.firstChild:f.lastChild],a&&v){for(b=(p=(u=(h=(c=(d=f)[_]||(d[_]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]||[])[0]===w&&u[1])&&u[2],d=p&&f.childNodes[p];d=++p&&d&&d[m]||(b=p=0)||g.pop();)if(1===d.nodeType&&++b&&d===e){h[t]=[w,p,b];break}}else if(v&&(b=p=(u=(h=(c=(d=e)[_]||(d[_]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]||[])[0]===w&&u[1]),!1===b)for(;(d=++p&&d&&d[m]||(b=p=0)||g.pop())&&((r?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++b||(v&&((h=(c=d[_]||(d[_]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]=[w,b]),d!==e)););return(b-=o)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,e){var i,o=n.pseudos[t]||n.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return o[_]?o(e):o.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?rt((function(t,i){for(var n,s=o(t,e),a=s.length;a--;)t[n=A(t,s[a])]=!(i[n]=s[a])})):function(t){return o(t,0,i)}):o}},pseudos:{not:rt((function(t){var e=[],i=[],n=r(t.replace(N,"$1"));return n[_]?rt((function(t,e,i,o){for(var s,a=n(t,null,o,[]),r=t.length;r--;)(s=a[r])&&(t[r]=!(e[r]=s))})):function(t,o,s){return e[0]=t,n(e,null,s,i),e[0]=null,!i.pop()}})),has:rt((function(t){return function(e){return st(t,e).length>0}})),contains:rt((function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||o(e)).indexOf(t)>-1}})),lang:rt((function(t){return G.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var i;do{if(i=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===g},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,i){return[i<0?i+e:i]})),even:gt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:gt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:gt((function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t})),gt:gt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ct(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=dt(e);function ft(){}function yt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function vt(t,e,i){var n=e.dir,o=e.next,s=o||n,a=i&&"parentNode"===s,r=E++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,o);return!1}:function(e,i,l){var u,h,c,d=[w,r];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(h=(c=e[_]||(e[_]={}))[e.uniqueID]||(c[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[n]||e;else{if((u=h[s])&&u[0]===w&&u[1]===r)return d[2]=u[2];if(h[s]=d,d[2]=t(e,i,l))return!0}return!1}}function bt(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function _t(t,e,i,n,o){for(var s,a=[],r=0,l=t.length,u=null!=e;r<l;r++)(s=t[r])&&(i&&!i(s,n,o)||(a.push(s),u&&e.push(r)));return a}function xt(t,e,i,n,o,s){return n&&!n[_]&&(n=xt(n)),o&&!o[_]&&(o=xt(o,s)),rt((function(s,a,r,l){var u,h,c,d=[],p=[],g=a.length,m=s||function(t,e,i){for(var n=0,o=e.length;n<o;n++)st(t,e[n],i);return i}(e||"*",r.nodeType?[r]:r,[]),f=!t||!s&&e?m:_t(m,d,t,r,l),y=i?o||(s?t:g||n)?[]:a:f;if(i&&i(f,y,r,l),n)for(u=_t(y,p),n(u,[],r,l),h=u.length;h--;)(c=u[h])&&(y[p[h]]=!(f[p[h]]=c));if(s){if(o||t){if(o){for(u=[],h=y.length;h--;)(c=y[h])&&u.push(f[h]=c);o(null,y=[],u,l)}for(h=y.length;h--;)(c=y[h])&&(u=o?A(s,c):d[h])>-1&&(s[u]=!(a[u]=c))}}else y=_t(y===a?y.splice(g,y.length):y),o?o(null,a,y,l):M.apply(a,y)}))}function wt(t){for(var e,i,o,s=t.length,a=n.relative[t[0].type],r=a||n.relative[" "],l=a?1:0,h=vt((function(t){return t===e}),r,!0),c=vt((function(t){return A(e,t)>-1}),r,!0),d=[function(t,i,n){var o=!a&&(n||i!==u)||((e=i).nodeType?h(t,i,n):c(t,i,n));return e=null,o}];l<s;l++)if(i=n.relative[t[l].type])d=[vt(bt(d),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[_]){for(o=++l;o<s&&!n.relative[t[o].type];o++);return xt(l>1&&bt(d),l>1&&yt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(N,"$1"),i,l<o&&wt(t.slice(l,o)),o<s&&wt(t=t.slice(o)),o<s&&yt(t))}d.push(i)}return bt(d)}return ft.prototype=n.filters=n.pseudos,n.setFilters=new ft,a=st.tokenize=function(t,e){var i,o,s,a,r,l,u,h=L[t+" "];if(h)return e?0:h.slice(0);for(r=t,l=[],u=n.preFilter;r;){for(a in i&&!(o=j.exec(r))||(o&&(r=r.slice(o[0].length)||r),l.push(s=[])),i=!1,(o=H.exec(r))&&(i=o.shift(),s.push({value:i,type:o[0].replace(N," ")}),r=r.slice(i.length)),n.filter)!(o=K[a].exec(r))||u[a]&&!(o=u[a](o))||(i=o.shift(),s.push({value:i,type:a,matches:o}),r=r.slice(i.length));if(!i)break}return e?r.length:r?st.error(t):L(t,l).slice(0)},r=st.compile=function(t,e){var i,o=[],s=[],r=T[t+" "];if(!r){for(e||(e=a(t)),i=e.length;i--;)(r=wt(e[i]))[_]?o.push(r):s.push(r);(r=T(t,function(t,e){var i=e.length>0,o=t.length>0,s=function(s,a,r,l,h){var c,g,f,y=0,v="0",b=s&&[],_=[],x=u,E=s||o&&n.find.TAG("*",h),C=w+=null==x?1:Math.random()||.1,L=E.length;for(h&&(u=a===p||a||h);v!==L&&null!=(c=E[v]);v++){if(o&&c){for(g=0,a||c.ownerDocument===p||(d(c),r=!m);f=t[g++];)if(f(c,a||p,r)){l.push(c);break}h&&(w=C)}i&&((c=!f&&c)&&y--,s&&b.push(c))}if(y+=v,i&&v!==y){for(g=0;f=e[g++];)f(b,_,a,r);if(s){if(y>0)for(;v--;)b[v]||_[v]||(_[v]=$.call(l));_=_t(_)}M.apply(l,_),h&&!s&&_.length>0&&y+e.length>1&&st.uniqueSort(l)}return h&&(w=C,u=x),b};return i?rt(s):s}(s,o))).selector=t}return r},l=st.select=function(t,e,i,o){var s,l,u,h,c,d="function"==typeof t&&t,p=!o&&a(t=d.selector||t);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&m&&n.relative[l[1].type]){if(!(e=(n.find.ID(u.matches[0].replace(Q,tt),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(s=K.needsContext.test(t)?0:l.length;s--&&(u=l[s],!n.relative[h=u.type]);)if((c=n.find[h])&&(o=c(u.matches[0].replace(Q,tt),J.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(s,1),!(t=o.length&&yt(l)))return M.apply(i,o),i;break}}return(d||r(t,p))(o,e,!m,i,!e||J.test(t)&&mt(e.parentNode)||e),i},i.sortStable=_.split("").sort(I).join("")===_,i.detectDuplicates=!!c,d(),i.sortDetached=lt((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),lt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ut("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&lt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ut("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),lt((function(t){return null==t.getAttribute("disabled")}))||ut(D,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),st}(i);E.find=T,E.expr=T.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=T.uniqueSort,E.text=T.getText,E.isXMLDoc=T.isXML,E.contains=T.contains,E.escapeSelector=T.escape;var I=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&E(t).is(i))break;n.push(t)}return n},W=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},S=E.expr.match.needsContext;function $(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(t,e,i){return v(e)?E.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?E.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?E.grep(t,(function(t){return c.call(e,t)>-1!==i})):E.filter(e,t,i)}E.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?E.find.matchesSelector(n,t)?[n]:[]:E.find.matches(t,E.grep(e,(function(t){return 1===t.nodeType})))},E.fn.extend({find:function(t){var e,i,n=this.length,o=this;if("string"!=typeof t)return this.pushStack(E(t).filter((function(){for(e=0;e<n;e++)if(E.contains(o[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)E.find(t,o[e],i);return n>1?E.uniqueSort(i):i},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&S.test(t)?E(t):t||[],!1).length}});var P,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||P,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:A.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),k.test(n[1])&&E.isPlainObject(e))for(n in e)v(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(o=a.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==i.ready?i.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,P=E(a);var D=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function F(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(E.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,o=this.length,s=[],a="string"!=typeof t&&E(t);if(!S.test(t))for(;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&E.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?E.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?c.call(E(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,i){return I(t,"parentNode",i)},next:function(t){return F(t,"nextSibling")},prev:function(t){return F(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,i){return I(t,"nextSibling",i)},prevUntil:function(t,e,i){return I(t,"previousSibling",i)},siblings:function(t){return W((t.parentNode||{}).firstChild,t)},children:function(t){return W(t.firstChild)},contents:function(t){return $(t,"iframe")?t.contentDocument:($(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},(function(t,e){E.fn[t]=function(i,n){var o=E.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=E.filter(n,o)),this.length>1&&(O[t]||E.uniqueSort(o),D.test(t)&&o.reverse()),this.pushStack(o)}}));var z=/[^\x20\t\r\n\f]+/g;function B(t){return t}function R(t){throw t}function N(t,e,i,n){var o;try{t&&v(o=t.promise)?o.call(t).done(e).fail(i):t&&v(o=t.then)?o.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(z)||[],(function(t,i){e[i]=!0})),e}(t):E.extend({},t);var e,i,n,o,s=[],a=[],r=-1,l=function(){for(o=o||t.once,n=e=!0;a.length;r=-1)for(i=a.shift();++r<s.length;)!1===s[r].apply(i[0],i[1])&&t.stopOnFalse&&(r=s.length,i=!1);t.memory||(i=!1),e=!1,o&&(s=i?[]:"")},u={add:function(){return s&&(i&&!e&&(r=s.length-1,a.push(i)),function e(i){E.each(i,(function(i,n){v(n)?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==w(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return E.each(arguments,(function(t,e){for(var i;(i=E.inArray(e,s,i))>-1;)s.splice(i,1),i<=r&&r--})),this},has:function(t){return t?E.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=a=[],i||e||(s=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return E.Deferred((function(i){E.each(e,(function(e,n){var o=v(t[n[4]])&&t[n[4]];s[n[1]]((function(){var t=o&&o.apply(this,arguments);t&&v(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,o){var s=0;function a(t,e,n,o){return function(){var r=this,l=arguments,u=function(){var i,u;if(!(t<s)){if((i=n.apply(r,l))===e.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(u)?o?u.call(i,a(s,e,B,o),a(s,e,R,o)):(s++,u.call(i,a(s,e,B,o),a(s,e,R,o),a(s,e,B,e.notifyWith))):(n!==B&&(r=void 0,l=[i]),(o||e.resolveWith)(r,l))}},h=o?u:function(){try{u()}catch(i){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(i,h.stackTrace),t+1>=s&&(n!==R&&(r=void 0,l=[i]),e.rejectWith(r,l))}};t?h():(E.Deferred.getStackHook&&(h.stackTrace=E.Deferred.getStackHook()),i.setTimeout(h))}}return E.Deferred((function(i){e[0][3].add(a(0,i,v(o)?o:B,i.notifyWith)),e[1][3].add(a(0,i,v(t)?t:B)),e[2][3].add(a(0,i,v(n)?n:R))})).promise()},promise:function(t){return null!=t?E.extend(t,o):o}},s={};return E.each(e,(function(t,i){var a=i[2],r=i[5];o[i[1]]=a.add,r&&a.add((function(){n=r}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=a.fireWith})),o.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),o=l.call(arguments),s=E.Deferred(),a=function(t){return function(i){n[t]=this,o[t]=arguments.length>1?l.call(arguments):i,--e||s.resolveWith(n,o)}};if(e<=1&&(N(t,s.done(a(i)).resolve,s.reject,!e),"pending"===s.state()||v(o[i]&&o[i].then)))return s.then();for(;i--;)N(o[i],a(i),s.reject);return s.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&j.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){i.setTimeout((function(){throw t}))};var H=E.Deferred();function U(){a.removeEventListener("DOMContentLoaded",U),i.removeEventListener("load",U),E.ready()}E.fn.ready=function(t){return H.then(t).catch((function(t){E.readyException(t)})),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||H.resolveWith(a,[E]))}}),E.ready.then=H.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?i.setTimeout(E.ready):(a.addEventListener("DOMContentLoaded",U),i.addEventListener("load",U));var V=function(t,e,i,n,o,s,a){var r=0,l=t.length,u=null==i;if("object"===w(i))for(r in o=!0,i)V(t,e,r,i[r],!0,s,a);else if(void 0!==n&&(o=!0,v(n)||(a=!0),u&&(a?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(E(t),i)})),e))for(;r<l;r++)e(t[r],i,a?n:n.call(t[r],r,e(t[r],i)));return o?t:u?e.call(t):l?e(t[0],i):s},G=/^-ms-/,K=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function Z(t){return t.replace(G,"ms-").replace(K,q)}var Y=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=E.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Y(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[Z(e)]=i;else for(n in e)o[Z(n)]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Z(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(Z):(e=Z(e))in n?[e]:e.match(z)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||E.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var J=new X,Q=new X,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function it(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(i)}catch(t){}Q.set(t,e,i)}else i=void 0;return i}E.extend({hasData:function(t){return Q.hasData(t)||J.hasData(t)},data:function(t,e,i){return Q.access(t,e,i)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,i){return J.access(t,e,i)},_removeData:function(t,e){J.remove(t,e)}}),E.fn.extend({data:function(t,e){var i,n,o,s=this[0],a=s&&s.attributes;if(void 0===t){if(this.length&&(o=Q.get(s),1===s.nodeType&&!J.get(s,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=Z(n.slice(5)),it(s,n,o[n]));J.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){Q.set(this,t)})):V(this,(function(e){var i;if(s&&void 0===e)return void 0!==(i=Q.get(s,t))||void 0!==(i=it(s,t))?i:void 0;this.each((function(){Q.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Q.remove(this,t)}))}}),E.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=J.get(t,e),i&&(!n||Array.isArray(i)?n=J.access(t,e,E.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=E.queue(t,e),n=i.length,o=i.shift(),s=E._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,(function(){E.dequeue(t,e)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return J.get(t,i)||J.access(t,i,{empty:E.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",i])}))})}}),E.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?E.queue(this[0],t):void 0===e?this:this.each((function(){var i=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&E.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){E.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=E.Deferred(),s=this,a=this.length,r=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=J.get(s[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),o.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&E.contains(t.ownerDocument,t)&&"none"===E.css(t,"display")},rt=function(t,e,i,n){var o,s,a={};for(s in e)a[s]=t.style[s],t.style[s]=e[s];for(s in o=i.apply(t,n||[]),e)t.style[s]=a[s];return o};function lt(t,e,i,n){var o,s,a=20,r=n?function(){return n.cur()}:function(){return E.css(t,e,"")},l=r(),u=i&&i[3]||(E.cssNumber[e]?"":"px"),h=(E.cssNumber[e]||"px"!==u&&+l)&&ot.exec(E.css(t,e));if(h&&h[3]!==u){for(l/=2,u=u||h[3],h=+l||1;a--;)E.style(t,e,h+u),(1-s)*(1-(s=r()/l||.5))<=0&&(a=0),h/=s;h*=2,E.style(t,e,h+u),i=i||[]}return i&&(h=+h||+l||0,o=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=h,n.end=o)),o}var ut={};function ht(t){var e,i=t.ownerDocument,n=t.nodeName,o=ut[n];return o||(e=i.body.appendChild(i.createElement(n)),o=E.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),ut[n]=o,o)}function ct(t,e){for(var i,n,o=[],s=0,a=t.length;s<a;s++)(n=t[s]).style&&(i=n.style.display,e?("none"===i&&(o[s]=J.get(n,"display")||null,o[s]||(n.style.display="")),""===n.style.display&&at(n)&&(o[s]=ht(n))):"none"!==i&&(o[s]="none",J.set(n,"display",i)));for(s=0;s<a;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}E.fn.extend({show:function(){return ct(this,!0)},hide:function(){return ct(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){at(this)?E(this).show():E(this).hide()}))}});var dt=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,gt=/^$|^module$|\/(?:java|ecma)script/i,mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ft(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&$(t,e)?E.merge([t],i):i}function yt(t,e){for(var i=0,n=t.length;i<n;i++)J.set(t[i],"globalEval",!e||J.get(e[i],"globalEval"))}mt.optgroup=mt.option,mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td;var vt,bt,_t=/<|&#?\w+;/;function xt(t,e,i,n,o){for(var s,a,r,l,u,h,c=e.createDocumentFragment(),d=[],p=0,g=t.length;p<g;p++)if((s=t[p])||0===s)if("object"===w(s))E.merge(d,s.nodeType?[s]:s);else if(_t.test(s)){for(a=a||c.appendChild(e.createElement("div")),r=(pt.exec(s)||["",""])[1].toLowerCase(),l=mt[r]||mt._default,a.innerHTML=l[1]+E.htmlPrefilter(s)+l[2],h=l[0];h--;)a=a.lastChild;E.merge(d,a.childNodes),(a=c.firstChild).textContent=""}else d.push(e.createTextNode(s));for(c.textContent="",p=0;s=d[p++];)if(n&&E.inArray(s,n)>-1)o&&o.push(s);else if(u=E.contains(s.ownerDocument,s),a=ft(c.appendChild(s),"script"),u&&yt(a),i)for(h=0;s=a[h++];)gt.test(s.type||"")&&i.push(s);return c}vt=a.createDocumentFragment().appendChild(a.createElement("div")),(bt=a.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),vt.appendChild(bt),y.checkClone=vt.cloneNode(!0).cloneNode(!0).lastChild.checked,vt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!vt.cloneNode(!0).lastChild.defaultValue;var wt=a.documentElement,Et=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Lt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function It(){return!1}function Wt(){try{return a.activeElement}catch(t){}}function St(t,e,i,n,o,s){var a,r;if("object"==typeof e){for(r in"string"!=typeof i&&(n=n||i,i=void 0),e)St(t,r,i,n,e[r],s);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=It;else if(!o)return t;return 1===s&&(a=o,(o=function(t){return E().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),t.each((function(){E.event.add(this,e,o,n,i)}))}E.event={global:{},add:function(t,e,i,n,o){var s,a,r,l,u,h,c,d,p,g,m,f=J.get(t);if(f)for(i.handler&&(i=(s=i).handler,o=s.selector),o&&E.find.matchesSelector(wt,o),i.guid||(i.guid=E.guid++),(l=f.events)||(l=f.events={}),(a=f.handle)||(a=f.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(z)||[""]).length;u--;)p=m=(r=Lt.exec(e[u])||[])[1],g=(r[2]||"").split(".").sort(),p&&(c=E.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=E.event.special[p]||{},h=E.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:g.join(".")},s),(d=l[p])||((d=l[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,n,g,a)||t.addEventListener&&t.addEventListener(p,a)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),E.event.global[p]=!0)},remove:function(t,e,i,n,o){var s,a,r,l,u,h,c,d,p,g,m,f=J.hasData(t)&&J.get(t);if(f&&(l=f.events)){for(u=(e=(e||"").match(z)||[""]).length;u--;)if(p=m=(r=Lt.exec(e[u])||[])[1],g=(r[2]||"").split(".").sort(),p){for(c=E.event.special[p]||{},d=l[p=(n?c.delegateType:c.bindType)||p]||[],r=r[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=d.length;s--;)h=d[s],!o&&m!==h.origType||i&&i.guid!==h.guid||r&&!r.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(s,1),h.selector&&d.delegateCount--,c.remove&&c.remove.call(t,h));a&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,g,f.handle)||E.removeEvent(t,p,f.handle),delete l[p])}else for(p in l)E.event.remove(t,p+e[u],i,n,!0);E.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,i,n,o,s,a,r=E.event.fix(t),l=new Array(arguments.length),u=(J.get(this,"events")||{})[r.type]||[],h=E.event.special[r.type]||{};for(l[0]=r,e=1;e<arguments.length;e++)l[e]=arguments[e];if(r.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,r)){for(a=E.event.handlers.call(this,r,u),e=0;(o=a[e++])&&!r.isPropagationStopped();)for(r.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!r.rnamespace.test(s.namespace)||(r.handleObj=s,r.data=s.data,void 0!==(n=((E.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))&&!1===(r.result=n)&&(r.preventDefault(),r.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,r),r.result}},handlers:function(t,e){var i,n,o,s,a,r=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(s=[],a={},i=0;i<l;i++)void 0===a[o=(n=e[i]).selector+" "]&&(a[o]=n.needsContext?E(o,this).index(u)>-1:E.find(o,this,null,[u]).length),a[o]&&s.push(n);s.length&&r.push({elem:u,handlers:s})}return u=this,l<e.length&&r.push({elem:u,handlers:e.slice(l)}),r},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Wt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Wt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&$(this,"input"))return this.click(),!1},_default:function(t){return $(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:It,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:It,isPropagationStopped:It,isImmediatePropagationStopped:It,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Et.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===n||E.contains(n,o))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}})),E.fn.extend({on:function(t,e,i,n){return St(this,t,e,i,n)},one:function(t,e,i,n){return St(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,E(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=It),this.each((function(){E.event.remove(this,t,i,e)}))}});var $t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,kt=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function At(t,e){return $(t,"table")&&$(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Dt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ot(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var i,n,o,s,a,r,l,u;if(1===e.nodeType){if(J.hasData(t)&&(s=J.access(t),a=J.set(e,s),u=s.events))for(o in delete a.handle,a.events={},u)for(i=0,n=u[o].length;i<n;i++)E.event.add(e,o,u[o][i]);Q.hasData(t)&&(r=Q.access(t),l=E.extend({},r),Q.set(e,l))}}function zt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&dt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Bt(t,e,i,n){e=u.apply([],e);var o,s,a,r,l,h,c=0,d=t.length,p=d-1,g=e[0],m=v(g);if(m||d>1&&"string"==typeof g&&!y.checkClone&&Mt.test(g))return t.each((function(o){var s=t.eq(o);m&&(e[0]=g.call(this,o,s.html())),Bt(s,e,i,n)}));if(d&&(s=(o=xt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===o.childNodes.length&&(o=s),s||n)){for(r=(a=E.map(ft(o,"script"),Dt)).length;c<d;c++)l=o,c!==p&&(l=E.clone(l,!0,!0),r&&E.merge(a,ft(l,"script"))),i.call(t[c],l,c);if(r)for(h=a[a.length-1].ownerDocument,E.map(a,Ot),c=0;c<r;c++)l=a[c],gt.test(l.type||"")&&!J.access(l,"globalEval")&&E.contains(h,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&E._evalUrl(l.src):x(l.textContent.replace(Pt,""),h,l))}return t}function Rt(t,e,i){for(var n,o=e?E.filter(e,t):t,s=0;null!=(n=o[s]);s++)i||1!==n.nodeType||E.cleanData(ft(n)),n.parentNode&&(i&&E.contains(n.ownerDocument,n)&&yt(ft(n,"script")),n.parentNode.removeChild(n));return t}E.extend({htmlPrefilter:function(t){return t.replace($t,"<$1></$2>")},clone:function(t,e,i){var n,o,s,a,r=t.cloneNode(!0),l=E.contains(t.ownerDocument,t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(a=ft(r),n=0,o=(s=ft(t)).length;n<o;n++)zt(s[n],a[n]);if(e)if(i)for(s=s||ft(t),a=a||ft(r),n=0,o=s.length;n<o;n++)Ft(s[n],a[n]);else Ft(t,r);return(a=ft(r,"script")).length>0&&yt(a,!l&&ft(t,"script")),r},cleanData:function(t){for(var e,i,n,o=E.event.special,s=0;void 0!==(i=t[s]);s++)if(Y(i)){if(e=i[J.expando]){if(e.events)for(n in e.events)o[n]?E.event.remove(i,n):E.removeEvent(i,n,e.handle);i[J.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),E.fn.extend({detach:function(t){return Rt(this,t,!0)},remove:function(t){return Rt(this,t)},text:function(t){return V(this,(function(t){return void 0===t?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||At(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=At(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(ft(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return E.clone(this,t,e)}))},html:function(t){return V(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!kt.test(t)&&!mt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(E.cleanData(ft(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var i=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(ft(this)),i&&i.replaceChild(e,this))}),t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){E.fn[t]=function(t){for(var i,n=[],o=E(t),s=o.length-1,a=0;a<=s;a++)i=a===s?this:this.clone(!0),E(o[a])[e](i),h.apply(n,i.get());return this.pushStack(n)}}));var Nt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),jt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Ht=new RegExp(st.join("|"),"i");function Ut(t,e,i){var n,o,s,a,r=t.style;return(i=i||jt(t))&&(""!==(a=i.getPropertyValue(e)||i[e])||E.contains(t.ownerDocument,t)||(a=E.style(t,e)),!y.pixelBoxStyles()&&Nt.test(a)&&Ht.test(e)&&(n=r.width,o=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=i.width,r.width=n,r.minWidth=o,r.maxWidth=s)),void 0!==a?a+"":a}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(h){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wt.appendChild(u).appendChild(h);var t=i.getComputedStyle(h);n="1%"!==t.top,l=12===e(t.marginLeft),h.style.right="60%",r=36===e(t.right),o=36===e(t.width),h.style.position="absolute",s=36===h.offsetWidth||"absolute",wt.removeChild(u),h=null}}function e(t){return Math.round(parseFloat(t))}var n,o,s,r,l,u=a.createElement("div"),h=a.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===h.style.backgroundClip,E.extend(y,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s}}))}();var Gt=/^(none|table(?!-c[ea]).+)/,Kt=/^--/,qt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","Moz","ms"],Xt=a.createElement("div").style;function Jt(t){var e=E.cssProps[t];return e||(e=E.cssProps[t]=function(t){if(t in Xt)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Yt.length;i--;)if((t=Yt[i]+e)in Xt)return t}(t)||t),e}function Qt(t,e,i){var n=ot.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function te(t,e,i,n,o,s){var a="width"===e?1:0,r=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=E.css(t,i+st[a],!0,o)),n?("content"===i&&(l-=E.css(t,"padding"+st[a],!0,o)),"margin"!==i&&(l-=E.css(t,"border"+st[a]+"Width",!0,o))):(l+=E.css(t,"padding"+st[a],!0,o),"padding"!==i?l+=E.css(t,"border"+st[a]+"Width",!0,o):r+=E.css(t,"border"+st[a]+"Width",!0,o));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-r-.5))),l}function ee(t,e,i){var n=jt(t),o=Ut(t,e,n),s="border-box"===E.css(t,"boxSizing",!1,n),a=s;if(Nt.test(o)){if(!i)return o;o="auto"}return a=a&&(y.boxSizingReliable()||o===t.style[e]),("auto"===o||!parseFloat(o)&&"inline"===E.css(t,"display",!1,n))&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(o=parseFloat(o)||0)+te(t,e,i||(s?"border":"content"),a,n,o)+"px"}function ie(t,e,i,n,o){return new ie.prototype.init(t,e,i,n,o)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ut(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,r=Z(e),l=Kt.test(e),u=t.style;if(l||(e=Jt(r)),a=E.cssHooks[e]||E.cssHooks[r],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(t,!1,n))?o:u[e];"string"===(s=typeof i)&&(o=ot.exec(i))&&o[1]&&(i=lt(t,e,o),s="number"),null!=i&&i==i&&("number"===s&&(i+=o&&o[3]||(E.cssNumber[r]?"":"px")),y.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?u.setProperty(e,i):u[e]=i))}},css:function(t,e,i,n){var o,s,a,r=Z(e);return Kt.test(e)||(e=Jt(r)),(a=E.cssHooks[e]||E.cssHooks[r])&&"get"in a&&(o=a.get(t,!0,i)),void 0===o&&(o=Ut(t,e,n)),"normal"===o&&e in Zt&&(o=Zt[e]),""===i||i?(s=parseFloat(o),!0===i||isFinite(s)?s||0:o):o}}),E.each(["height","width"],(function(t,e){E.cssHooks[e]={get:function(t,i,n){if(i)return!Gt.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,n):rt(t,qt,(function(){return ee(t,e,n)}))},set:function(t,i,n){var o,s=jt(t),a="border-box"===E.css(t,"boxSizing",!1,s),r=n&&te(t,e,n,a,s);return a&&y.scrollboxSize()===s.position&&(r-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,"border",!1,s)-.5)),r&&(o=ot.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=E.css(t,e)),Qt(0,i,r)}}})),E.cssHooks.marginLeft=Vt(y.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-rt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(t,e){E.cssHooks[t+e]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+st[n]+e]=s[n]||s[n-2]||s[0];return o}},"margin"!==t&&(E.cssHooks[t+e].set=Qt)})),E.fn.extend({css:function(t,e){return V(this,(function(t,e,i){var n,o,s={},a=0;if(Array.isArray(e)){for(n=jt(t),o=e.length;a<o;a++)s[e[a]]=E.css(t,e[a],!1,n);return s}return void 0!==i?E.style(t,e,i):E.css(t,e)}),t,e,arguments.length>1)}}),E.Tween=ie,ie.prototype={constructor:ie,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(E.cssNumber[i]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,i=ie.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ie.propHooks._default.set(this),this}},ie.prototype.init.prototype=ie.prototype,ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[E.cssProps[t.prop]]&&!E.cssHooks[t.prop]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},ie.propHooks.scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=ie.prototype.init,E.fx.step={};var ne,oe,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;function re(){oe&&(!1===a.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(re):i.setTimeout(re,E.fx.interval),E.fx.tick())}function le(){return i.setTimeout((function(){ne=void 0})),ne=Date.now()}function ue(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=st[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function he(t,e,i){for(var n,o=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),s=0,a=o.length;s<a;s++)if(n=o[s].call(i,e,t))return n}function ce(t,e,i){var n,o,s=0,a=ce.prefilters.length,r=E.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=ne||le(),i=Math.max(0,u.startTime+u.duration-e),n=1-(i/u.duration||0),s=0,a=u.tweens.length;s<a;s++)u.tweens[s].run(n);return r.notifyWith(t,[u,n,i]),n<1&&a?i:(a||r.notifyWith(t,[u,1,0]),r.resolveWith(t,[u]),!1)},u=r.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},i),originalProperties:e,originalOptions:i,startTime:ne||le(),duration:i.duration,tweens:[],createTween:function(e,i){var n=E.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)u.tweens[i].run(1);return e?(r.notifyWith(t,[u,1,0]),r.resolveWith(t,[u,e])):r.rejectWith(t,[u,e]),this}}),h=u.props;for(!function(t,e){var i,n,o,s,a;for(i in t)if(o=e[n=Z(i)],s=t[i],Array.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(a=E.cssHooks[n])&&"expand"in a)for(i in s=a.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=o);else e[n]=o}(h,u.opts.specialEasing);s<a;s++)if(n=ce.prefilters[s].call(u,t,h,u.opts))return v(n.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return E.map(h,he,u),v(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(ce,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return lt(i.elem,t,ot.exec(e),i),i}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(z);for(var i,n=0,o=t.length;n<o;n++)i=t[n],ce.tweeners[i]=ce.tweeners[i]||[],ce.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,o,s,a,r,l,u,h,c="width"in e||"height"in e,d=this,p={},g=t.style,m=t.nodeType&&at(t),f=J.get(t,"fxshow");for(n in i.queue||(null==(a=E._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,r=a.empty.fire,a.empty.fire=function(){a.unqueued||r()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,E.queue(t,"fx").length||a.empty.fire()}))}))),e)if(o=e[n],se.test(o)){if(delete e[n],s=s||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!f||void 0===f[n])continue;m=!0}p[n]=f&&f[n]||E.style(t,n)}if((l=!E.isEmptyObject(e))||!E.isEmptyObject(p))for(n in c&&1===t.nodeType&&(i.overflow=[g.overflow,g.overflowX,g.overflowY],null==(u=f&&f.display)&&(u=J.get(t,"display")),"none"===(h=E.css(t,"display"))&&(u?h=u:(ct([t],!0),u=t.style.display||u,h=E.css(t,"display"),ct([t]))),("inline"===h||"inline-block"===h&&null!=u)&&"none"===E.css(t,"float")&&(l||(d.done((function(){g.display=u})),null==u&&(h=g.display,u="none"===h?"":h)),g.display="inline-block")),i.overflow&&(g.overflow="hidden",d.always((function(){g.overflow=i.overflow[0],g.overflowX=i.overflow[1],g.overflowY=i.overflow[2]}))),l=!1,p)l||(f?"hidden"in f&&(m=f.hidden):f=J.access(t,"fxshow",{display:u}),s&&(f.hidden=!m),m&&ct([t],!0),d.done((function(){for(n in m||ct([t]),J.remove(t,"fxshow"),p)E.style(t,n,p[n])}))),l=he(m?f[n]:0,n,d),n in f||(f[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),E.speed=function(t,e,i){var n=t&&"object"==typeof t?E.extend({},t):{complete:i||!i&&e||v(t)&&t,duration:t,easing:i&&e||e&&!v(e)&&e};return E.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in E.fx.speeds?n.duration=E.fx.speeds[n.duration]:n.duration=E.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&E.dequeue(this,n.queue)},n},E.fn.extend({fadeTo:function(t,e,i,n){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=E.isEmptyObject(t),s=E.speed(e,i,n),a=function(){var e=ce(this,E.extend({},t),s);(o||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",s=E.timers,a=J.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&ae.test(o)&&n(a[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(i),e=!1,s.splice(o,1));!e&&i||E.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=J.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],s=E.timers,a=n?n.length:0;for(i.finish=!0,E.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),E.each(["toggle","show","hide"],(function(t,e){var i=E.fn[e];E.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ue(e,!0),t,n,o)}})),E.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){E.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),E.timers=[],E.fx.tick=function(){var t,e=0,i=E.timers;for(ne=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||E.fx.stop(),ne=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){oe||(oe=!0,re())},E.fx.stop=function(){oe=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var o=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(o)}}))},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var de,pe=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return V(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){E.removeAttr(this,t)}))}}),E.extend({attr:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?E.prop(t,e,i):(1===s&&E.isXMLDoc(t)||(o=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?de:void 0)),void 0!==i?null===i?void E.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:null==(n=E.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&$(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,o=e&&e.match(z);if(o&&1===t.nodeType)for(;i=o[n++];)t.removeAttribute(i)}}),de={set:function(t,e,i){return!1===e?E.removeAttr(t,i):t.setAttribute(i,i),i}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=pe[e]||E.find.attr;pe[e]=function(t,e,n){var o,s,a=e.toLowerCase();return n||(s=pe[a],pe[a]=o,o=null!=i(t,e,n)?a:null,pe[a]=s),o}}));var ge=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function fe(t){return(t.match(z)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(z)||[]}E.fn.extend({prop:function(t,e){return V(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[E.propFix[t]||t]}))}}),E.extend({prop:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&E.isXMLDoc(t)||(e=E.propFix[e]||e,o=E.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(t){var e,i,n,o,s,a,r,l=0;if(v(t))return this.each((function(e){E(this).addClass(t.call(this,e,ye(this)))}));if((e=ve(t)).length)for(;i=this[l++];)if(o=ye(i),n=1===i.nodeType&&" "+fe(o)+" "){for(a=0;s=e[a++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");o!==(r=fe(n))&&i.setAttribute("class",r)}return this},removeClass:function(t){var e,i,n,o,s,a,r,l=0;if(v(t))return this.each((function(e){E(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;i=this[l++];)if(o=ye(i),n=1===i.nodeType&&" "+fe(o)+" "){for(a=0;s=e[a++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");o!==(r=fe(n))&&i.setAttribute("class",r)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(i){E(this).toggleClass(t.call(this,i,ye(this),e),e)})):this.each((function(){var e,o,s,a;if(n)for(o=0,s=E(this),a=ve(t);e=a[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==i||((e=ye(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+fe(ye(i))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;E.fn.extend({val:function(t){var e,i,n,o=this[0];return arguments.length?(n=v(t),this.each((function(i){var o;1===this.nodeType&&(null==(o=n?t.call(this,i,E(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=E.map(o,(function(t){return null==t?"":t+""}))),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=E.valHooks[o.type]||E.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(be,""):null==i?"":i:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:fe(E.text(t))}},select:{get:function(t){var e,i,n,o=t.options,s=t.selectedIndex,a="select-one"===t.type,r=a?null:[],l=a?s+1:o.length;for(n=s<0?l:a?s:0;n<l;n++)if(((i=o[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!$(i.parentNode,"optgroup"))){if(e=E(i).val(),a)return e;r.push(e)}return r},set:function(t,e){for(var i,n,o=t.options,s=E.makeArray(e),a=o.length;a--;)((n=o[a]).selected=E.inArray(E.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},y.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),y.focusin="onfocusin"in i;var _e=/^(?:focusinfocus|focusoutblur)$/,xe=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,n,o){var s,r,l,u,h,c,d,p,m=[n||a],f=g.call(t,"type")?t.type:t,y=g.call(t,"namespace")?t.namespace.split("."):[];if(r=p=l=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!_e.test(f+E.event.triggered)&&(f.indexOf(".")>-1&&(y=f.split("."),f=y.shift(),y.sort()),h=f.indexOf(":")<0&&"on"+f,(t=t[E.expando]?t:new E.Event(f,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:E.makeArray(e,[t]),d=E.event.special[f]||{},o||!d.trigger||!1!==d.trigger.apply(n,e))){if(!o&&!d.noBubble&&!b(n)){for(u=d.delegateType||f,_e.test(u+f)||(r=r.parentNode);r;r=r.parentNode)m.push(r),l=r;l===(n.ownerDocument||a)&&m.push(l.defaultView||l.parentWindow||i)}for(s=0;(r=m[s++])&&!t.isPropagationStopped();)p=r,t.type=s>1?u:d.bindType||f,(c=(J.get(r,"events")||{})[t.type]&&J.get(r,"handle"))&&c.apply(r,e),(c=h&&r[h])&&c.apply&&Y(r)&&(t.result=c.apply(r,e),!1===t.result&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),e)||!Y(n)||h&&v(n[f])&&!b(n)&&((l=n[h])&&(n[h]=null),E.event.triggered=f,t.isPropagationStopped()&&p.addEventListener(f,xe),n[f](),t.isPropagationStopped()&&p.removeEventListener(f,xe),E.event.triggered=void 0,l&&(n[h]=l)),t.result}},simulate:function(t,e,i){var n=E.extend(new E.Event,i,{type:t,isSimulated:!0});E.event.trigger(n,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each((function(){E.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return E.event.trigger(t,e,i,!0)}}),y.focusin||E.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=J.access(n,e);o||n.addEventListener(t,i,!0),J.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=J.access(n,e)-1;o?J.access(n,e,o):(n.removeEventListener(t,i,!0),J.remove(n,e))}}}));var we=i.location,Ee=Date.now(),Ce=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Le=/\[\]$/,Te=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,We=/^(?:input|select|textarea|keygen)/i;function Se(t,e,i,n){var o;if(Array.isArray(e))E.each(e,(function(e,o){i||Le.test(t)?n(t,o):Se(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)}));else if(i||"object"!==w(e))n(t,e);else for(o in e)Se(t+"["+o+"]",e[o],i,n)}E.param=function(t,e){var i,n=[],o=function(t,e){var i=v(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,(function(){o(this.name,this.value)}));else for(i in t)Se(i,t[i],e,o);return n.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&We.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!dt.test(t))})).map((function(t,e){var i=E(this).val();return null==i?null:Array.isArray(i)?E.map(i,(function(t){return{name:e.name,value:t.replace(Te,"\r\n")}})):{name:e.name,value:i.replace(Te,"\r\n")}})).get()}});var $e=/%20/g,ke=/#.*$/,Me=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ae=/^(?:GET|HEAD)$/,De=/^\/\//,Oe={},Fe={},ze="*/".concat("*"),Be=a.createElement("a");function Re(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,s=e.toLowerCase().match(z)||[];if(v(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Ne(t,e,i,n){var o={},s=t===Fe;function a(r){var l;return o[r]=!0,E.each(t[r]||[],(function(t,r){var u=r(e,i,n);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),a(u),!1)})),l}return a(e.dataTypes[0])||!o["*"]&&a("*")}function je(t,e){var i,n,o=E.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&E.extend(!0,t,n),t}Be.href=we.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?je(je(t,E.ajaxSettings),e):je(E.ajaxSettings,t)},ajaxPrefilter:Re(Oe),ajaxTransport:Re(Fe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,s,r,l,u,h,c,d,p,g=E.ajaxSetup({},e),m=g.context||g,f=g.context&&(m.nodeType||m.jquery)?E(m):E.event,y=E.Deferred(),v=E.Callbacks("once memory"),b=g.statusCode||{},_={},x={},w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(h){if(!r)for(r={};e=Pe.exec(s);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?s:null},setRequestHeader:function(t,e){return null==h&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==h&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||w;return n&&n.abort(e),L(0,e),this}};if(y.promise(C),g.url=((t||g.url||we.href)+"").replace(De,we.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(z)||[""],null==g.crossDomain){u=a.createElement("a");try{u.href=g.url,u.href=u.href,g.crossDomain=Be.protocol+"//"+Be.host!=u.protocol+"//"+u.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=E.param(g.data,g.traditional)),Ne(Oe,g,e,C),h)return C;for(d in(c=E.event&&g.global)&&0==E.active++&&E.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Ae.test(g.type),o=g.url.replace(ke,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace($e,"+")):(p=g.url.slice(o.length),g.data&&(g.processData||"string"==typeof g.data)&&(o+=(Ce.test(o)?"&":"?")+g.data,delete g.data),!1===g.cache&&(o=o.replace(Me,"$1"),p=(Ce.test(o)?"&":"?")+"_="+Ee+++p),g.url=o+p),g.ifModified&&(E.lastModified[o]&&C.setRequestHeader("If-Modified-Since",E.lastModified[o]),E.etag[o]&&C.setRequestHeader("If-None-Match",E.etag[o])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+ze+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(d,g.headers[d]);if(g.beforeSend&&(!1===g.beforeSend.call(m,C,g)||h))return C.abort();if(w="abort",v.add(g.complete),C.done(g.success),C.fail(g.error),n=Ne(Fe,g,e,C)){if(C.readyState=1,c&&f.trigger("ajaxSend",[C,g]),h)return C;g.async&&g.timeout>0&&(l=i.setTimeout((function(){C.abort("timeout")}),g.timeout));try{h=!1,n.send(_,L)}catch(t){if(h)throw t;L(-1,t)}}else L(-1,"No Transport");function L(t,e,a,r){var u,d,p,_,x,w=e;h||(h=!0,l&&i.clearTimeout(l),n=void 0,s=r||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,a&&(_=function(t,e,i){for(var n,o,s,a,r=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in r)if(r[o]&&r[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}a||(a=o)}s=s||a}if(s)return s!==l[0]&&l.unshift(s),i[s]}(g,C,a)),_=function(t,e,i,n){var o,s,a,r,l,u={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(s=h.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=h.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(a=u[l+" "+s]||u["* "+s]))for(o in u)if((r=o.split(" "))[1]===s&&(a=u[l+" "+r[0]]||u["* "+r[0]])){!0===a?a=u[o]:!0!==u[o]&&(s=r[0],h.unshift(r[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(g,_,C,u),u?(g.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(E.lastModified[o]=x),(x=C.getResponseHeader("etag"))&&(E.etag[o]=x)),204===t||"HEAD"===g.type?w="nocontent":304===t?w="notmodified":(w=_.state,d=_.data,u=!(p=_.error))):(p=w,!t&&w||(w="error",t<0&&(t=0))),C.status=t,C.statusText=(e||w)+"",u?y.resolveWith(m,[d,w,C]):y.rejectWith(m,[C,w,p]),C.statusCode(b),b=void 0,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[C,g,u?d:p]),v.fireWith(m,[C,w]),c&&(f.trigger("ajaxComplete",[C,g]),--E.active||E.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,i){return E.get(t,e,i,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],(function(t,e){E[e]=function(t,i,n,o){return v(i)&&(o=o||n,n=i,i=void 0),E.ajax(E.extend({url:t,type:e,dataType:o,data:i,success:n},E.isPlainObject(t)&&t))}})),E._evalUrl=function(t){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){E(this).wrapInner(t.call(this,e))})):this.each((function(){var e=E(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(i){E(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},Ue=E.ajaxSettings.xhr();y.cors=!!Ue&&"withCredentials"in Ue,y.ajax=Ue=!!Ue,E.ajaxTransport((function(t){var e,n;if(y.cors||Ue&&!t.crossDomain)return{send:function(o,s){var a,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)r[a]=t.xhrFields[a];for(a in t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)r.setRequestHeader(a,o[a]);e=function(t){return function(){e&&(e=n=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?s(0,"error"):s(r.status,r.statusText):s(He[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=e(),n=r.onerror=r.ontimeout=e("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{r.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),E.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),E.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain)return{send:function(n,o){e=E("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){i&&i()}}}));var Ve,Ge=[],Ke=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||E.expando+"_"+Ee++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",(function(t,e,n){var o,s,a,r=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Ke,"$1"+o):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||E.error(o+" was not called"),a[0]},t.dataTypes[0]="json",s=i[o],i[o]=function(){a=arguments},n.always((function(){void 0===s?E(i).removeProp(o):i[o]=s,t[o]&&(t.jsonpCallback=e.jsonpCallback,Ge.push(o)),a&&v(s)&&s(a[0]),a=s=void 0})),"script"})),y.createHTMLDocument=((Ve=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ve.childNodes.length),E.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(y.createHTMLDocument?((n=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(n)):e=a),s=!i&&[],(o=k.exec(t))?[e.createElement(o[1])]:(o=xt([t],e,s),s&&s.length&&E(s).remove(),E.merge([],o.childNodes)));var n,o,s},E.fn.load=function(t,e,i){var n,o,s,a=this,r=t.indexOf(" ");return r>-1&&(n=fe(t.slice(r)),t=t.slice(0,r)),v(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&E.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){s=arguments,a.html(n?E("<div>").append(E.parseHTML(t)).find(n):t)})).always(i&&function(t,e){a.each((function(){i.apply(this,s||[t.responseText,e,t])}))}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){E.fn[e]=function(t){return this.on(e,t)}})),E.expr.pseudos.animated=function(t){return E.grep(E.timers,(function(e){return t===e.elem})).length},E.offset={setOffset:function(t,e,i){var n,o,s,a,r,l,u=E.css(t,"position"),h=E(t),c={};"static"===u&&(t.style.position="relative"),r=h.offset(),s=E.css(t,"top"),l=E.css(t,"left"),("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1?(a=(n=h.position()).top,o=n.left):(a=parseFloat(s)||0,o=parseFloat(l)||0),v(e)&&(e=e.call(t,i,E.extend({},r))),null!=e.top&&(c.top=e.top-r.top+a),null!=e.left&&(c.left=e.left-r.left+o),"using"in e?e.using.call(t,c):h.css(c)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){E.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],o={top:0,left:0};if("fixed"===E.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((o=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),o.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-E.css(n,"marginTop",!0),left:e.left-o.left-E.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||wt}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;E.fn[t]=function(n){return V(this,(function(t,n,o){var s;if(b(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:o,i?o:s.pageYOffset):t[n]=o}),t,n,arguments.length)}})),E.each(["top","left"],(function(t,e){E.cssHooks[e]=Vt(y.pixelPosition,(function(t,i){if(i)return i=Ut(t,e),Nt.test(i)?E(t).position()[e]+"px":i}))})),E.each({Height:"height",Width:"width"},(function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){E.fn[n]=function(o,s){var a=arguments.length&&(i||"boolean"!=typeof o),r=i||(!0===o||!0===s?"margin":"border");return V(this,(function(e,i,o){var s;return b(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===o?E.css(e,i,r):E.style(e,i,o,r)}),e,a?o:void 0,a)}}))})),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){E.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}})),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),E.proxy=function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),v(t))return n=l.call(arguments,2),(o=function(){return t.apply(e||this,n.concat(l.call(arguments)))}).guid=t.guid=t.guid||E.guid++,o},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=$,E.isFunction=v,E.isWindow=b,E.camelCase=Z,E.type=w,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(n=function(){return E}.apply(e,[]))||(t.exports=n);var qe=i.jQuery,Ze=i.$;return E.noConflict=function(t){return i.$===E&&(i.$=Ze),t&&i.jQuery===E&&(i.jQuery=qe),E},o||(i.jQuery=i.$=E),E}))},IJar:function(t,e,i){},IUhG:function(t,e,i){(function(t,e){App.LanguageDialog=function(t){App.LanguageDialog.super.call(this,t),this.$element.attr("id","lang-dialog"),this.interfaceLang=t.interfaceLang},t.inheritClass(App.LanguageDialog,t.ui.ProcessDialog),App.LanguageDialog.static.name="languageDialog",App.LanguageDialog.static.size="medium",App.LanguageDialog.prototype.getBodyHeight=function(){return 300},App.LanguageDialog.prototype.getSetupProcess=function(t){return t=e.extend({title:e.i18n("language-settings"),actions:[{label:e.i18n("done"),flags:["primary","progressive"],action:"done"},{label:e.i18n("cancel"),flags:"safe"}]},t),App.LanguageDialog.super.prototype.getSetupProcess.call(this,t)},App.LanguageDialog.prototype.initialize=function(){var i,n,o;App.LanguageDialog.super.prototype.initialize.apply(this,arguments),this.interfaceLangButton=new App.InterfaceLangButton({interfaceLang:this.interfaceLang}),n=new t.ui.FieldLayout(this.interfaceLangButton,{align:"top",label:e.i18n("interface-lang-field-label"),help:e.i18n("interface-lang-field-help"),helpInline:!0}),this.preferredLangsWidget=new App.UlsTagMultiselectWidget,this.preferredLangsButton=new t.ui.ButtonInputWidget({label:e.i18n("add-preferred-lang"),indicator:"down"}),this.preferredLangsButton.$element.uls({ulsPurpose:"preferredLangs",onSelect:this.preferredLangsWidget.onUlsSelect.bind(this.preferredLangsWidget),top:this.calculateUlsTop.bind(this.preferredLangsButton.$element)}),o=new t.ui.ActionFieldLayout(this.preferredLangsWidget,this.preferredLangsButton,{align:"top",label:e.i18n("preferred-langs-field-label"),help:e.i18n("preferred-langs-field-help"),helpInline:!0}),(i=new t.ui.PanelLayout({padded:!0,expanded:!1})).$element.append(n.$element,o.$element),this.$body.append(i.$element)},App.LanguageDialog.prototype.calculateUlsTop=function(){return e(this).offset().top-e(this).outerHeight()/2},App.LanguageDialog.prototype.getActionProcess=function(n){var o=this;return"done"===n?new t.ui.Process((function(){var t,e={interfaceLang:o.interfaceLangButton.currentLang,preferredLangs:o.preferredLangsWidget.getValue()};i("p46w").set("svgtranslate",e),t=window.location.href.slice(0,window.location.href.indexOf("#")),window.location.href=t,o.close({action:n})})):(e(".uls-menu").hide(),App.LanguageDialog.super.prototype.getActionProcess.call(this,n))}}).call(this,i("ovuR"),i("EVdn"))},IvOP:function(t,e,i){(function(t){
/*!
 * jQuery Internationalization library
 *
 * Copyright (C) 2012 Santhosh Thottingal
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do
 * anything special to choose one license or the other and you don't have to
 * notify anyone which license you are using. You are free to use
 * UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
!function(t){"use strict";var e,i,n=Array.prototype.slice;(e=function(i){this.options=t.extend({},e.defaults,i),this.parser=this.options.parser,this.locale=this.options.locale,this.messageStore=this.options.messageStore,this.languages={}}).prototype={localize:function(e){var i,n,o,s,a,r;for(o=this.locale,s=0;o;){n=(i=o.split("-")).length;do{if(a=i.slice(0,n).join("-"),r=this.messageStore.get(a,e))return r;n--}while(n);if(o===this.options.fallbackLocale)break;o=t.i18n.fallbacks[this.locale]&&t.i18n.fallbacks[this.locale][s]||this.options.fallbackLocale,t.i18n.log("Trying fallback locale for "+this.locale+": "+o+" ("+e+")"),s++}return""},destroy:function(){t.removeData(document,"i18n")},load:function(e,i){var n,o,s,a={};if(e||i||(e="i18n/"+t.i18n().locale+".json",i=t.i18n().locale),"string"==typeof e&&"json"!==e.split("?")[0].split(".").pop()){for(a[i]=e+"/"+i+".json",n=(t.i18n.fallbacks[i]||[]).concat(this.options.fallbackLocale),o=0;o<n.length;o++)a[s=n[o]]=e+"/"+s+".json";return this.load(a)}return this.messageStore.load(e,i)},parse:function(e,i){var n=this.localize(e);return this.parser.language=t.i18n.languages[t.i18n().locale]||t.i18n.languages.default,""===n&&(n=e),this.parser.parse(n,i)}},t.i18n=function(i,o){var s,a=t.data(document,"i18n"),r="object"==typeof i&&i;return r&&r.locale&&a&&a.locale!==r.locale&&(a.locale=r.locale),a||(a=new e(r),t.data(document,"i18n",a)),"string"==typeof i?(s=void 0!==o?n.call(arguments,1):[],a.parse(i,s)):a},t.fn.i18n=function(){var i=t.data(document,"i18n");return i||(i=new e,t.data(document,"i18n",i)),this.each((function(){var e,n,o,s,a=t(this),r=a.data("i18n");r?(e=r.indexOf("["),n=r.indexOf("]"),-1!==e&&-1!==n&&e<n?(o=r.slice(e+1,n),s=r.slice(n+1),"html"===o?a.html(i.parse(s)):a.attr(o,i.parse(s))):a.text(i.parse(r))):a.find("[data-i18n]").i18n()}))},t.i18n.languages={},t.i18n.messageStore=t.i18n.messageStore||{},t.i18n.parser={parse:function(t,e){return t.replace(/\$(\d+)/g,(function(t,i){var n=parseInt(i,10)-1;return void 0!==e[n]?e[n]:"$"+i}))},emitter:{}},t.i18n.fallbacks={},t.i18n.debug=!1,t.i18n.log=function(){window.console&&t.i18n.debug&&window.console.log.apply(window.console,arguments)},e.defaults={locale:(i=t("html").attr("lang"),i||(i=navigator.language||navigator.userLanguage||""),i),fallbackLocale:"en",parser:t.i18n.parser,messageStore:t.i18n.messageStore},t.i18n.constructor=e}(t)}).call(this,i("EVdn"))},J1iX:function(t,e,i){(function(t){!function(t){"use strict";var e;(e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.languagefilter.defaults,i),this.$element.addClass("languagefilter"),this.resultCount=0,this.$suggestion=this.$element.siblings("."+this.$element.data("suggestion")),this.$clear=this.$element.siblings("."+this.$element.data("clear")),this.selectedLanguage=null,this.init(),this.listen()}).prototype={init:function(){this.search()},listen:function(){this.$element.on("keydown",this.keypress.bind(this)),this.$element.on("input",t.fn.uls.debounce(this.onInputChange.bind(this),300)),this.$clear.length&&this.$clear.on("click",this.clear.bind(this)),this.toggleClear()},onInputChange:function(){this.selectedLanguage=null,this.$element.val()?(this.options.lcd.empty(),this.search()):this.clear(),this.toggleClear()},keypress:function(e){var i,n;switch(e.keyCode){case 9:(i=this.$suggestion.val())&&i!==this.$element.val()&&(this.$element.val(i),e.preventDefault(),e.stopPropagation());break;case 13:if(!this.options.onSelect)break;e.preventDefault(),e.stopPropagation(),n=t.trim(this.$element.val()).toLowerCase(),this.selectedLanguage?this.options.onSelect(this.selectedLanguage):this.options.languages[n]&&this.options.onSelect(n)}},deactivate:function(){this.$element.val(""),t.fn.uls.Constructor.prototype.isMobile()||this.$element.focus(),this.toggleClear(),this.autofill()},clear:function(){this.deactivate(),this.search()},toggleClear:function(){this.$clear.length&&(this.$element.val()?this.$clear.show():this.$clear.hide())},search:function(){var e,i=Object.keys(this.options.languages),n=t.trim(this.$element.val()).toLowerCase();if(""===n)return this.options.lcd.setGroupByRegionOverride(null),void this.resultHandler(n,i);this.options.lcd.setGroupByRegionOverride(!1),e=i.filter(function(t){return this.filter(t,n)}.bind(this)),this.options.searchAPI?this.searchAPI(n).done(this.resultHandler.bind(this)).fail(this.resultHandler.bind(this,n,e,void 0)):this.resultHandler(n,e)},searchAPI:function(e){return t.get(this.options.searchAPI,{search:e}).then(function(i){var n,o=[];return t.each(i.languagesearch,function(e,i){var s,a;if(this.options.languages[e])s=e;else{if(!(a=t.uls.data.isRedirect(e))||!this.options.languages[a])return;s=a}-1===o.indexOf(s)&&(n=n||i,o.push(s))}.bind(this)),t.Deferred().resolve(e,o,n)}.bind(this))},resultHandler:function(t,e,i){if(0===e.length)return this.$suggestion.val(""),void this.$element.trigger("noresults.uls",{query:t,ulsPurpose:this.options.ulsPurpose});t&&(this.selectedLanguage=e[0],this.autofill(e[0],i)),e.map(this.render.bind(this)),this.$element.trigger("resultsfound.uls",[t,e.length])},autofill:function(e,i){var n,o,s;this.$suggestion.length&&(this.$element.val()?(i=i||this.options.languages[e])&&((s=(o=this.$element.val())+i.substring(o.length,i.length)).toLowerCase()!==i.toLowerCase()&&(s=o+(n=t.uls.data.getAutonym(e)||"").substring(o.length,n.length))!==n&&(s=""),"െേൈൊോൌெேைொோௌେୈୋୌિਿिিেৈোৌෙේෛොෝෞ".indexOf(s[o.length])<=0||(s=""),this.$suggestion.val(s)):this.$suggestion.val(""))},render:function(t){return this.options.lcd.append(t)},escapeRegex:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp("^"+this.escapeRegex(i),"i"),o=this.options.languages[e];return n.test(o)||n.test(t.uls.data.getAutonym(e))||n.test(e)||n.test(t.uls.data.getScript(e))}},t.fn.languagefilter=function(i){return this.each((function(){var n=t(this),o=n.data("languagefilter"),s="object"==typeof i&&i;o||n.data("languagefilter",o=new e(this,s)),"string"==typeof i&&o[i]()}))},t.fn.languagefilter.defaults={lcd:void 0,searchAPI:void 0,ulsPurpose:"",languages:[],onSelect:void 0},t.fn.languagefilter.Constructor=e}(t)}).call(this,i("EVdn"))},KPT6:function(t,e,i){(function(t){!function(e){"use strict";function i(t,i){this.$element=e(t),this.options=e.extend({},e.fn.lcd.defaults,i),-1===this.options.showRegions.indexOf("all")&&this.options.showRegions.push("all"),this.$element.addClass("uls-lcd"),this.regionLanguages={},this.renderTimeout=null,this.cachedQuicklist=null,this.groupByRegionOverride=null,this.render(),this.listen()}i.prototype={constructor:i,append:function(t,i){var n,o;if(!e.uls.data.languages[t])return!1;if(this.isGroupingByRegionEnabled())o=i?[i]:e.uls.data.getRegions(t);else if(o=["all"],this.regionLanguages.all.indexOf(t)>-1)return!0;for(n=0;n<o.length;n++)this.regionLanguages[o[n]].push(t);return clearTimeout(this.renderTimeout),this.renderTimeout=setTimeout(function(){this.renderRegions()}.bind(this),50),!0},isGroupingByRegionEnabled:function(){return null!==this.groupByRegionOverride?this.groupByRegionOverride:"auto"!==this.options.groupByRegion?this.options.groupByRegion:this.options.columns>1},setGroupByRegionOverride:function(t){this.groupByRegionOverride=t},render:function(){var t,i=this.buildQuicklist(),n=[],o={all:"All languages",WW:"Worldwide",SP:"Special",AM:"America",EU:"Europe",ME:"Middle East",AS:"Asia",AF:"Africa",PA:"Pacific"};i.length?n.push(i):this.$element.addClass("uls-lcd--no-quicklist"),this.options.showRegions.forEach(function(i){this.regionLanguages[i]=[],t=e("<div>").addClass("uls-lcd-region-section hide").attr("data-region",i),e("<h3>").attr("data-i18n","uls-region-"+i).addClass("uls-lcd-region-title").text(o[i]).appendTo(t),n.push(t)}.bind(this)),this.$element.append(n),this.i18n()},renderRegions:function(){var t,i=this;this.$element.removeClass("uls-no-results"),this.$element.children(".uls-lcd-region-section").each((function(){var n=e(this),o=n.data("region");n.is(".uls-lcd-quicklist")||(n.children(".uls-language-block").remove(),(t=i.regionLanguages[o])&&0!==t.length?(i.renderRegion(n,t,i.options.itemsPerColumn,i.options.columns),n.removeClass("hide"),i.regionLanguages[o]=[]):n.addClass("hide"))}))},renderRegion:function(t,i,n,o){var s,a,r,l,u,h,c=i.length,d=[],p=[],g=[];if(i=e.uls.data.sortByScriptGroup(i.sort(e.uls.data.sortByAutonym)),s=1===o?"twelve columns":2===o?"six columns":"three columns",1===this.options.columns){for(a=0;a<c;a++)d.push(this.renderItem(i[a]));p.push(e("<ul>").addClass(s).append(d)),g.push(e("<div>").addClass("row uls-language-block").append(p))}else for(a=0;a<c;a++)h=!1,u=e.uls.data.getScriptGroupOfLanguage(i[a+1]),r=c-a==1,0!==a&&this.isGroupingByRegionEnabled()?l!==u&&d.length>1&&(h=!0):l=e.uls.data.getScriptGroupOfLanguage(i[a]),l=u,d.push(this.renderItem(i[a])),(d.length>=n||r||h)&&(p.push(e("<ul>").addClass(s).append(d)),d=[],(p.length>=o||r)&&(g.push(e("<div>").addClass("row uls-language-block").append(p)),p=[]));t.append(g)},renderItem:function(t){var i,n,o,s;return n=this.options.languages[t],o=e.uls.data.getAutonym(t)||n||t,(s=document.createElement("li")).title=n,s.setAttribute("data-code",t),(i=document.createElement("a")).appendChild(document.createTextNode(o)),i.className="autonym",i.lang=t,i.dir=e.uls.data.getDir(t),s.appendChild(i),this.options.languageDecorator&&this.options.languageDecorator(e(i),t),s},i18n:function(){this.$element.find("[data-i18n]").i18n()},quicklist:function(){this.$element.find(".uls-lcd-quicklist").removeClass("hide")},buildQuicklist:function(){var t,i,n;return null!==this.cachedQuicklist?this.cachedQuicklist:(e.isFunction(this.options.quickList)&&(this.options.quickList=this.options.quickList()),this.options.quickList.length?((t=(t=this.options.quickList).slice(0,16)).sort(e.uls.data.sortByAutonym),i=e("<div>").addClass("uls-lcd-region-section uls-lcd-quicklist"),n=e("<h3>").attr("data-i18n","uls-common-languages").addClass("uls-lcd-region-title").text("Suggested languages"),i.append(n),this.renderRegion(i,t,this.options.itemsPerColumn,this.options.columns),n.i18n(),this.cachedQuicklist=i,this.cachedQuicklist):(this.cachedQuicklist=e([]),this.cachedQuicklist))},show:function(){this.regionDivs||this.render()},empty:function(){this.$element.addClass("uls-lcd--no-quicklist"),this.$element.find(".uls-lcd-quicklist").addClass("hide")},focus:function(){this.$element.focus()},noResults:function(e,i){var n;if(this.$element.addClass("uls-no-results"),this.$element.find(".uls-no-results-view").remove(),"function"==typeof this.options.noResultsTemplate)n=this.options.noResultsTemplate.call(this,i.query);else{if(!(this.options.noResultsTemplate instanceof t))throw new Error("noResultsTemplate option must be either jQuery or function returning jQuery");n=this.options.noResultsTemplate}this.$element.append(n.addClass("uls-no-results-view").i18n())},listen:function(){var t=this;this.options.clickhandler&&this.$element.on("click",".row li",(function(i){t.options.clickhandler.call(this,e(this).data("code"),i)}))}},e.fn.lcd=function(t){return this.each((function(){var n=e(this),o=n.data("lcd"),s="object"==typeof t&&t;o||n.data("lcd",o=new i(this,s)),"string"==typeof t&&o[t]()}))},e.fn.lcd.defaults={languages:[],showRegions:["WW","AM","EU","ME","AF","AS","PA"],groupByRegion:"auto",itemsPerColumn:8,columns:4,languageDecorator:void 0,quickList:[],clickhandler:void 0,noResultsTemplate:function(){var t,i=e('<div class="uls-no-results-view"> \t\t<h2 data-i18n="uls-no-results-found" class="uls-no-results-found-title">No results found</h2> \t\t<div class="uls-no-results-suggestions"></div> \t\t<div class="uls-no-found-more"> \t\t<div data-i18n="uls-search-help">You can search by language name, script name, ISO code of language or you can browse by region.</div> \t\t</div></div>');return(t=this.buildQuicklist().clone()).removeClass("hide").find("h3").data("i18n","uls-no-results-suggestion-title").text("You may be interested in:").i18n(),i.find(".uls-no-results-suggestions").append(t),i}}}(t)}).call(this,i("EVdn"))},ML86:function(t,e,i){},Mh5E:function(t,e,i){(function(t){!function t(e,i,n){function o(a,r){if(!i[a]){if(!e[a]){if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[a]={exports:{}};e[a][0].call(u.exports,(function(t){return o(e[a][1][t]||t)}),u,u.exports,t,e,i,n)}return i[a].exports}for(var s=!1,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,i,n){var o;i.exports=((o=t).uls=o.uls||{},void(o.uls.data={languages:{aa:["Latn",["AF"],"Qafár af"],ab:["Cyrl",["EU"],"Аҧсшәа"],abe:["Latn",["AM"],"Wôbanakiôdwawôgan"],abs:["Latn",["AS"],"Bahasa Ambon"],ace:["Latn",["AS","PA"],"Acèh"],acf:["Latn",["AM"],"kwéyòl"],ady:["Cyrl",["EU","ME"],"Адыгабзэ"],"ady-cyrl":["ady"],"ady-latn":["Latn",["EU","ME"],"Adygabze"],aeb:["aeb-arab"],"aeb-arab":["Arab",["AF"],"تونسي"],"aeb-latn":["Latn",["AF"],"Tûnsî"],af:["Latn",["AF"],"Afrikaans"],ahr:["Deva",["AS"],"अहिराणी"],ais:["Latn",["AS"],"Sakizaya"],ak:["Latn",["AF"],"Akan"],akz:["Latn",["AM"],"Albaamo innaaɬiilka"],aln:["Latn",["EU"],"Gegë"],am:["Ethi",["AF"],"አማርኛ"],ami:["Latn",["AS"],"Pangcah"],an:["Latn",["EU"],"aragonés"],ang:["Latn",["EU"],"Ænglisc"],anp:["Deva",["AS"],"अङ्गिका"],ar:["Arab",["ME"],"العربية"],arc:["Syrc",["ME"],"ܐܪܡܝܐ"],arn:["Latn",["AM"],"mapudungun"],aro:["Latn",["AM"],"Araona"],arq:["Arab",["AF"],"جازايرية"],ary:["Latn",["ME"],"Maġribi"],arz:["Arab",["ME"],"مصرى"],as:["Beng",["AS"],"অসমীয়া"],ase:["Sgnw",["AM"],"American sign language"],ast:["Latn",["EU"],"asturianu"],atj:["Latn",["AM"],"atikamekw"],av:["Cyrl",["EU"],"авар"],avk:["Latn",["WW"],"Kotava"],ay:["Latn",["AM"],"Aymar aru"],az:["az-latn"],"az-arab":["Arab",["AS","ME"],"تۆرکجه"],"az-latn":["Latn",["EU","ME"],"azərbaycanca"],"az-cyrl":["Cyrl",["EU","ME"],"азәрбајҹанҹа"],azb:["az-arab"],azj:["az-latn"],ba:["Cyrl",["EU"],"башҡортса"],ban:["Bali",["AS"],"ᬩᬲᬩᬮᬶ"],bar:["Latn",["EU"],"Boarisch"],"bat-smg":["sgs"],"bbc-latn":["Latn",["AS"],"Batak Toba"],"bbc-batk":["Batk",["AS"],"ᯅᯖᯂ᯲ ᯖᯬᯅ"],bbc:["bbc-latn"],bcc:["Arab",["AS","ME"],"جهلسری بلوچی"],bcl:["Latn",["AS"],"Bikol Central"],"be-tarask":["Cyrl",["EU"],"беларуская (тарашкевіца)"],"be-x-old":["be-tarask"],be:["Cyrl",["EU"],"беларуская"],bew:["Latn",["AS"],"Bahasa Betawi"],bfa:["Latn",["AF"],"Bari"],bft:["Arab",["AS"],"بلتی"],bfq:["Taml",["AS"],"படகா"],bg:["Cyrl",["EU"],"български"],bgn:["Arab",["AS","ME"],"روچ کپتین بلوچی"],bh:["bho"],bho:["Deva",["AS"],"भोजपुरी"],bi:["Latn",["PA"],"Bislama"],bjn:["Latn",["AS"],"Bahasa Banjar"],bm:["Latn",["AF"],"bamanankan"],bn:["Beng",["AS"],"বাংলা"],bnn:["Latn",["AS"],"Bunun"],bo:["Tibt",["AS"],"བོད་ཡིག"],bpy:["Beng",["AS"],"বিষ্ণুপ্রিয়া মণিপুরী"],bqi:["Arab",["AS","ME"],"بختیاری"],br:["Latn",["EU"],"brezhoneg"],brh:["Latn",["ME","AS"],"Bráhuí"],brx:["Deva",["AS"],"बर'"],bs:["Latn",["EU"],"bosanski"],btm:["Latn",["AS"],"Mandailing"],bto:["Latn",["AS"],"Iriga Bicolano"],bug:["Bugi",["AS"],"ᨅᨔ ᨕᨘᨁᨗ"],bxr:["Cyrl",["AS"],"буряад"],byn:["Ethi",["AF"],"ብሊን"],ca:["Latn",["EU"],"català"],cak:["Latn",["AM"],"Kaqchikel"],"cbk-zam":["Latn",["AS"],"Chavacano de Zamboanga"],cdo:["Latn",["AS"],"Mìng-dĕ̤ng-ngṳ̄"],ce:["Cyrl",["EU"],"нохчийн"],ceb:["Latn",["AS"],"Cebuano"],ch:["Latn",["PA"],"Chamoru"],chm:["mhr"],chn:["Latn",["AM"],"chinuk wawa"],cho:["Latn",["AM"],"Choctaw"],chr:["Cher",["AM"],"ᏣᎳᎩ"],chy:["Latn",["AM"],"Tsetsêhestâhese"],ciw:["Latn",["AM"],"Ojibwemowin"],cjy:["cjy-hant"],"cjy-hans":["Hans",["AS"],"晋语（简化字)"],"cjy-hant":["Hant",["AS"],"晉語"],ckb:["Arab",["ME"],"کوردی"],cnh:["Latn",["AS"],"Lai holh"],cnr:["cnr-latn"],"cnr-cyrl":["Cyrl",["EU"],"црногорски"],"cnr-latn":["Latn",["EU"],"crnogorski"],co:["Latn",["EU"],"corsu"],cop:["Copt",["AF","ME"],"ϯⲙⲉⲧⲣⲉⲙⲛ̀ⲭⲏⲙⲓ"],cps:["Latn",["AS"],"Capiceño"],cr:["Cans",["AM"],"ᓀᐦᐃᔭᐍᐏᐣ"],"cr-cans":["cr"],"cr-latn":["Latn",["AM"],"Nēhiyawēwin"],crh:["Latn",["EU"],"qırımtatarca"],"crh-cyrl":["Cyrl",["EU"],"къырымтатарджа"],"crh-latn":["crh"],cs:["Latn",["EU"],"čeština"],csb:["Latn",["EU"],"kaszëbsczi"],cu:["Cyrl",["EU"],"словѣньскъ / ⰔⰎⰑⰂⰡⰐⰠⰔⰍⰟ"],cv:["Cyrl",["EU"],"Чӑвашла"],cy:["Latn",["EU"],"Cymraeg"],da:["Latn",["EU"],"dansk"],dag:["Latn",["AF"],"dagbanli"],"de-at":["Latn",["EU"],"Österreichisches Deutsch"],"de-ch":["Latn",["EU"],"Schweizer Hochdeutsch"],"de-formal":["Latn",["EU"],"Deutsch (Sie-Form)"],de:["Latn",["EU"],"Deutsch"],din:["Latn",["AF"],"Thuɔŋjäŋ"],diq:["Latn",["EU","AS"],"Zazaki"],doi:["Deva",["AS"],"डोगरी"],dsb:["Latn",["EU"],"dolnoserbski"],dtp:["Latn",["AS"],"Dusun Bundu-liwan"],dty:["Deva",["AS"],"डोटेली"],dv:["Thaa",["AS"],"ދިވެހިބަސް"],dz:["Tibt",["AS"],"ཇོང་ཁ"],ee:["Latn",["AF"],"eʋegbe"],egl:["Latn",["EU"],"Emiliàn"],el:["Grek",["EU"],"Ελληνικά"],eml:["Latn",["EU"],"emiliàn e rumagnòl"],"en-ca":["Latn",["AM"],"Canadian English"],"en-gb":["Latn",["EU","AS","PA"],"British English"],en:["Latn",["EU","AM","AF","ME","AS","PA","WW"],"English"],eo:["Latn",["WW"],"Esperanto"],"es-419":["Latn",["AM"],"español de América Latina"],"es-formal":["Latn",["EU","AM","AF","WW"],"español (formal)"],es:["Latn",["EU","AM","AF","WW","PA"],"español"],"es-ni":["Latn",["AM"],"español nicaragüense"],esu:["Latn",["AM"],"Yup'ik"],et:["Latn",["EU"],"eesti"],eu:["Latn",["EU"],"euskara"],ext:["Latn",["EU"],"estremeñu"],eya:["Latn",["AM"],"I·ya·q"],fa:["Arab",["AS","ME"],"فارسی"],fan:["Latn",["AF"],"Faŋ"],fax:["Latn",["EU"],"Fala"],ff:["Latn",["AF"],"Fulfulde"],fi:["Latn",["EU"],"suomi"],fil:["tl"],fit:["Latn",["EU"],"meänkieli"],"fiu-vro":["vro"],fj:["Latn",["PA"],"Na Vosa Vakaviti"],fkv:["Latn",["EU"],"kvääni"],fo:["Latn",["EU"],"føroyskt"],fon:["Latn",["AF"],"fɔ̀ngbè"],fr:["Latn",["EU","AM","WW"],"français"],frc:["Latn",["AM"],"français cadien"],frp:["Latn",["EU"],"arpetan"],frr:["Latn",["EU"],"Nordfriisk"],fuf:["Latn",["AF"],"Fuuta Jalon"],fur:["Latn",["EU"],"furlan"],fy:["Latn",["EU"],"Frysk"],ga:["Latn",["EU"],"Gaeilge"],gaa:["Latn",["AF"],"Ga"],gag:["Latn",["EU"],"Gagauz"],gah:["Latn",["AS"],"Alekano"],"gan-hans":["Hans",["AS"],"赣语（简体）"],"gan-hant":["gan"],gan:["Hant",["AS"],"贛語"],gbm:["Deva",["AS"],"गढ़वळि"],gbz:["Latn",["AS"],"Dari-e Mazdeyasnā"],gcf:["Latn",["AM"],"Guadeloupean Creole French"],gcr:["Latn",["AM"],"kréyòl gwiyanè"],gd:["Latn",["EU"],"Gàidhlig"],gez:["Ethi",["AF"],"ግዕዝ"],gl:["Latn",["EU"],"galego"],glk:["Arab",["AS","ME"],"گیلکی"],gn:["Latn",["AM"],"Avañe'ẽ"],gom:["gom-deva"],"gom-deva":["Deva",["AS"],"गोंयची कोंकणी"],"gom-latn":["Latn",["AS"],"Gõychi Konknni"],gor:["Latn",["AS"],"Bahasa Hulontalo"],got:["Goth",["EU"],"𐌲𐌿𐍄𐌹𐍃𐌺"],grc:["Grek",["EU"],"Ἀρχαία ἑλληνικὴ"],gsw:["Latn",["EU"],"Alemannisch"],gu:["Gujr",["AS"],"ગુજરાતી"],guc:["Latn",["AM"],"Wayúu"],gum:["Latn",["AM"],"Namtrik"],gur:["Latn",["AF"],"Gurenɛ"],gv:["Latn",["EU"],"Gaelg"],"ha-arab":["Arab",["AF"],"هَوُسَ"],"ha-latn":["Latn",["AF"],"Hausa"],ha:["ha-latn"],hai:["Latn",["AM"],"X̱aat Kíl"],hak:["Latn",["AS"],"Hak-kâ-fa"],haw:["Latn",["AM","PA"],"Hawai`i"],he:["Hebr",["ME"],"עברית"],"hak-hans":["Hans",["AS"],"客家语（简体）"],"hak-hant":["Hant",["AS"],"客家語（繁體）"],hi:["Deva",["AS"],"हिन्दी"],hif:["Latn",["PA","AS"],"Fiji Hindi"],"hif-deva":["Deva",["AS"],"फ़ीजी हिन्दी"],"hif-latn":["hif"],hil:["Latn",["AS"],"Ilonggo"],hne:["Deva",["AS"],"छत्तीसगढ़ी"],ho:["Latn",["PA"],"Hiri Motu"],hoc:["Wara",["AS"],"𑢹𑣉𑣉"],hr:["Latn",["EU"],"hrvatski"],hrx:["Latn",["AM"],"Hunsrik"],hsb:["Latn",["EU"],"hornjoserbsce"],hsn:["Hans",["AS"],"湘语"],ht:["Latn",["AM"],"Kreyòl ayisyen"],"hu-formal":["Latn",["EU"],"Magyar (magázó)"],hu:["Latn",["EU"],"magyar"],hy:["Armn",["EU","ME"],"հայերեն"],hyw:["Armn",["EU","ME"],"արեւմտահայերէն"],hz:["Latn",["AF"],"Otsiherero"],ia:["Latn",["WW"],"interlingua"],id:["Latn",["AS"],"Bahasa Indonesia"],ie:["Latn",["WW"],"Interlingue"],ig:["Latn",["AF"],"Igbo"],ii:["Yiii",["AS"],"ꆇꉙ"],ik:["Latn",["AM"],"Iñupiak"],"ike-cans":["Cans",["AM"],"ᐃᓄᒃᑎᑐᑦ"],"ike-latn":["Latn",["AM"],"inuktitut"],ilo:["Latn",["AS"],"Ilokano"],inh:["Cyrl",["EU"],"ГӀалгӀай"],io:["Latn",["WW"],"Ido"],is:["Latn",["EU"],"íslenska"],it:["Latn",["EU"],"italiano"],iu:["ike-cans"],ja:["Jpan",["AS"],"日本語"],jam:["Latn",["AM"],"Patois"],jbo:["Latn",["WW"],"lojban"],jdt:["jdt-cyrl"],"jdt-cyrl":["Cyrl",["EU","AS"],"жугьури"],jut:["Latn",["EU"],"jysk"],jv:["Latn",["AS","PA"],"Basa Jawa"],"jv-java":["Java",["AS","PA"],"ꦧꦱꦗꦮ"],ka:["Geor",["EU"],"ქართული"],kaa:["Latn",["AS"],"Qaraqalpaqsha"],kab:["Latn",["AF","EU"],"Taqbaylit"],kac:["Latn",["AS"],"Jinghpaw"],"kbd-cyrl":["kbd"],"kbd-latn":["Latn",["EU"],"Qabardjajəbza"],kbd:["Cyrl",["EU","ME"],"Адыгэбзэ"],kbp:["Latn",["AF"],"Kabɩyɛ"],kea:["Latn",["AF"],"Kabuverdianu"],kg:["Latn",["AF"],"Kongo"],kgp:["Latn",["AM"],"Kaingáng"],khw:["Arab",["ME","AS"],"کھوار"],ki:["Latn",["AF"],"Gĩkũyũ"],kiu:["Latn",["EU","ME"],"Kırmancki"],kj:["Latn",["AF"],"Kwanyama"],kjh:["Cyrl",["AS"],"хакас"],kjp:["Mymr",["AS"],"ဖၠုံလိက်"],kk:["kk-cyrl"],"kk-arab":["Arab",["EU","AS"],"قازاقشا (تٶتە)"],"kk-cn":["kk-arab"],"kk-cyrl":["Cyrl",["EU","AS"],"қазақша"],"kk-kz":["kk-cyrl"],"kk-latn":["Latn",["EU","AS","ME"],"qazaqşa"],"kk-tr":["kk-latn"],kl:["Latn",["AM","EU"],"kalaallisut"],km:["Khmr",["AS"],"ភាសាខ្មែរ"],kn:["Knda",["AS"],"ಕನ್ನಡ"],knn:["Deva",["AS"],"महाराष्ट्रीय कोंकणी"],"ko-kp":["Kore",["AS"],"조선말"],ko:["Kore",["AS"],"한국어"],koi:["Cyrl",["EU"],"Перем Коми"],koy:["Latn",["AM"],"Denaakkenaageʼ"],kr:["Latn",["AF"],"Kanuri"],krc:["Cyrl",["EU"],"къарачай-малкъар"],kri:["Latn",["AF"],"Krio"],krj:["Latn",["ME","EU"],"Kinaray-a"],krl:["Latn",["EU"],"Karjala"],"ks-arab":["Arab",["AS"],"کٲشُر"],"ks-deva":["Deva",["AS"],"कॉशुर"],ks:["ks-arab"],ksf:["Latn",["AF"],"Bafia"],ksh:["Latn",["EU"],"Ripoarisch"],ku:["ku-latn"],"ku-arab":["Arab",["EU","ME"],"كوردي"],"ku-latn":["Latn",["EU","ME"],"kurdî"],kum:["Cyrl",["EU"],"къумукъ"],kv:["Cyrl",["EU"],"коми"],kw:["Latn",["EU"],"kernowek"],ky:["Cyrl",["AS"],"Кыргызча"],la:["Latn",["EU"],"Latina"],lad:["lad-latn"],"lad-latn":["Latn",["ME","EU","AM"],"Ladino"],"lad-hebr":["Hebr",["ME","EU","AM"],"לאדינו"],lag:["Latn",["AF"],"Kilaangi"],lb:["Latn",["EU"],"Lëtzebuergesch"],lbe:["Cyrl",["EU"],"лакку"],lez:["Cyrl",["EU"],"лезги"],lfn:["Latn",["WW"],"Lingua Franca Nova"],lg:["Latn",["AF"],"Luganda"],li:["Latn",["EU"],"Limburgs"],lij:["Latn",["EU"],"Ligure"],liv:["Latn",["EU"],"Līvõ kēļ"],lki:["Arab",["AS","ME"],"لەکی"],lkt:["Latn",["AM"],"Lakȟótiyapi"],lld:["Latn",["EU"],"Ladin"],lmo:["Latn",["EU"],"lumbaart"],ln:["Latn",["AF"],"lingála"],lo:["Laoo",["AS"],"ລາວ"],loz:["Latn",["AF"],"Silozi"],lt:["Latn",["EU"],"lietuvių"],lrc:["Arab",["AS","ME"],"لۊری شومالی"],ltg:["Latn",["EU"],"latgaļu"],lud:["Latn",["EU"],"lüüdi"],lus:["Latn",["AS"],"Mizo ţawng"],lut:["Latn",["AM"],"dxʷləšucid"],luz:["Arab",["ME"],"لئری دوٙمینی"],lv:["Latn",["EU"],"latviešu"],lzh:["Hant",["AS"],"文言"],lzz:["Latn",["EU","ME"],"Lazuri"],mai:["Deva",["AS"],"मैथिली"],"map-bms":["Latn",["AS"],"Basa Banyumasan"],mdf:["Cyrl",["EU"],"мокшень"],mfe:["Latn",["AM"],"Morisyen"],mg:["Latn",["AF"],"Malagasy"],mh:["Latn",["PA"],"Ebon"],mhr:["Cyrl",["EU"],"олык марий"],mi:["Latn",["PA"],"Māori"],mic:["Latn",["AM"],"Mi'kmaq"],min:["Latn",["AS"],"Baso Minangkabau"],miq:["Latn",["AM"],"Mískitu"],mk:["Cyrl",["EU"],"македонски"],ml:["Mlym",["AS","ME"],"മലയാളം"],mn:["Cyrl",["AS"],"монгол"],mnc:["Mong",["AS"],"ᠮᠠᠨᠵᡠ ᡤᡳᠰᡠᠨ"],mni:["Beng",["AS"],"মেইতেই লোন্"],mnw:["Mymr",["AS"],"ဘာသာ မန်"],mo:["Cyrl",["EU"],"молдовеняскэ"],moe:["Latn",["AM"],"Innu-aimun"],mr:["Deva",["AS","ME"],"मराठी"],mrj:["Cyrl",["EU"],"кырык мары"],ms:["Latn",["AS"],"Bahasa Melayu"],mt:["Latn",["EU"],"Malti"],mui:["Latn",["AS"],"Musi"],mus:["Latn",["AM"],"Mvskoke"],mwl:["Latn",["EU"],"Mirandés"],mwv:["Latn",["AS"],"Behase Mentawei"],mww:["mww-latn"],"mww-latn":["Latn",["AS"],"Hmoob Dawb"],my:["Mymr",["AS"],"မြန်မာဘာသာ"],myv:["Cyrl",["EU"],"эрзянь"],mzn:["Arab",["ME","AS"],"مازِرونی"],na:["Latn",["PA"],"Dorerin Naoero"],nah:["Latn",["AM"],"Nāhuatl"],nan:["Latn",["AS"],"Bân-lâm-gú"],nap:["Latn",["EU"],"Napulitano"],nb:["Latn",["EU"],"norsk (bokmål)"],nd:["Latn",["AF"],"siNdebele saseNyakatho"],"nds-nl":["Latn",["EU"],"Nedersaksisch"],nds:["Latn",["EU"],"Plattdüütsch"],ne:["Deva",["AS"],"नेपाली"],new:["Deva",["AS"],"नेपाल भाषा"],ng:["Latn",["AF"],"Oshiwambo"],niu:["Latn",["PA"],"ko e vagahau Niuē"],njo:["Latn",["AS"],"Ao"],"nl-informal":["Latn",["EU","AM"],"Nederlands (informeel)"],nl:["Latn",["EU","AM"],"Nederlands"],nn:["Latn",["EU"],"norsk (nynorsk)"],no:["Latn",["EU"],"norsk"],nod:["Thai",["AS"],"คำเมือง"],nov:["Latn",["WW"],"Novial"],nqo:["Nkoo",["AF"],"ߒߞߏ"],nr:["Latn",["AF"],"isiNdebele seSewula"],nrm:["Latn",["EU"],"Nouormand"],nso:["Latn",["AF"],"Sesotho sa Leboa"],nv:["Latn",["AM"],"Diné bizaad"],ny:["Latn",["AF"],"Chi-Chewa"],nys:["Latn",["PA"],"Nyungar"],oc:["Latn",["EU"],"occitan"],oka:["Latn",["AM"],"n̓səl̓xcin̓"],olo:["Latn",["AS","EU"],"Livvinkarjala"],om:["Latn",["AF"],"Oromoo"],ood:["Latn",["AM"],"ʼOʼodham ha-ñeʼokĭ"],or:["Orya",["AS"],"ଓଡ଼ିଆ"],os:["Cyrl",["EU"],"Ирон"],ota:["Arab",["AS","EU"],"لسان عثمانى"],ovd:["Latn",["EU"],"övdalsk"],pa:["pa-guru"],"pa-guru":["Guru",["AS"],"ਪੰਜਾਬੀ"],pag:["Latn",["AS"],"Pangasinan"],pam:["Latn",["AS"],"Kapampangan"],pap:["Latn",["AM"],"Papiamentu"],pbb:["Latn",["AM"],"Nasa Yuwe"],pcd:["Latn",["EU"],"Picard"],pdc:["Latn",["EU","AM"],"Deitsch"],pdt:["Latn",["EU","AM"],"Plautdietsch"],pfl:["Latn",["EU"],"Pälzisch"],pi:["Deva",["AS"],"पालि"],pih:["Latn",["PA"],"Norfuk / Pitkern"],pis:["Latn",["PA"],"Pijin"],pjt:["Latn",["PA"],"Pitjantjatjara"],pko:["Latn",["AF"],"Pökoot"],pl:["Latn",["EU"],"polski"],pms:["Latn",["EU"],"Piemontèis"],pnb:["Arab",["AS","ME"],"پنجابی"],pnt:["Grek",["EU"],"Ποντιακά"],ppl:["Latn",["AM"],"Nawat"],prg:["Latn",["EU"],"Prūsiskan"],prs:["Arab",["AS","ME"],"دری"],ps:["Arab",["AS","ME"],"پښتو"],"pt-br":["Latn",["AM"],"português do Brasil"],pt:["Latn",["EU","AM","AS","PA","AF","WW"],"português"],qu:["Latn",["AM"],"Runa Simi"],quc:["Latn",["AM"],"K'iche'"],qug:["Latn",["AM"],"Runa shimi"],qwh:["Latn",["AM"],"anqash qichwa"],rap:["Latn",["AM"],"arero rapa nui"],rcf:["Latn",["AF"],"Kreol Réyoné"],rgn:["Latn",["EU"],"Rumagnôl"],rif:["Latn",["AF"],"Tarifit"],rki:["Mymr",["AS"],"ရခိုင်"],rm:["Latn",["EU"],"rumantsch"],rmf:["Latn",["EU"],"kaalengo tšimb"],rmy:["Latn",["EU"],"Romani"],rn:["Latn",["AF"],"Kirundi"],ro:["Latn",["EU"],"română"],"roa-rup":["rup"],"roa-tara":["Latn",["EU"],"tarandíne"],rtm:["Latn",["PA"],"Faeag Rotuma"],ru:["Cyrl",["EU","AS","ME"],"русский"],rue:["Cyrl",["EU"],"русиньскый"],rup:["Latn",["EU"],"armãneashti"],ruq:["Cyrl",["EU"],"Влахесте"],"ruq-cyrl":["ruq"],"ruq-grek":["Grek",["EU"],"Megleno-Romanian (Greek script)"],"ruq-latn":["Latn",["EU"],"Vlăheşte"],rut:["Cyrl",["EU"],"мыхаӀбишды"],rw:["Latn",["AF"],"Kinyarwanda"],rwr:["Deva",["AS"],"मारवाड़ी"],ryu:["Kana",["AS"],"ʔucināguci"],sa:["Deva",["AS"],"संस्कृतम्"],sah:["Cyrl",["EU","AS"],"саха тыла"],sat:["Olck",["AS"],"ᱥᱟᱱᱛᱟᱲᱤ"],saz:["Saur",["AS"],"ꢱꣃꢬꢵꢯ꣄ꢡ꣄ꢬꢵ"],sc:["Latn",["EU"],"sardu"],scn:["Latn",["EU"],"sicilianu"],sco:["Latn",["EU"],"Scots"],sd:["Arab",["AS"],"سنڌي"],sdc:["Latn",["EU"],"Sassaresu"],sdh:["Arab",["ME"],"کوردی خوارگ"],se:["Latn",["EU"],"davvisámegiella"],ses:["Latn",["AF"],"Koyraboro Senni"],sei:["Latn",["AM"],"Cmique Itom"],sg:["Latn",["AF"],"Sängö"],sgs:["Latn",["EU"],"žemaitėška"],sh:["Latn",["EU"],"srpskohrvatski"],"shi-latn":["Latn",["AF"],"Tašlḥiyt"],"shi-tfng":["Tfng",["AF"],"ⵜⴰⵛⵍⵃⵉⵜ"],shi:["shi-latn"],shn:["Mymr",["AS"],"လိၵ်ႈတႆး"],si:["Sinh",["AS"],"සිංහල"],simple:["Latn",["WW"],"Simple English"],sjd:["Cyrl",["EU"],"Кӣллт са̄мь кӣлл"],sje:["Latn",["EU"],"bidumsámegiella"],sjo:["Mong",["AS"],"ᠰᡞᠪᡝ ᡤᡞᠰᡠᠨ"],sju:["Latn",["EU"],"ubmejensámien giella"],sk:["Latn",["EU"],"slovenčina"],sl:["Latn",["EU"],"slovenščina"],sli:["Latn",["EU"],"Schläsch"],slr:["Latn",["AS"],"Salırça"],sly:["Latn",["AS"],"Bahasa Selayar"],"skr-arab":["Arab",["AS"],"سرائیکی"],skr:["skr-arab"],syc:["Syrc",["ME"],"ܣܘܪܝܝܐ"],sm:["Latn",["PA"],"Gagana Samoa"],sma:["Latn",["EU"],"åarjelsaemien"],smj:["Latn",["EU"],"julevsámegiella"],smn:["Latn",["EU"],"anarâškielâ"],sms:["Latn",["EU"],"sää´mǩiõll"],sn:["Latn",["AF"],"chiShona"],so:["Latn",["AF"],"Soomaaliga"],son:["Latn",["AF"],"soŋay"],sq:["Latn",["EU"],"shqip"],sr:["sr-cyrl"],"sr-ec":["sr-cyrl"],"sr-cyrl":["Cyrl",["EU"],"српски"],"sr-el":["sr-latn"],"sr-latn":["Latn",["EU"],"srpski"],srn:["Latn",["AM","EU"],"Sranantongo"],ss:["Latn",["AF"],"SiSwati"],st:["Latn",["AF"],"Sesotho"],stq:["Latn",["EU"],"Seeltersk"],sty:["Cyrl",["EU","AS"],"себертатар"],su:["Latn",["AS"],"Basa Sunda"],sv:["Latn",["EU"],"svenska"],sw:["Latn",["AF"],"Kiswahili"],swb:["Latn",["AF"],"Shikomoro"],sxu:["Latn",["EU"],"Säggssch"],szl:["Latn",["EU"],"ślůnski"],ta:["Taml",["AS"],"தமிழ்"],tay:["Latn",["AS"],"Tayal"],tcy:["Knda",["AS"],"ತುಳು"],te:["Telu",["AS"],"తెలుగు"],tet:["Latn",["AS","PA"],"tetun"],"tg-cyrl":["Cyrl",["AS"],"тоҷикӣ"],"tg-latn":["Latn",["AS"],"tojikī"],tg:["tg-cyrl"],th:["Thai",["AS"],"ไทย"],ti:["Ethi",["AF"],"ትግርኛ"],tig:["Ethi",["AF"],"ትግረ"],tk:["Latn",["AS"],"Türkmençe"],tkr:["Cyrl",["AS"],"ЦӀаӀхна миз"],tl:["Latn",["AS"],"Tagalog"],tly:["Cyrl",["EU","AS","ME"],"толышә зывон"],tmr:["Hebr",["ME","EU","AM"],"ארמית בבלית"],tn:["Latn",["AF"],"Setswana"],to:["Latn",["PA"],"lea faka-Tonga"],tokipona:["Latn",["WW"],"Toki Pona"],tpi:["Latn",["PA","AS"],"Tok Pisin"],tr:["Latn",["EU","ME"],"Türkçe"],trp:["Latn",["AS"],"Kokborok (Tripuri)"],tru:["Latn",["AS"],"Ṫuroyo"],trv:["Latn",["AS"],"Sediq Taroko"],ts:["Latn",["AF"],"Xitsonga"],tsd:["Grek",["EU"],"Τσακωνικά"],tt:["Cyrl",["EU"],"татарча"],"tt-cyrl":["tt"],"tt-latn":["Latn",["EU"],"tatarça"],ttt:["Cyrl",["AS"],"Tati"],tum:["Latn",["AF"],"chiTumbuka"],tw:["Latn",["AF"],"Twi"],twd:["Latn",["EU"],"Tweants"],ty:["Latn",["PA"],"reo tahiti"],tyv:["Cyrl",["AS"],"тыва дыл"],tzl:["Latn",["WW"],"Talossan"],tzm:["Tfng",["AF"],"ⵜⴰⵎⴰⵣⵉⵖⵜ"],udm:["Cyrl",["EU"],"удмурт"],ug:["ug-arab"],"ug-arab":["Arab",["AS"],"ئۇيغۇرچە"],"ug-latn":["Latn",["AS"],"uyghurche"],"ug-cyrl":["Cyrl",["AS"],"уйғурчә"],uk:["Cyrl",["EU"],"українська"],umu:["Latn",["AM"],"Huluníixsuwaakan"],ur:["Arab",["AS","ME"],"اردو"],uz:["Latn",["AS"],"oʻzbekcha"],ve:["Latn",["AF"],"Tshivenda"],vec:["Latn",["EU"],"vèneto"],vep:["Latn",["EU"],"vepsän kel’"],vi:["Latn",["AS"],"Tiếng Việt"],vls:["Latn",["EU"],"West-Vlams"],vmf:["Latn",["EU"],"Mainfränkisch"],vo:["Latn",["WW"],"Volapük"],vot:["Latn",["EU"],"Vaďďa"],vro:["Latn",["EU"],"Võro"],wa:["Latn",["EU"],"walon"],war:["Latn",["AS"],"Winaray"],wls:["Latn",["PA"],"Faka'uvea"],wo:["Latn",["AF"],"Wolof"],wuu:["Hans",["AS"],"吴语"],xal:["Cyrl",["EU"],"хальмг"],xh:["Latn",["AF"],"isiXhosa"],xmf:["Geor",["EU"],"მარგალური"],xsy:["Latn",["AS"],"SaiSiyat"],ydd:["Hebr",["AS","EU"],"Eastern Yiddish"],yi:["Hebr",["ME","EU","AM"],"ייִדיש"],yo:["Latn",["AF"],"Yorùbá"],yrk:["Cyrl",["AS"],"Ненэцяʼ вада"],yrl:["Latn",["AM"],"ñe'engatú"],yua:["Latn",["AM"],"Maaya T'aan"],yue:["Hant",["AS"],"粵語"],za:["Latn",["AS"],"Vahcuengh"],zea:["Latn",["EU"],"Zeêuws"],zgh:["Tfng",["AF"],"ⵜⴰⵎⴰⵣⵉⵖⵜ ⵜⴰⵏⴰⵡⴰⵢⵜ"],zh:["Hans",["AS"],"中文"],"zh-classical":["lzh"],"zh-cn":["Hans",["AS"],"中文（中国大陆）"],"zh-hans":["Hans",["AS"],"中文（简体）"],"zh-hant":["Hant",["AS"],"中文（繁體）"],"zh-hk":["Hant",["AS"],"中文（香港）"],"zh-min-nan":["nan"],"zh-mo":["Hant",["AS"],"中文（澳門）"],"zh-my":["Hans",["AS"],"中文（马来西亚）"],"zh-sg":["Hans",["AS"],"中文（新加坡）"],"zh-tw":["Hant",["AS"],"中文（台灣）"],"zh-yue":["yue"],zu:["Latn",["AF"],"isiZulu"],zun:["Latn",["AM"],"Shiwi'ma"]},scriptgroups:{Latin:["Latn","Goth"],Greek:["Grek"],WestCaucasian:["Armn","Geor"],Arabic:["Arab"],MiddleEastern:["Hebr","Syrc"],African:["Ethi","Nkoo","Tfng","Copt"],SouthAsian:["Beng","Deva","Gujr","Guru","Knda","Mlym","Olck","Orya","Saur","Sinh","Taml","Telu","Tibt","Thaa","Wara"],Cyrillic:["Cyrl"],CJK:["Hans","Hant","Kana","Kore","Jpan","Yiii"],SouthEastAsian:["Bali","Batk","Bugi","Java","Khmr","Laoo","Mymr","Thai"],Mongolian:["Mong"],SignWriting:["Sgnw"],NativeAmerican:["Cher","Cans"],Special:["Zyyy"]},rtlscripts:["Arab","Hebr","Syrc","Nkoo","Thaa"],regiongroups:{WW:1,SP:1,AM:2,EU:3,ME:3,AF:3,AS:4,PA:4},territories:{AC:["en"],AD:["ca","es","fr"],AE:["ar","ml","ps","fa"],AF:["fa","ps","uz","tk","bgn","ug-arab","kk-arab","kk-cyrl"],AG:["en","pt"],AI:["en"],AL:["sq","el","mk"],AM:["hy","ku-latn","az-latn"],AO:["pt","ln"],AR:["es","en","cy","gn"],AS:["sm","en"],AT:["de","bar","en","fr","it","hr","sl","hu"],AU:["en","zh-hant","zh","it"],AW:["nl","pap","en"],AX:["sv"],AZ:["az-latn","az-cyrl","tly","ku-latn","ttt","tkr"],BA:["bs","en","hr","sr-cyrl","sr-latn"],BB:["en"],BD:["bn","en","my","mni"],BE:["en","nl","fr","de","vls","wa"],BF:["fr","ff"],BG:["bg","en","ru","tr","de"],BH:["ar","ml"],BI:["rn","fr","sw","en"],BJ:["fr","fon","yo"],BL:["fr"],BM:["en"],BN:["ms","zh-hant","zh","en"],BO:["es","qu","ay","gn","aro"],BQ:["pap","nl"],BR:["pt","en","de","it","ja","es","ko","kgp","yrl"],BS:["en"],BT:["dz","ne","en"],BW:["en","tn","af"],BY:["be","ru"],BZ:["en","es"],CA:["en","fr","it","de","pdt","cr","yi","ike-cans","moe","atj"],CC:["ms","en"],CD:["sw","fr","ln","kg","rw"],CF:["fr","sg","ln"],CG:["fr","ln"],CH:["de","gsw","en","fr","it","lmo","pt","rm"],CI:["fr"],CK:["en"],CL:["es","en","arn"],CM:["fr","en","ff","ar","ksf","ha-arab","ha-latn"],CN:["zh","wuu","yue","hsn","hak","nan","gan","ii","ug-arab","za","mn","bo","ko","kk-arab","kk-cyrl","ky","en","ru","vi","uz","lzh"],CO:["es","guc"],CR:["es"],CU:["es"],CV:["kea","pt"],CW:["pap","nl","es"],CX:["en"],CY:["el","en","tr","fr","hy","ar"],CZ:["cs","en","sk","de","pl"],DE:["de","en","fr","bar","nds","nl","it","es","ru","vmf","tr","gsw","da","hr","ku-latn","el","ksh","pl","hsb","frr","dsb","stq","pfl"],DG:["en"],DJ:["aa","so","ar","fr"],DK:["da","en","de","sv","fo","kl","jut"],DM:["en"],DO:["es","en"],DZ:["arq","ar","fr","kab","en"],EA:["es"],EC:["es","qu","qug"],EE:["et","ru","en","fi","vro"],EG:["ar","arz","en","el"],EH:["ar"],ER:["ti","en","tig","ar","aa","byn"],ES:["es","en","ca","gl","eu","ast","ext"],ET:["en","am","om","so","ti","aa"],FI:["fi","en","sv","de","ru","et","rmf","se","smn","sms"],FJ:["en","hi","hif","fj","rtm"],FK:["en"],FM:["en"],FO:["fo"],FR:["fr","en","es","de","oc","it","pt","pcd","gsw","br","co","ca","nl","eu","frp","ia"],GA:["fr"],GB:["en","fr","de","sco","pa-guru","cy","bn","zh-hant","zh","el","it","ks-arab","gd","yi","ml","ga","kw"],GD:["en"],GE:["ka","xmf","ru","hy","ab","os","ku-latn"],GF:["fr","gcr","zh-hant","zh"],GG:["en"],GH:["ak","en","ee","gur","gaa","ha-latn","ff"],GI:["en","es"],GL:["kl","da"],GM:["en","ff"],GN:["fr","ff","nqo"],GP:["fr"],GQ:["es","fan","fr","pt"],GR:["el","en","fr","de","pnt","mk","tr","bg","sq","tsd"],GT:["es","quc"],GU:["en","ch"],GW:["pt","ff"],GY:["en"],HK:["zh-hant","zh","yue","en"],HN:["es","en"],HR:["hr","en","it"],HT:["ht","fr"],HU:["hu","en","de","fr","ro","hr","sk","sl"],IC:["es"],ID:["id","jv","su","ms","min","bew","ban","bug","bjn","ace","bbc-latn","zh-hant","zh","gor","sly","mwv"],IE:["en","ga","fr"],IL:["he","en","ar","ru","ro","yi","pl","lad-latn","hu","am","ti","ml"],IM:["en","gv"],IN:["hi","en","bn","te","mr","ta","ur","gu","kn","ml","or","pa-guru","bho","as","mai","hne","ne","sat","ks-arab","gom-deva","gbm","sd","doi","tcy","brx","mni","hoc","saz","bfq","njo","bo","bpy","bft","sa","dv","dz"],IO:["en"],IQ:["ar","en","ckb","az-arab","az-latn","fa","lrc"],IR:["fa","az-arab","az-latn","mzn","glk","ckb","sdh","tk","lrc","ar","bqi","luz","lki","bgn","hy","ps","ka","gbz","kk-arab","kk-cyrl"],IS:["is","da"],IT:["it","en","fr","sc","de","vec","nap","lij","scn","sl","sdc","fur","egl","ca","el","lmo","pms","hr","rgn"],JE:["en"],JM:["en","jam"],JO:["ar","en"],JP:["ja","ryu","ko"],KE:["sw","en","ki","so","pko","om","ar","pa-guru","gu"],KG:["ky","ru"],KH:["km"],KI:["en"],KM:["ar","fr"],KN:["en"],KP:["ko"],KR:["ko"],KW:["ar"],KY:["en"],KZ:["ru","kk-cyrl","en","de","ug-cyrl","ug-arab"],LA:["lo"],LB:["ar","en","hy","ku-arab","ku-latn","fr"],LC:["en"],LI:["de","gsw"],LK:["si","ta","en"],LR:["en","ff"],LS:["st","en","zu","ss","xh"],LT:["lt","ru","en","de","sgs"],LU:["fr","lb","de","en","pt"],LV:["lv","en","ru","ltg"],LY:["ar"],MA:["ary","ar","zgh","fr","en","tzm","shi-latn","rif","es"],MC:["fr"],MD:["ro","uk","bg","gag","ru"],ME:["sr-latn","sr-cyrl","sq"],MF:["fr"],MG:["mg","fr","en"],MH:["en","mh"],MK:["mk","sq","tr"],ML:["bm","fr","ses","ar"],MM:["my","shn","kac","mnw"],MN:["mn","kk-arab","kk-cyrl","zh","ru","ug-cyrl","ug-arab"],MO:["zh-hant","zh","pt","en"],MP:["en","ch"],MQ:["fr"],MR:["ar","fr","ff","wo"],MS:["en"],MT:["mt","en","it","fr"],MU:["mfe","en","bho","ur","fr","ta"],MV:["dv"],MW:["en","ny","tum","zu"],MX:["es","en","yua","sei"],MY:["ms","en","zh-hant","zh","ta","jv","dtp","ml","bug","bjn"],MZ:["pt","ts","ny","sw","zu"],NA:["af","kj","ng","hz","en","de","tn"],NC:["fr"],NE:["ha-latn","fr","ar","ff"],NF:["en"],NG:["en","ha-latn","ig","yo","ha-arab","ar","ff"],NI:["es"],NL:["nl","en","de","fr","nds","li","fy","id","zea","rif","tr"],NO:["nb","nn","se"],NP:["ne","mai","bho","new","en","dty","hi","bo","bn"],NR:["en","na"],NU:["en","niu"],NZ:["en","mi"],OM:["ar","fa"],PA:["es","en","zh-hant","zh"],PE:["es","qu","ay"],PF:["fr","ty","zh-hant","zh"],PG:["tpi","en","ho"],PH:["en","tl","es","ceb","ilo","hil","war","pam","pag","zh-hant","zh","cps","krj","bto"],PK:["ur","pa-guru","en","ps","sd","skr-arab","brh","fa","bgn","tg-cyrl","bft","khw","ks-arab"],PL:["pl","en","de","ru","szl","be","uk","csb","sli","lt"],PM:["fr","en"],PN:["en"],PR:["es","en"],PS:["ar"],PT:["pt","en","fr","es","gl"],PW:["en"],PY:["gn","es","de"],QA:["ar","fa","ml"],RE:["fr","rcf","ta"],RO:["ro","en","fr","es","hu","de","tr","sr-latn","sr-cyrl","bg","el","pl"],RS:["sr-cyrl","sr-latn","sq","hu","ro","hr","sk","uk"],RU:["ru","tt","ba","cv","hy","ce","av","udm","mhr","sah","os","kbd","myv","mdf","kum","kv","lez","krc","inh","tyv","az-cyrl","az-latn","ady","krl","lbe","koi","mrj","fi","sr-latn","sr-cyrl","vep","mn","vot","cu"],RW:["rw","en","fr"],SA:["ar"],SB:["en"],SC:["fr","en"],SD:["ar","en","ha-arab","ha-latn"],SE:["sv","en","fi","fit","se","yi","smj","sma","ia"],SG:["en","zh","ms","ta","ml","pa-guru"],SH:["en"],SI:["sl","hr","en","de","hu","it"],SJ:["nb","ru"],SK:["sk","cs","en","de","hu","uk","pl"],SL:["kri","en","ff"],SM:["it","eo"],SN:["wo","fr","ff"],SO:["so","ar","sw","om"],SR:["nl","srn","zh-hant","zh"],SS:["ar","en"],ST:["pt"],SV:["es"],SX:["en","es","nl"],SY:["ar","ku-latn","fr","hy"],SZ:["en","ss","zu","ts"],TA:["en"],TC:["en"],TD:["fr","ar"],TF:["fr"],TG:["fr","ee"],TH:["th","en","nod","zh-hant","zh","mnw","shn"],TJ:["tg-cyrl","ru","fa","ar"],TK:["en"],TL:["pt","tet"],TM:["tk","ru","uz","ku-latn"],TN:["aeb-arab","ar","fr"],TO:["to","en"],TR:["tr","en","ku-latn","kbd","az-latn","az-arab","ar","bg","ady","kiu","hy","ka","sr-latn","sr-cyrl","lzz","sq","ab","el","tru","uz","ky","kk-cyrl"],TT:["en","es"],TV:["en"],TW:["zh-hant","zh","trv"],TZ:["sw","en","lag"],UA:["uk","ru","pl","yi","rue","be","crh","ro","bg","tr","hu","el"],UG:["sw","lg","en","rw","hi"],UM:["en"],US:["en","es","zh-hant","zh","fr","de","tl","it","vi","ko","ru","nv","yi","pdc","haw","frc","chr","esu","cho","lkt","ik","mus"],UY:["es"],UZ:["uz","ru","kaa","tr"],VA:["it","la"],VC:["en"],VE:["es"],VG:["en"],VI:["en"],VN:["vi","zh-hant","zh"],VU:["bi","en","fr"],WF:["wls","fr"],WS:["sm","en"],XK:["sq","aln","sr-cyrl","sr-latn"],YE:["ar","en"],YT:["swb","fr","sw"],ZA:["en","zu","xh","af","nso","tn","st","ts","ss","ve","hi","nr","sw"],ZM:["en","ny","loz"],ZW:["sn","en","nd","ny","ve","tn"]}}))},{}]},{},[1])}).call(this,i("EVdn"))},Mv9J:function(t,e,i){(function(t,e){App.UlsTagMultiselectWidget=function(e){var i,n=App.getCookieVal("preferredLangs",[]),o=[];for(i=0;i<n.length;i++)o.push({data:n[i],label:t.uls.data.languages[n[i]][2]});e=t.extend({allowedValues:Object.keys(t.uls.data.languages),selected:o,inputPosition:"none"},e),App.UlsTagMultiselectWidget.parent.call(this,e)},e.inheritClass(App.UlsTagMultiselectWidget,e.ui.TagMultiselectWidget),App.UlsTagMultiselectWidget.prototype.onUlsSelect=function(e){this.addTag(e,t.uls.data.languages[e][2])}}).call(this,i("EVdn"),i("ovuR"))},Nrnj:function(t,e,i){},"UmG/":function(t,e,i){(function(t){t.App={}}).call(this,i("yLpj"))},W28u:function(t,e,i){(function(t,e){i("8U2o"),t((function(){var i,n=t(".target-lang-widget");function o(e,i){e.setValue(i),t(".translation-fields .oo-ui-fieldLayout .oo-ui-inputWidget input:first").trigger("blur"),appConfig.unsaved=!1}0!==n.length&&(i=e.ui.infuse(n)).$element.uls({onSelect:function(i){var n=this;!0===appConfig.unsaved?e.ui.confirm(t.i18n("confirmation-to-switch-target-lang")).done((function(t){t&&o(n,i)})):o(n,i)}.bind(i),quickList:App.getCookieVal("preferredLangs",[]),left:i.$element.offset().left})})),t((function(){var i,n,o=new App.Model(appConfig.translations),s=t(".source-lang-widget"),a=t(".target-lang-widget"),r=[];void 0!==appConfig.translations&&(1===s.length&&(i=e.ui.infuse(s[0])).on("change",(function(){o.setSourceLang(i.getValue())})),1===a.length&&((n=e.ui.infuse(a[0])).on("change",(function(){o.setTargetLang(n.getValue())})),o.on("targetLangSet",(function(){t("input[name='target-lang']").val(o.getTargetLang()),n.setLabel(t.uls.data.languages[o.getTargetLang()][2]),n.setData(o.getTargetLang())}))),t(".translation-fields .oo-ui-fieldLayout").each((function(){var i=e.ui.infuse(t(this)),n=i.getField().data["tspan-id"];r.push(i.getField()),i.getField().on("change",(function(){var e=t("#translation-image img").data("filename");o.setTargetTranslation(e,n,i.getField().getValue())})),o.on("sourceLangSet",(function(){var e=o.getSourceTranslation(n);e.exists?(i.setLabel(e.label),i.$element.removeClass("source-lang-not-found")):(i.setLabel(t.i18n("source-lang-not-found",[e.label])),i.$element.addClass("source-lang-not-found"))})),o.on("targetLangSet",(function(){var e=o.getTargetTranslation(n);i.getField().setValue(e),i.getField().setDir(t.uls.data.isRtl(o.getTargetLang())?"rtl":"ltr"),i.getField().setDisabled(!1)}))})),appConfig.unsaved=o.loadFromLocalStorage(t("#translation-image img").data("filename")),i&&n&&(i.setValue(o.getSourceLang()),n.setValue(o.getTargetLang())),r.forEach((function(t){t.setValue(o.getTargetTranslation(t.data["tspan-id"]))})))})),t(window).on("load",(function(){t((function(){t(".translation-fields .oo-ui-fieldLayout .oo-ui-inputWidget").each((function(){var i=e.ui.infuse(t(this)),n=t("#translation-image img"),o=t(':input[name="target-lang"]').val(),s=function(){var i={},s=t("#upload-button-widget"),a=e.ui.infuse(s),r=t("#download-button-widget"),l=e.ui.infuse(r);window.alreadyUpdating||(appConfig.unsaved=!1,window.alreadyUpdating=!0,t(".image-column").addClass("loading"),t(".translation-fields .oo-ui-fieldLayout").each((function(){var n,s="",a=e.ui.infuse(t(this)),r=a.getField().data["tspan-id"],l=a.getField().getValue();void 0!==appConfig.translations[r][o]&&(s=appConfig.translations[r][o].text),n=""!==l&&l!==s,i[r]=l,appConfig.unsaved=appConfig.unsaved||n})),l.setDisabled(!0),t.ajax({type:"POST",url:appConfig.baseUrl+"api/translate/"+n.data("filename")+"/"+o,data:i,success:function(e){appConfig.imageMapLayer.on("load",(function(){t(".image-column").removeClass("loading")})),appConfig.imageMapLayer.setUrl(e.imageSrc)},error:function(i){0!==i.readyState&&(e.ui.alert(t.i18n("preview-error-occurred")),t(".image-column").removeClass("loading"))},complete:function(){window.alreadyUpdating=!1,l.setDisabled(!1)}}),a.setDisabled(!appConfig.unsaved||!appConfig.loggedIn))};i.$input.on("blur",s),i.on("change",e.ui.debounce(s,2e3)),s()}))}))})),t(window).on("load",(function(){var e,i,n=t("#translation-image");1===n.length&&((i=n.find("img")).css("visibility","hidden"),n.css({height:"80vh",width:"auto"}),e=L.map(n.attr("id"),{crs:L.CRS.Simple,center:[i.height()/2,i.width()/2],zoom:0}),appConfig.imageMapLayer=L.imageOverlay(i.attr("src"),[[0,0],[i.height(),i.width()]]),appConfig.imageMapLayer.addTo(e))})),t((function(){var i,n=t("#upload-button-widget");1===n.length&&(i=e.ui.infuse(n)).on("click",(function(){var e=i.$element.parents("form"),n=t("<input>").attr("type","hidden").attr("name","upload");e.prepend(n),i.setLabel(t.i18n("upload-button-in-progress")),i.setDisabled(!0),e.submit()}))}))}).call(this,i("EVdn"),i("ovuR"))},anCX:function(t,e,i){(function(t){!function(t){"use strict";t.i18n.languages.fi=t.extend({},t.i18n.languages.default,{convertGrammar:function(t,e){var i=t.match(/[aou][^äöy]*$/i),n=t;switch(t.match(/wiki$/i)&&(i=!1),t.match(/[bcdfghjklmnpqrstvwxz]$/i)&&(t+="i"),e){case"genitive":t+="n";break;case"elative":t+=i?"sta":"stä";break;case"partitive":t+=i?"a":"ä";break;case"illative":t+=t.slice(-1)+"n";break;case"inessive":t+=i?"ssa":"ssä";break;default:t=n}return t}})}(t)}).call(this,i("EVdn"))},bMVF:function(t,e,i){},gXRV:function(t,e,i){},iGkt:function(t,e,i){(function(t,e){App.InterfaceLangButton=function(e){this.interfaceLang=e.interfaceLang,this.currentLang=this.interfaceLang,e=t.extend({indicator:"down",label:appConfig.languages[this.interfaceLang]},e),App.InterfaceLangButton.super.call(this,e)},e.inheritClass(App.InterfaceLangButton,e.ui.ButtonWidget),App.InterfaceLangButton.prototype.onClick=function(t){this.$element.uls({ulsPurpose:"interfaceLang",languages:appConfig.languages,onSelect:this.onUlsSelect.bind(this),top:App.LanguageDialog.prototype.calculateUlsTop.bind(this.$element)})},App.InterfaceLangButton.prototype.onUlsSelect=function(t){this.setLabel(appConfig.languages[t]),this.currentLang=t}}).call(this,i("EVdn"),i("ovuR"))},lK6O:function(t,e,i){
/* @preserve
 * Leaflet 1.4.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t){"use strict";function e(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;i++)for(e in o=arguments[i])t[e]=o[e];return t}function i(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}function n(t){return t._leaflet_id=t._leaflet_id||++Kt,t._leaflet_id}function o(t,e,i){var n,o,s,a;return a=function(){n=!1,o&&(s.apply(i,o),o=!1)},s=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(a,e),n=!0)}}function s(t,e,i){var n=e[1],o=e[0],s=n-o;return t===n&&i?t:((t-o)%s+s)%s+o}function a(){return!1}function r(t,e){var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function l(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function u(t){return l(t).split(/\s+/)}function h(t,e){for(var i in t.hasOwnProperty("options")||(t.options=t.options?Gt(t.options):{}),e)t.options[i]=e[i];return t.options}function c(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}function d(t,e){return t.replace(qt,(function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n}))}function p(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}function g(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function m(t){var e=+new Date,i=Math.max(0,16-(e-Xt));return Xt=e+i,window.setTimeout(t,i)}function f(t,e,n){if(!n||Jt!==m)return Jt.call(window,i(t,e));t.call(e)}function y(t){t&&Qt.call(window,t)}function v(){}function b(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}function _(t,e,i){return t instanceof b?t:Zt(t)?new b(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new b(t.x,t.y):new b(t,e,i)}function x(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function w(t,e){return!t||t instanceof x?t:new x(t,e)}function E(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function C(t,e){return t instanceof E?t:new E(t,e)}function T(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function I(t,e,i){return t instanceof T?t:Zt(t)&&"object"!=typeof t[0]?3===t.length?new T(t[0],t[1],t[2]):2===t.length?new T(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new T(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new T(t,e,i)}function W(t,e,i,n){if(Zt(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function S(t,e,i,n){return new W(t,e,i,n)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t,e){var i,n,o,s,a,r,l="";for(i=0,o=t.length;i<o;i++){for(n=0,s=(a=t[i]).length;n<s;n++)l+=(n?"L":"M")+(r=a[n]).x+" "+r.y;l+=e?je?"z":"x":""}return l||"M0 0"}function M(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function P(t,e,i,n){return"touchstart"===e?A(t,i,n):"touchmove"===e?function(t,e,i){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&z(t,e)};t["_leaflet_touchmove"+i]=n,t.addEventListener(Ge,n,!1)}(t,i,n):"touchend"===e&&function(t,e,i){var n=function(t){z(t,e)};t["_leaflet_touchend"+i]=n,t.addEventListener(Ke,n,!1),t.addEventListener(qe,n,!1)}(t,i,n),this}function A(t,e,n){var o=i((function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Ze.indexOf(t.target.tagName)<0))return;yt(t)}z(t,e)}));t["_leaflet_touchstart"+n]=o,t.addEventListener(Ve,o,!1),Xe||(document.documentElement.addEventListener(Ve,D,!0),document.documentElement.addEventListener(Ge,O,!0),document.documentElement.addEventListener(Ke,F,!0),document.documentElement.addEventListener(qe,F,!0),Xe=!0)}function D(t){Ye[t.pointerId]=t,Je++}function O(t){Ye[t.pointerId]&&(Ye[t.pointerId]=t)}function F(t){delete Ye[t.pointerId],Je--}function z(t,e){for(var i in t.touches=[],Ye)t.touches.push(Ye[i]);t.changedTouches=[t],e(t)}function B(t,e,i){function n(t){var e;if(Oe){if(!me||"mouse"===t.pointerType)return;e=Je}else e=t.touches.length;if(!(e>1)){var i=Date.now(),n=i-(s||i);a=t.touches?t.touches[0]:t,r=n>0&&n<=l,s=i}}function o(t){if(r&&!a.cancelBubble){if(Oe){if(!me||"mouse"===t.pointerType)return;var i,n,o={};for(n in a)i=a[n],o[n]=i&&i.bind?i.bind(a):i;a=o}a.type="dblclick",e(a),s=null}}var s,a,r=!1,l=250;return t[ei+Qe+i]=n,t[ei+ti+i]=o,t[ei+"dblclick"+i]=e,t.addEventListener(Qe,n,!1),t.addEventListener(ti,o,!1),t.addEventListener("dblclick",e,!1),this}function R(t,e){var i=t[ei+Qe+e],n=t[ei+ti+e],o=t[ei+"dblclick"+e];return t.removeEventListener(Qe,i,!1),t.removeEventListener(ti,n,!1),me||t.removeEventListener("dblclick",o,!1),this}function N(t){return"string"==typeof t?document.getElementById(t):t}function j(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function H(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function U(t){var e=t.parentNode;e&&e.removeChild(t)}function V(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function G(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function K(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function q(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=J(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function Z(t,e){if(void 0!==t.classList)for(var i=u(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!q(t,e)){var s=J(t);X(t,(s?s+" ":"")+e)}}function Y(t,e){void 0!==t.classList?t.classList.remove(e):X(t,l((" "+J(t)+" ").replace(" "+e+" "," ")))}function X(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function J(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Q(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function tt(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function et(t,e,i){var n=e||new b(0,0);t.style[ii]=(We?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function it(t,e){t._leaflet_pos=e,ke?et(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function nt(t){return t._leaflet_pos||new b(0,0)}function ot(){ht(window,"dragstart",yt)}function st(){ct(window,"dragstart",yt)}function at(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(rt(),ai=t,ri=t.style.outline,t.style.outline="none",ht(window,"keydown",rt))}function rt(){ai&&(ai.style.outline=ri,ai=void 0,ri=void 0,ct(window,"keydown",rt))}function lt(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function ut(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function ht(t,e,i,n){if("object"==typeof e)for(var o in e)dt(t,o,e[o],i);else for(var s=0,a=(e=u(e)).length;s<a;s++)dt(t,e[s],i,n);return this}function ct(t,e,i,n){if("object"==typeof e)for(var o in e)pt(t,o,e[o],i);else if(e)for(var s=0,a=(e=u(e)).length;s<a;s++)pt(t,e[s],i,n);else{for(var r in t[hi])pt(t,r,t[hi][r]);delete t[hi]}return this}function dt(t,e,i,o){var s=e+n(i)+(o?"_"+n(o):"");if(t[hi]&&t[hi][s])return this;var a=function(e){return i.call(o||t,e||window.event)},r=a;Oe&&0===e.indexOf("touch")?P(t,e,a,s):!Fe||"dblclick"!==e||!B||Oe&&we?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,Et(t,e)&&r(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&ye&&(a=function(t){!function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=li&&i-li;n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?vt(t):(li=i,e(t))}(t,r)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a):B(t,a,s),t[hi]=t[hi]||{},t[hi][s]=a}function pt(t,e,i,o){var s=e+n(i)+(o?"_"+n(o):""),a=t[hi]&&t[hi][s];if(!a)return this;Oe&&0===e.indexOf("touch")?function(t,e,i){var n=t["_leaflet_"+e+i];"touchstart"===e?t.removeEventListener(Ve,n,!1):"touchmove"===e?t.removeEventListener(Ge,n,!1):"touchend"===e&&(t.removeEventListener(Ke,n,!1),t.removeEventListener(qe,n,!1))}(t,e,s):!Fe||"dblclick"!==e||!R||Oe&&we?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a):R(t,s),t[hi][s]=null}function gt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,wt(t),this}function mt(t){return dt(t,"mousewheel",gt),this}function ft(t){return ht(t,"mousedown touchstart dblclick",gt),dt(t,"click",xt),this}function yt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function vt(t){return yt(t),gt(t),this}function bt(t,e){if(!e)return new b(t.clientX,t.clientY);var i=ut(e),n=i.boundingClientRect;return new b((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}function _t(t){return me?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ci:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function xt(t){di[t.type]=!0}function wt(t){var e=di[t.type];return di[t.type]=!1,e}function Et(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}function Ct(t,e){if(!e||!t.length)return t.slice();var i=e*e;return function(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function t(e,i,n,o,s){var a,r,l,u=0;for(r=o+1;r<=s-1;r++)(l=$t(e[r],e[o],e[s],!0))>u&&(a=r,u=l);u>n&&(i[a]=1,t(e,i,n,o,a),t(e,i,n,a,s))}(t,n,e,0,i-1);var o,s=[];for(o=0;o<i;o++)n[o]&&s.push(t[o]);return s}(t=function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;n<s;n++)St(t[n],t[o])>e&&(i.push(t[n]),o=n);return o<s-1&&i.push(t[s-1]),i}(t,i),i)}function Lt(t,e,i){return Math.sqrt($t(t,e,i,!0))}function Tt(t,e,i,n,o){var s,a,r,l=n?Ei:Wt(t,i),u=Wt(e,i);for(Ei=u;;){if(!(l|u))return[t,e];if(l&u)return!1;r=Wt(a=It(t,e,s=l||u,i,o),i),s===l?(t=a,l=r):(e=a,u=r)}}function It(t,e,i,n,o){var s,a,r=e.x-t.x,l=e.y-t.y,u=n.min,h=n.max;return 8&i?(s=t.x+r*(h.y-t.y)/l,a=h.y):4&i?(s=t.x+r*(u.y-t.y)/l,a=u.y):2&i?(s=h.x,a=t.y+l*(h.x-t.x)/r):1&i&&(s=u.x,a=t.y+l*(u.x-t.x)/r),new b(s,a,o)}function Wt(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function St(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}function $t(t,e,i,n){var o,s=e.x,a=e.y,r=i.x-s,l=i.y-a,u=r*r+l*l;return u>0&&((o=((t.x-s)*r+(t.y-a)*l)/u)>1?(s=i.x,a=i.y):o>0&&(s+=r*o,a+=l*o)),r=t.x-s,l=t.y-a,n?r*r+l*l:new b(s,a)}function kt(t){return!Zt(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Mt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),kt(t)}function Pt(t,e,i){var n,o,s,a,r,l,u,h,c,d=[1,4,2,8];for(o=0,u=t.length;o<u;o++)t[o]._code=Wt(t[o],e);for(a=0;a<4;a++){for(h=d[a],n=[],o=0,s=(u=t.length)-1;o<u;s=o++)r=t[o],l=t[s],r._code&h?l._code&h||((c=It(l,r,h,e,i))._code=Wt(c,e),n.push(c)):(l._code&h&&((c=It(l,r,h,e,i))._code=Wt(c,e),n.push(c)),n.push(r));t=n}return t}function At(t,e){var i,n,o,s,a="Feature"===t.type?t.geometry:t,r=a?a.coordinates:null,l=[],u=e&&e.pointToLayer,h=e&&e.coordsToLatLng||Dt;if(!r&&!a)return null;switch(a.type){case"Point":return i=h(r),u?u(t,i):new Hi(i);case"MultiPoint":for(o=0,s=r.length;o<s;o++)i=h(r[o]),l.push(u?u(t,i):new Hi(i));return new Bi(l);case"LineString":case"MultiLineString":return n=Ot(r,"LineString"===a.type?0:1,h),new Ki(n,e);case"Polygon":case"MultiPolygon":return n=Ot(r,"Polygon"===a.type?1:2,h),new qi(n,e);case"GeometryCollection":for(o=0,s=a.geometries.length;o<s;o++){var c=At({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);c&&l.push(c)}return new Bi(l);default:throw new Error("Invalid GeoJSON object.")}}function Dt(t){return new T(t[1],t[0],t[2])}function Ot(t,e,i){for(var n,o=[],s=0,a=t.length;s<a;s++)n=e?Ot(t[s],e-1,i):(i||Dt)(t[s]),o.push(n);return o}function Ft(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[r(t.lng,e),r(t.lat,e),r(t.alt,e)]:[r(t.lng,e),r(t.lat,e)]}function zt(t,e,i,n){for(var o=[],s=0,a=t.length;s<a;s++)o.push(e?zt(t[s],e-1,i,n):Ft(t[s],n));return!e&&i&&o.push(o[0]),o}function Bt(t,i){return t.feature?e({},t.feature,{geometry:i}):Rt(i)}function Rt(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Nt(t,e){return new Zi(t,e)}function jt(t,e){return new an(t,e)}function Ht(t){return Ne?new un(t):null}function Ut(t){return je||He?new pn(t):null}var Vt=Object.freeze;Object.freeze=function(t){return t};var Gt=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),Kt=0,qt=/\{ *([\w_-]+) *\}/g,Zt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Yt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Xt=0,Jt=window.requestAnimationFrame||g("RequestAnimationFrame")||m,Qt=window.cancelAnimationFrame||g("CancelAnimationFrame")||g("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},te=(Object.freeze||Object)({freeze:Vt,extend:e,create:Gt,bind:i,lastId:Kt,stamp:n,throttle:o,wrapNum:s,falseFn:a,formatNum:r,trim:l,splitWords:u,setOptions:h,getParamString:c,template:d,isArray:Zt,indexOf:p,emptyImageUrl:Yt,requestFn:Jt,cancelFn:Qt,requestAnimFrame:f,cancelAnimFrame:y});v.extend=function(t){var i=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=i.__super__=this.prototype,o=Gt(n);for(var s in o.constructor=i,i.prototype=o,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(i[s]=this[s]);return t.statics&&(e(i,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=Zt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=e(Gt(o.options),t.options)),e(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},i},v.include=function(t){return e(this.prototype,t),this},v.mergeOptions=function(t){return e(this.prototype.options,t),this},v.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var ee={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._off(t[o],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=void 0);for(var o={fn:e,ctx:i},s=n,a=0,r=s.length;a<r;a++)if(s[a].fn===e&&s[a].ctx===i)return;s.push(o)},_off:function(t,e,i){var n,o,s;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(o=0,s=n.length;o<s;o++){var r=n[o];if(r.ctx===i&&r.fn===e)return r.fn=a,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,s=n.length;o<s;o++)n[o].fn=a;delete this._events[t]}},fire:function(t,i,n){if(!this.listens(t,n))return this;var o=e({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var a=0,r=s.length;a<r;a++){var l=s[a];l.fn.call(l.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var s=i((function(){this.off(t,e,n).off(t,s,n)}),this);return this.on(t,e,n).on(t,s,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[n(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[n(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var ie=v.extend(ee),ne=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(t){return this.clone()._add(_(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(_(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new b(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new b(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(t){var e=(t=_(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=_(t)).x===this.x&&t.y===this.y},contains:function(t){return t=_(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+r(this.x)+", "+r(this.y)+")"}},x.prototype={extend:function(t){return t=_(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof b?_(t):w(t))instanceof x?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=w(t);var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>=e.x&&n.x<=i.x,a=o.y>=e.y&&n.y<=i.y;return s&&a},overlaps:function(t){t=w(t);var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>e.x&&n.x<i.x,a=o.y>e.y&&n.y<i.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},E.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof T)e=t,i=t;else{if(!(t instanceof E))return t?this.extend(I(t)||C(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new T(e.lat,e.lng),this._northEast=new T(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new E(new T(e.lat-n,e.lng-o),new T(i.lat+n,i.lng+o))},getCenter:function(){return new T((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new T(this.getNorth(),this.getWest())},getSouthEast:function(){return new T(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof T||"lat"in t?I(t):C(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof E?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=C(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&n.lat<=i.lat,a=o.lng>=e.lng&&n.lng<=i.lng;return s&&a},overlaps:function(t){t=C(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>e.lat&&n.lat<i.lat,a=o.lng>e.lng&&n.lng<i.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=C(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},T.prototype={equals:function(t,e){return!!t&&(t=I(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+r(this.lat,t)+", "+r(this.lng,t)+")"},distanceTo:function(t){return se.distance(this,I(t))},wrap:function(){return se.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return C([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new T(this.lat,this.lng,this.alt)}};var oe={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new x(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?s(t.lng,this.wrapLng,!0):t.lng;return new T(this.wrapLat?s(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,o=e.lng-i.lng;if(0===n&&0===o)return t;var s=t.getSouthWest(),a=t.getNorthEast();return new E(new T(s.lat-n,s.lng-o),new T(a.lat-n,a.lng-o))}},se=e({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,s=Math.sin((e.lat-t.lat)*i/2),a=Math.sin((e.lng-t.lng)*i/2),r=s*s+Math.cos(n)*Math.cos(o)*a*a,l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return this.R*l}}),ae={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new b(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new T((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new x([-t,-t],[t,t])}()};W.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new b((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var re,le,ue,he=e({},se,{code:"EPSG:3857",projection:ae,transformation:function(){var t=.5/(Math.PI*ae.R);return S(t,.5,-t,.5)}()}),ce=e({},he,{code:"EPSG:900913"}),de=document.documentElement.style,pe="ActiveXObject"in window,ge=pe&&!document.addEventListener,me="msLaunchUri"in navigator&&!("documentMode"in document),fe=M("webkit"),ye=M("android"),ve=M("android 2")||M("android 3"),be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_e=ye&&M("Google")&&be<537&&!("AudioNode"in window),xe=!!window.opera,we=M("chrome"),Ee=M("gecko")&&!fe&&!xe&&!pe,Ce=!we&&M("safari"),Le=M("phantom"),Te="OTransition"in de,Ie=0===navigator.platform.indexOf("Win"),We=pe&&"transition"in de,Se="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ve,$e="MozPerspective"in de,ke=!window.L_DISABLE_3D&&(We||Se||$e)&&!Te&&!Le,Me="undefined"!=typeof orientation||M("mobile"),Pe=Me&&fe,Ae=Me&&Se,De=!window.PointerEvent&&window.MSPointerEvent,Oe=!(!window.PointerEvent&&!De),Fe=!window.L_NO_TOUCH&&(Oe||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ze=Me&&xe,Be=Me&&Ee,Re=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ne=!!document.createElement("canvas").getContext,je=!(!document.createElementNS||!$("svg").createSVGRect),He=!je&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),Ue=(Object.freeze||Object)({ie:pe,ielt9:ge,edge:me,webkit:fe,android:ye,android23:ve,androidStock:_e,opera:xe,chrome:we,gecko:Ee,safari:Ce,phantom:Le,opera12:Te,win:Ie,ie3d:We,webkit3d:Se,gecko3d:$e,any3d:ke,mobile:Me,mobileWebkit:Pe,mobileWebkit3d:Ae,msPointer:De,pointer:Oe,touch:Fe,mobileOpera:ze,mobileGecko:Be,retina:Re,canvas:Ne,svg:je,vml:He}),Ve=De?"MSPointerDown":"pointerdown",Ge=De?"MSPointerMove":"pointermove",Ke=De?"MSPointerUp":"pointerup",qe=De?"MSPointerCancel":"pointercancel",Ze=["INPUT","SELECT","OPTION"],Ye={},Xe=!1,Je=0,Qe=De?"MSPointerDown":Oe?"pointerdown":"touchstart",ti=De?"MSPointerUp":Oe?"pointerup":"touchend",ei="_leaflet_",ii=tt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ni=tt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),oi="webkitTransition"===ni||"OTransition"===ni?ni+"End":"transitionend";if("onselectstart"in document)re=function(){ht(window,"selectstart",yt)},le=function(){ct(window,"selectstart",yt)};else{var si=tt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);re=function(){if(si){var t=document.documentElement.style;ue=t[si],t[si]="none"}},le=function(){si&&(document.documentElement.style[si]=ue,ue=void 0)}}var ai,ri,li,ui=(Object.freeze||Object)({TRANSFORM:ii,TRANSITION:ni,TRANSITION_END:oi,get:N,getStyle:j,create:H,remove:U,empty:V,toFront:G,toBack:K,hasClass:q,addClass:Z,removeClass:Y,setClass:X,getClass:J,setOpacity:Q,testProp:tt,setTransform:et,setPosition:it,getPosition:nt,disableTextSelection:re,enableTextSelection:le,disableImageDrag:ot,enableImageDrag:st,preventOutline:at,restoreOutline:rt,getSizedParentNode:lt,getScale:ut}),hi="_leaflet_events",ci=Ie&&we?2*window.devicePixelRatio:Ee?window.devicePixelRatio:1,di={},pi=(Object.freeze||Object)({on:ht,off:ct,stopPropagation:gt,disableScrollPropagation:mt,disableClickPropagation:ft,preventDefault:yt,stop:vt,getMousePosition:bt,getWheelDelta:_t,fakeStop:xt,skipped:wt,isExternalTarget:Et,addListener:ht,removeListener:ct}),gi=ie.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=nt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=f(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),it(this._el,i),this.fire("step")},_complete:function(){y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),mi=ie.extend({options:{crs:he,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=h(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(I(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ni&&ke&&!ze&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ht(this._proxy,oi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,n){return i=void 0===i?this._zoom:this._limitZoom(i),t=this._limitCenter(I(t),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=e({animate:n.animate},n.zoom),n.pan=e({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,i),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(ke?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(ke?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),s=(t instanceof b?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),a=this.containerPointToLatLng(o.add(s));return this.setView(a,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():C(t);var i=_(e.paddingTopLeft||e.padding||[0,0]),n=_(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var s=n.subtract(i).divideBy(2),a=this.project(t.getSouthWest(),o),r=this.project(t.getNorthEast(),o);return{center:this.unproject(a.add(r).divideBy(2).add(s),o),zoom:o}},fitBounds:function(t,e){if(!(t=C(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=_(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){Z(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){function n(t){var e=(d*d-c*c+(t?-1:1)*m*m*p*p)/(2*(t?d:c)*m*p),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function a(t){return c*(s(y)*function(t){return o(t)/s(t)}(y+g*t)-o(y))/m}if(!1===(i=i||{}).animate||!ke)return this.setView(t,e,i);this._stop();var r=this.project(this.getCenter()),l=this.project(t),u=this.getSize(),h=this._zoom;t=I(t),e=void 0===e?h:e;var c=Math.max(u.x,u.y),d=c*this.getZoomScale(h,e),p=l.distanceTo(r)||1,g=1.42,m=g*g,y=n(0),v=Date.now(),b=(n(1)-y)/g,_=i.duration?1e3*i.duration:1e3*b*.8;return this._moveStart(!0,i.noMoveStart),function i(){var n=(Date.now()-v)/_,o=function(t){return 1-Math.pow(1-t,1.5)}(n)*b;n<=1?(this._flyToFrame=f(i,this),this._move(this.unproject(r.add(l.subtract(r).multiplyBy(a(o)/p)),h),this.getScaleZoom(c/function(t){return c*(s(y)/s(y+g*t))}(o),h),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=C(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,C(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=_((e=e||{}).paddingTopLeft||e.padding||[0,0]),n=_(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),s=this.project(o),a=this.project(t),r=this.getPixelBounds(),l=r.getSize().divideBy(2),u=w([r.min.add(i),r.max.subtract(n)]);if(!u.contains(a)){this._enforcingBounds=!0;var h=s.subtract(a),c=_(a.x+h.x,a.y+h.y);(a.x<u.min.x||a.x>u.max.x)&&(c.x=s.x-h.x,h.x>0?c.x+=l.x-i.x:c.x-=l.x-n.x),(a.y<u.min.y||a.y>u.max.y)&&(c.y=s.y-h.y,h.y>0?c.y+=l.y-i.y:c.y-=l.y-n.y),this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=n.divideBy(2).round(),a=o.divideBy(2).round(),r=s.subtract(a);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),o=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new T(t.coords.latitude,t.coords.longitude),i=e.toBounds(2*t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(o,n.maxZoom):o)}var s={latlng:e,bounds:i,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(s[a]=t.coords[a]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),U(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)U(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=H("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new E(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=C(t),i=_(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),a=t.getNorthWest(),r=t.getSouthEast(),l=this.getSize().subtract(i),u=w(this.project(r,n),this.project(a,n)).getSize(),h=ke?this.options.zoomSnap:1,c=l.x/u.x,d=l.y/u.y,p=e?Math.max(c,d):Math.min(c,d);return n=this.getScaleZoom(p,n),h&&(n=Math.round(n/(h/100))*(h/100),n=e?Math.ceil(n/h)*h:Math.floor(n/h)*h),Math.max(o,Math.min(s,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new x(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(I(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(_(t),e)},layerPointToLatLng:function(t){var e=_(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(I(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(I(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(C(t))},distance:function(t,e){return this.options.crs.distance(I(t),I(e))},containerPointToLayerPoint:function(t){return _(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return _(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(_(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(I(t)))},mouseEventToContainerPoint:function(t){return bt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=N(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");ht(e,"scroll",this._onScroll,this),this._containerId=n(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke,Z(t,"leaflet-container"+(Fe?" leaflet-touch":"")+(Re?" leaflet-retina":"")+(ge?" leaflet-oldie":"")+(Ce?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=j(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),it(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Z(t.markerPane,"leaflet-zoom-hide"),Z(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){it(this._mapPane,new b(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){it(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[n(this._container)]=this;var e=t?ct:ht;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),ke&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){y(this._resizeRequest),this._resizeRequest=f((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,o=[],s="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,r=!1;a;){if((i=this._targets[n(a)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){r=!0;break}if(i&&i.listens(e,!0)){if(s&&!Et(a,t))break;if(o.push(i),s)break}if(a===this._container)break;a=a.parentNode}return o.length||r||s||!Et(a,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!wt(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||at(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,n){if("click"===t.type){var o=e({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,i))).length){var s=n[0];"contextmenu"===i&&s.listens(i,!0)&&yt(t);var a={originalEvent:t};if("keypress"!==t.type){var r=s.getLatLng&&(!s._radius||s._radius<=10);a.containerPoint=r?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=r?s.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(i,a,!0),a.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,i))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return nt(this._mapPane)||new b(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return w([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),s=new x(n.subtract(o),n.add(o)),a=this._getBoundsOffset(s,i,e);return a.round().equals([0,0])?t:this.unproject(n.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new x(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=w(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),s=n.max.subtract(t.max);return new b(this._rebound(o.x,-s.x),this._rebound(o.y,-s.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=ke?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Y(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=H("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ii,i=this._proxy.style[e];et(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",(function(){var t=this.getCenter(),e=this.getZoom();et(this._proxy,this.project(t,e),this.getZoomScale(e,1))}),this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){U(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(o)||(f((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Z(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Y(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),f((function(){this._moveEnd(!0)}),this))}}),fi=v.extend({options:{position:"topright"},initialize:function(t){h(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return Z(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(U(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),yi=function(t){return new fi(t)};mi.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var s=i+t+" "+i+o;e[t+o]=H("div",s,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=H("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)U(this._controlCorners[t]);U(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vi=fi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in h(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return fi.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(n(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Z(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Z(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Y(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Y(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=H("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),ft(e),mt(e);var n=this._section=H("section",t+"-list");i&&(this._map.on("click",this.collapse,this),ye||ht(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=H("a",t+"-toggle",e);o.href="#",o.title="Layers",Fe?(ht(o,"click",vt),ht(o,"click",this.expand,this)):ht(o,"focus",this.expand,this),i||this.expand(),this._baseLayersList=H("div",t+"-base",n),this._separator=H("div",t+"-separator",n),this._overlaysList=H("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&n(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;V(this._baseLayersList),V(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(n(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers",o),this._layerControlInputs.push(e),e.layerId=n(t.layer),ht(e,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+t.name;var a=document.createElement("div");return i.appendChild(a),a.appendChild(e),a.appendChild(s),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var s=i.length-1;s>=0;s--)t=i[s],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||o.push(e);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),bi=fi.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=H("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var s=H("a",i,n);return s.innerHTML=t,s.href="#",s.title=e,s.setAttribute("role","button"),s.setAttribute("aria-label",e),ft(s),ht(s,"click",vt),ht(s,"click",o,this),ht(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Y(this._zoomInButton,e),Y(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&Z(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&Z(this._zoomInButton,e)}});mi.mergeOptions({zoomControl:!0}),mi.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new bi,this.addControl(this.zoomControl))}));var _i=fi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=H("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=H("div",e,i)),t.imperial&&(this._iScale=H("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),xi=fi.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){h(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=H("div","leaflet-control-attribution"),ft(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});mi.mergeOptions({attributionControl:!0}),mi.addInitHook((function(){this.options.attributionControl&&(new xi).addTo(this)})),fi.Layers=vi,fi.Zoom=bi,fi.Scale=_i,fi.Attribution=xi,yi.layers=function(t,e,i){return new vi(t,e,i)},yi.zoom=function(t){return new bi(t)},yi.scale=function(t){return new _i(t)},yi.attribution=function(t){return new xi(t)};var wi=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});wi.addTo=function(t,e){return t.addHandler(e,this),this};var Ei,Ci={Events:ee},Li=Fe?"touchstart mousedown":"mousedown",Ti={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Ii={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Wi=ie.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){h(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(ht(this._dragStartTarget,Li,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wi._dragging===this&&this.finishDrag(),ct(this._dragStartTarget,Li,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!q(this._element,"leaflet-zoom-anim")&&!(Wi._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Wi._dragging=this,this._preventOutline&&at(this._element),ot(),re(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,i=lt(this._element);this._startPoint=new b(e.clientX,e.clientY),this._parentScale=ut(i),ht(document,Ii[t.type],this._onMove,this),ht(document,Ti[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new b(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,yt(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=nt(this._element).subtract(i),Z(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Z(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,y(this._animRequest),this._lastEvent=t,this._animRequest=f(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),it(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in Y(document.body,"leaflet-dragging"),this._lastTarget&&(Y(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ii)ct(document,Ii[t],this._onMove,this),ct(document,Ti[t],this._onUp,this);st(),le(),this._moved&&this._moving&&(y(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Wi._dragging=!1}}),Si=(Object.freeze||Object)({simplify:Ct,pointToSegmentDistance:Lt,closestPointOnSegment:function(t,e,i){return $t(t,e,i)},clipSegment:Tt,_getEdgeIntersection:It,_getBitCode:Wt,_sqClosestPointOnSegment:$t,isFlat:kt,_flat:Mt}),$i=(Object.freeze||Object)({clipPolygon:Pt}),ki={project:function(t){return new b(t.lng,t.lat)},unproject:function(t){return new T(t.y,t.x)},bounds:new x([-180,-90],[180,90])},Mi={R:6378137,R_MINOR:6356752.314245179,bounds:new x([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,s=Math.sqrt(1-o*o),a=s*Math.sin(n),r=Math.tan(Math.PI/4-n/2)/Math.pow((1-a)/(1+a),s/2);return n=-i*Math.log(Math.max(r,1e-10)),new b(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),a=Math.exp(-t.y/n),r=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=s*Math.sin(r),e=Math.pow((1-e)/(1+e),s/2),r+=u=Math.PI/2-2*Math.atan(a*e)-r;return new T(r*i,t.x*i/n)}},Pi=(Object.freeze||Object)({LonLat:ki,Mercator:Mi,SphericalMercator:ae}),Ai=e({},se,{code:"EPSG:3395",projection:Mi,transformation:function(){var t=.5/(Math.PI*Mi.R);return S(t,.5,-t,.5)}()}),Di=e({},se,{code:"EPSG:4326",projection:ki,transformation:S(1/180,1,-1/180,.5)}),Oi=e({},oe,{projection:ki,transformation:S(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});oe.Earth=se,oe.EPSG3395=Ai,oe.EPSG3857=he,oe.EPSG900913=ce,oe.EPSG4326=Di,oe.Simple=Oi;var Fi=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[n(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[n(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",(function(){e.off(i,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});mi.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=n(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=n(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&n(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?Zt(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[n(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=n(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zi=Fi.extend({initialize:function(t,e){var i,n;if(h(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return n(t)}}),Bi=zi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),zi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),zi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new E;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Ri=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){h(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=_(n),s=_("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Re&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Ni=Ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ni.imagePath||(Ni.imagePath=this._detectIconPath()),(this.options.imagePath||Ni.imagePath)+Ri.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=H("div","leaflet-default-icon-path",document.body),e=j(t,"background-image")||j(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),ji=wi.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Wi(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Z(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Y(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=nt(e._icon),a=i.getPixelBounds(),r=i.getPixelOrigin(),l=w(a.min._subtract(r).add(o),a.max._subtract(r).subtract(o));if(!l.contains(s)){var u=_((Math.max(l.max.x,s.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(n);i.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),it(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=f(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(y(this._panRequest),this._panRequest=f(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=nt(e._icon),o=e._map.layerPointToLatLng(n);i&&it(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Hi=Fi.extend({options:{icon:new Ni,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){h(this,e),this._latlng=I(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=I(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),Z(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&(Z(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),U(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&U(this._shadow),this._shadow=null},_setPos:function(t){it(this._icon,t),this._shadow&&it(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(Z(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ji)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ji(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;Q(this._icon,t),this._shadow&&Q(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Ui=Fi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return h(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Vi=Ui.extend({options:{fill:!0,radius:10},initialize:function(t,e){h(this,e),this._latlng=I(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=I(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ui.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new x(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Gi=Vi.extend({initialize:function(t,i,n){if("number"==typeof i&&(i=e({},n,{radius:i})),h(this,i),this._latlng=I(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new E(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ui.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===se.distance){var o=Math.PI/180,s=this._mRadius/se.R/o,a=i.project([e+s,t]),r=i.project([e-s,t]),l=a.add(r).divideBy(2),u=i.unproject(l).lat,h=Math.acos((Math.cos(s*o)-Math.sin(e*o)*Math.sin(u*o))/(Math.cos(e*o)*Math.cos(u*o)))/o;(isNaN(h)||0===h)&&(h=s/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-i.project([u,t-h]).x,this._radiusY=l.y-a.y}else{var c=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(c).x}this._updateBounds()}}),Ki=Ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){h(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,o=null,s=$t,a=0,r=this._parts.length;a<r;a++)for(var l=this._parts[a],u=1,h=l.length;u<h;u++){var c=s(t,e=l[u-1],i=l[u],!0);c<n&&(n=c,o=s(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,s,a,r=this._rings[0],l=r.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=r[t].distanceTo(r[t+1])/2;if(0===e)return this._map.layerPointToLatLng(r[0]);for(t=0,n=0;t<l-1;t++)if(o=r[t],s=r[t+1],(n+=i=o.distanceTo(s))>e)return a=(n-e)/i,this._map.layerPointToLatLng([s.x-a*(s.x-o.x),s.y-a*(s.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=I(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new E,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return kt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=kt(t),n=0,o=t.length;n<o;n++)i?(e[n]=I(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new x;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new b(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,o,s=t[0]instanceof T,a=t.length;if(s){for(o=[],n=0;n<a;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<a;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,o,s,a,r,l=this._parts;for(e=0,n=0,o=this._rings.length;e<o;e++)for(i=0,s=(r=this._rings[e]).length;i<s-1;i++)(a=Tt(r[i],r[i+1],t,i,!0))&&(l[n]=l[n]||[],l[n].push(a[0]),a[1]===r[i+1]&&i!==s-2||(l[n].push(a[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=Ct(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,s,a,r,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(n=0,o=(a=(r=this._parts[i]).length)-1;n<a;o=n++)if((e||0!==n)&&Lt(t,r[o],r[n])<=l)return!0;return!1}});Ki._flat=Mt;var qi=Ki.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,s,a,r,l,u=this._rings[0],h=u.length;if(!h)return null;for(s=a=r=0,t=0,e=h-1;t<h;e=t++)i=u[t],n=u[e],o=i.y*n.x-n.y*i.x,a+=(i.x+n.x)*o,r+=(i.y+n.y)*o,s+=3*o;return l=0===s?u[0]:[a/s,r/s],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=Ki.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof T&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Ki.prototype._setLatLngs.call(this,t),kt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return kt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new b(e,e);if(t=new x(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,s=this._rings.length;o<s;o++)(n=Pt(this._rings[o],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,o,s,a,r,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,r=this._parts.length;o<r;o++)for(s=0,a=(l=(e=this._parts[o]).length)-1;s<l;a=s++)i=e[s],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u||Ki.prototype._containsPoint.call(this,t,!0)}}),Zi=Bi.extend({initialize:function(t,e){h(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=Zt(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var a=At(t,s);return a?(a.feature=Rt(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Yi={toGeoJSON:function(t){return Bt(this,{type:"Point",coordinates:Ft(this.getLatLng(),t)})}};Hi.include(Yi),Gi.include(Yi),Vi.include(Yi),Ki.include({toGeoJSON:function(t){var e=!kt(this._latlngs);return Bt(this,{type:(e?"Multi":"")+"LineString",coordinates:zt(this._latlngs,e?1:0,!1,t)})}}),qi.include({toGeoJSON:function(t){var e=!kt(this._latlngs),i=e&&!kt(this._latlngs[0]),n=zt(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),Bt(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),zi.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(i){e.push(i.toGeoJSON(t).geometry.coordinates)})),Bt(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(i)n.push(o.geometry);else{var s=Rt(o);"FeatureCollection"===s.type?n.push.apply(n,s.features):n.push(s)}}})),i?Bt(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Xi=Nt,Ji=Fi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=C(e),h(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Z(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){U(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&G(this._image),this},bringToBack:function(){return this._map&&K(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=C(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:H("img");Z(e,"leaflet-image-layer"),this._zoomAnimated&&Z(e,"leaflet-zoom-animated"),this.options.className&&Z(e,this.options.className),e.onselectstart=a,e.onmousemove=a,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;et(this._image,i,e)},_reset:function(){var t=this._image,e=new x(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();it(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Q(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Qi=Ji.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:H("video");if(Z(e,"leaflet-image-layer"),this._zoomAnimated&&Z(e,"leaflet-zoom-animated"),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],s=0;s<n.length;s++)o.push(n[s].src);this._url=n.length>0?o:[e.src]}else{Zt(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var r=0;r<this._url.length;r++){var l=H("source");l.src=this._url[r],e.appendChild(l)}}}}),tn=Fi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){h(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Q(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Q(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(Q(this._container,0),this._removeTimeout=setTimeout(i(U,void 0,this._container),200)):U(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=I(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&G(this._container),this},bringToBack:function(){return this._map&&K(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=_(this.options.offset),i=this._getAnchor();this._zoomAnimated?it(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),en=tn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){tn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ui||this._source.on("preclick",gt))},onRemove:function(t){tn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ui||this._source.off("preclick",gt))},getEvents:function(){var t=tn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=H("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=H("div",t+"-content-wrapper",e);if(this._contentNode=H("div",t+"-content",i),ft(i),mt(this._contentNode),ht(i,"contextmenu",gt),this._tipContainer=H("div",t+"-tip-container",e),this._tip=H("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=H("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",ht(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight;o&&n>o?(e.height=o+"px",Z(t,"leaflet-popup-scrolled")):Y(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();it(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(j(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new b(this._containerLeft,-i-this._containerBottom);o._add(nt(this._container));var s=t.layerPointToContainerPoint(o),a=_(this.options.autoPanPadding),r=_(this.options.autoPanPaddingTopLeft||a),l=_(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),h=0,c=0;s.x+n+l.x>u.x&&(h=s.x+n-u.x+l.x),s.x-h-r.x<0&&(h=s.x-r.x),s.y+i+l.y>u.y&&(c=s.y+i-u.y+l.y),s.y-c-r.y<0&&(c=s.y-r.y),(h||c)&&t.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),vt(t)},_getAnchor:function(){return _(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});mi.mergeOptions({closePopupOnClick:!0}),mi.include({openPopup:function(t,e,i){return t instanceof en||(t=new en(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Fi.include({bindPopup:function(t,e){return t instanceof en?(h(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new en(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof Fi||(e=t,t=this),t instanceof Bi)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(vt(t),e instanceof Ui?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var nn=tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){tn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){tn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=tn.prototype.getEvents.call(this);return Fe&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=H("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),s=this.options.direction,a=i.offsetWidth,r=i.offsetHeight,l=_(this.options.offset),u=this._getAnchor();"top"===s?t=t.add(_(-a/2+l.x,-r+l.y+u.y,!0)):"bottom"===s?t=t.subtract(_(a/2-l.x,-l.y,!0)):"center"===s?t=t.subtract(_(a/2+l.x,r/2-u.y+l.y,!0)):"right"===s||"auto"===s&&o.x<n.x?(s="right",t=t.add(_(l.x+u.x,u.y-r/2+l.y,!0))):(s="left",t=t.subtract(_(a+u.x-l.x,r/2-u.y-l.y,!0))),Y(i,"leaflet-tooltip-right"),Y(i,"leaflet-tooltip-left"),Y(i,"leaflet-tooltip-top"),Y(i,"leaflet-tooltip-bottom"),Z(i,"leaflet-tooltip-"+s),it(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Q(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return _(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});mi.include({openTooltip:function(t,e,i){return t instanceof nn||(t=new nn(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Fi.include({bindTooltip:function(t,e){return t instanceof nn?(h(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new nn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),Fe&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof Fi||(e=t,t=this),t instanceof Bi)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(Z(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Y(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var on=Ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=_(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Ri.Default=Ni;var sn=Fi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){h(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),U(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(G(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(K(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof b?t:new b(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),o=0,s=i.length;o<s;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ge){Q(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var s=Math.min(1,(t-o.loaded)/200);Q(o.el,s),s<1?e=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(y(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=H("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(U(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=H("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)U(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),s=Math.floor(e/2),a=i-1,r=new b(+o,+s);r.z=+a;var l=this._tileCoordsToKey(r),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>n&&this._retainParent(o,s,a,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var s=2*e;s<2*e+2;s++){var a=new b(o,s);a.z=i+1;var r=this._tileCoordsToKey(a),l=this._tiles[r];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(o,s,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var s=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();ke?et(t.el,o,n):it(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*n);return new x(o.subtract(s),o.add(s))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),s=o.getCenter(),a=[],r=this.options.keepBuffer,l=new x(o.getBottomLeft().subtract([r,-r]),o.getTopRight().add([r,-r]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var h=this._tiles[u].coords;h.z===this._tileZoom&&l.contains(new b(h.x,h.y))||(this._tiles[u].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var c=o.min.y;c<=o.max.y;c++)for(var d=o.min.x;d<=o.max.x;d++){var p=new b(d,c);if(p.z=this._tileZoom,this._isValidTile(p)){var g=this._tiles[this._tileCoordsToKey(p)];g?g.current=!0:a.push(p)}}if(a.sort((function(t,e){return t.distanceTo(s)-e.distanceTo(s)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return C(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i);return[e.unproject(n,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new E(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new b(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(U(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Z(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,ge&&this.options.opacity<1&&Q(t,this.options.opacity),ye&&!ve&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&f(i(this._tileReady,this,t,null,s)),it(s,n),this._tiles[o]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(Q(n.el,0),y(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(Z(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ge||!this._map._fadeAnimated?f(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new b(this._wrapX?s(t.x,this._wrapX):t.x,this._wrapY?s(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new x(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),an=sn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=h(this,e)).detectRetina&&Re&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ye||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return ht(n,"load",i(this._tileOnLoad,this,e,n)),ht(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var i={r:Re?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=n),i["-y"]=n}return d(this._url,e(i,this.options))},_tileOnLoad:function(t,e){ge?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=a,e.onerror=a,e.complete||(e.src=Yt,U(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return _e||e.el.setAttribute("src",Yt),sn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==Yt))return sn.prototype._tileReady.call(this,t,e,i)}}),rn=an.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var n=e({},this.defaultWmsParams);for(var o in i)o in this.options||(n[o]=i[o]);var s=(i=h(this,i)).detectRetina&&Re?2:1,a=this.getTileSize();n.width=a.x*s,n.height=a.y*s,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,an.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=w(i.project(e[0]),i.project(e[1])),o=n.min,s=n.max,a=(this._wmsVersion>=1.3&&this._crs===Di?[o.y,o.x,s.y,s.x]:[o.x,o.y,s.x,s.y]).join(","),r=an.prototype.getTileUrl.call(this,t);return r+c(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,i){return e(this.wmsParams,t),i||this.redraw(),this}});an.WMS=rn,jt.wms=function(t,e){return new rn(t,e)};var ln=Fi.extend({options:{padding:.1,tolerance:0},initialize:function(t){h(this,t),n(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Z(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=nt(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),a=this._map.project(t,e).subtract(s),r=o.multiplyBy(-i).add(n).add(o).subtract(a);ke?et(this._container,r,i):it(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new x(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),un=ln.extend({getEvents:function(){var t=ln.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ht(t,"mousemove",o(this._onMouseMove,32,this),this),ht(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ht(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){y(this._redrawRequest),delete this._ctx,U(this._container),ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ln.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=Re?2:1;it(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Re&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[n(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,o=e.prev;i?i.prev=o:this._drawLast=o,o?o.next=i:this._drawFirst=i,delete t._order,delete this._layers[n(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),o=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||f(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new x,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,s,a=t._parts,r=a.length,l=this._ctx;if(r){for(l.beginPath(),i=0;i<r;i++){for(n=0,o=a[i].length;n<o;n++)s=a[i][n],l[n?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(xt(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Y(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,n,o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(Z(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}}),hn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),cn={_initContainer:function(){this._container=H("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=hn("shape");Z(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=hn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;U(e),t.removeInteractiveTarget(e),delete this._layers[n(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=hn("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=Zt(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=hn("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){G(t._container)},_bringToBack:function(t){K(t._container)}},dn=He?hn:$,pn=ln.extend({getEvents:function(){var t=ln.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=dn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){U(this._container),ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ln.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),it(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=dn("path");t.options.className&&Z(e,t.options.className),t.options.interactive&&Z(e,"leaflet-interactive"),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){U(t._path),t.removeInteractiveTarget(t._path),delete this._layers[n(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,k(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){G(t._path)},_bringToBack:function(t){K(t._path)}});He&&pn.include(cn),mi.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Ht(t)||Ut(t)}});var gn=qi.extend({initialize:function(t,e){qi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=C(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pn.create=dn,pn.pointsToPath=k,Zi.geometryToLayer=At,Zi.coordsToLatLng=Dt,Zi.coordsToLatLngs=Ot,Zi.latLngToCoords=Ft,Zi.latLngsToCoords=zt,Zi.getFeature=Bt,Zi.asFeature=Rt,mi.mergeOptions({boxZoom:!0});var mn=wi.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){U(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),re(),ot(),this._startPoint=this._map.mouseEventToContainerPoint(t),ht(document,{contextmenu:vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=H("div","leaflet-zoom-box",this._container),Z(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new x(this._point,this._startPoint),i=e.getSize();it(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(U(this._box),Y(this._container,"leaflet-crosshair")),le(),st(),ct(document,{contextmenu:vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new E(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});mi.addInitHook("addHandler","boxZoom",mn),mi.mergeOptions({doubleClickZoom:!0});var fn=wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});mi.addInitHook("addHandler","doubleClickZoom",fn),mi.mergeOptions({dragging:!0,inertia:!ve,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yn=wi.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Wi(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Z(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Y(this._map._container,"leaflet-grab"),Y(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=C(this._map.options.maxBounds);this._offsetLimit=w(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,a=i.easeLinearity,r=o.multiplyBy(a/s),l=r.distanceTo([0,0]),u=Math.min(i.inertiaMaxSpeed,l),h=r.multiplyBy(u/l),c=u/(i.inertiaDeceleration*a),d=h.multiplyBy(-c/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),f((function(){e.panBy(d,{duration:c,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});mi.addInitHook("addHandler","dragging",yn),mi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vn=wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ht(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys)n._panAnim&&n._panAnim._inProgress||(e=this._panKeys[i],t.shiftKey&&(e=_(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}vt(t)}}});mi.addInitHook("addHandler","keyboard",vn),mi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bn=wi.extend({addHooks:function(){ht(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ct(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=_t(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),o),vt(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=i?Math.ceil(o/i)*i:o,a=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});mi.addInitHook("addHandler","scrollWheelZoom",bn),mi.mergeOptions({tap:!0,tapTolerance:15});var _n=wi.extend({addHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(yt(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new b(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&Z(n,"leaflet-active"),this._holdTimeout=setTimeout(i((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),ht(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),ct(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&Y(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new b(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});Fe&&!Oe&&mi.addInitHook("addHandler","tap",_n),mi.mergeOptions({touchZoom:Fe&&!ve,bounceAtZoomLimits:!0});var xn=wi.extend({addHooks:function(){Z(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend",this._onTouchEnd,this),yt(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),s=n.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var a=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),y(this._animRequest);var r=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=f(r,this,!0),yt(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,y(this._animRequest),ct(document,"touchmove",this._onTouchMove),ct(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});mi.addInitHook("addHandler","touchZoom",xn),mi.BoxZoom=mn,mi.DoubleClickZoom=fn,mi.Drag=yn,mi.Keyboard=vn,mi.ScrollWheelZoom=bn,mi.Tap=_n,mi.TouchZoom=xn,Object.freeze=Vt,t.version="1.4.0",t.Control=fi,t.control=yi,t.Browser=Ue,t.Evented=ie,t.Mixin=Ci,t.Util=te,t.Class=v,t.Handler=wi,t.extend=e,t.bind=i,t.stamp=n,t.setOptions=h,t.DomEvent=pi,t.DomUtil=ui,t.PosAnimation=gi,t.Draggable=Wi,t.LineUtil=Si,t.PolyUtil=$i,t.Point=b,t.point=_,t.Bounds=x,t.bounds=w,t.Transformation=W,t.transformation=S,t.Projection=Pi,t.LatLng=T,t.latLng=I,t.LatLngBounds=E,t.latLngBounds=C,t.CRS=oe,t.GeoJSON=Zi,t.geoJSON=Nt,t.geoJson=Xi,t.Layer=Fi,t.LayerGroup=zi,t.layerGroup=function(t,e){return new zi(t,e)},t.FeatureGroup=Bi,t.featureGroup=function(t){return new Bi(t)},t.ImageOverlay=Ji,t.imageOverlay=function(t,e,i){return new Ji(t,e,i)},t.VideoOverlay=Qi,t.videoOverlay=function(t,e,i){return new Qi(t,e,i)},t.DivOverlay=tn,t.Popup=en,t.popup=function(t,e){return new en(t,e)},t.Tooltip=nn,t.tooltip=function(t,e){return new nn(t,e)},t.Icon=Ri,t.icon=function(t){return new Ri(t)},t.DivIcon=on,t.divIcon=function(t){return new on(t)},t.Marker=Hi,t.marker=function(t,e){return new Hi(t,e)},t.TileLayer=an,t.tileLayer=jt,t.GridLayer=sn,t.gridLayer=function(t){return new sn(t)},t.SVG=pn,t.svg=Ut,t.Renderer=ln,t.Canvas=un,t.canvas=Ht,t.Path=Ui,t.CircleMarker=Vi,t.circleMarker=function(t,e){return new Vi(t,e)},t.Circle=Gi,t.circle=function(t,e,i){return new Gi(t,e,i)},t.Polyline=Ki,t.polyline=function(t,e){return new Ki(t,e)},t.Polygon=qi,t.polygon=function(t,e){return new qi(t,e)},t.Rectangle=gn,t.rectangle=function(t,e){return new gn(t,e)},t.Map=mi,t.map=function(t,e){return new mi(t,e)};var wn=window.L;t.noConflict=function(){return window.L=wn,this},window.L=t}(e)},mF8h:function(t,e,i){(function(t,e){
/*!
 * OOUI v0.33.4
 * https://www.mediawiki.org/wiki/OOUI
 *
 * Copyright 2011–2019 OOUI Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2019-07-23T03:23:32Z
 */
!function(t){"use strict";t.ui={},t.ui.bind=e.proxy,t.ui.Keys={UNDEFINED:0,BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39,UP:38,DOWN:40,ENTER:13,END:35,HOME:36,TAB:9,PAGEUP:33,PAGEDOWN:34,ESCAPE:27,SHIFT:16,SPACE:32},t.ui.MouseButtons={LEFT:1,MIDDLE:2,RIGHT:3},t.ui.elementId=0,t.ui.generateElementId=function(){return t.ui.elementId++,"ooui-"+t.ui.elementId},t.ui.isFocusableElement=function(t){var i,n=t[0];return!n.disabled&&(!(!e.expr.pseudos.visible(n)||t.parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length)&&("true"===n.contentEditable||(t.prop("tabIndex")>=0||(i=n.nodeName.toLowerCase(),-1!==["input","select","textarea","button","object"].indexOf(i)||("a"===i||"area"===i)&&void 0!==t.attr("href")))))},t.ui.findFocusable=function(i,n){var o=e([]),s=i.find("input, select, textarea, button, object, a, area, [contenteditable], [tabindex]");return n&&(s=Array.prototype.reverse.call(s)),s.each((function(){var i=e(this);if(t.ui.isFocusableElement(i))return o=i,!1})),o},t.ui.getUserLanguages=function(){return["en"]},t.ui.getLocalValue=function(e,i,n){var o,s,a;if(e[i])return e[i];for(o=0,s=(a=t.ui.getUserLanguages()).length;o<s;o++)if(e[i=a[o]])return e[i];if(e[n])return e[n];for(i in e)return e[i]},t.ui.contains=function(t,i,n){var o;for(Array.isArray(t)||(t=[t]),o=t.length-1;o>=0;o--)if(n&&i===t[o]||e.contains(t[o],i))return!0;return!1},t.ui.debounce=function(t,e,i){var n;return function(){var o=this,s=arguments,a=function(){n=null,i||t.apply(o,s)};i&&!n&&t.apply(o,s),n&&!e||(clearTimeout(n),n=setTimeout(a,e))}},t.ui.warnDeprecation=function(e){void 0!==t.getProp(window,"console","warn")&&console.warn(e)},t.ui.throttle=function(t,e){var i,n,o,s=Date.now()-e,a=function(){o=null,s=Date.now(),t.apply(i,n)};return function(){var t=Math.max(e-(Date.now()-s),0);i=this,n=arguments,o||(o=setTimeout(a,t))}},t.ui.infuse=function(e,i){return t.ui.Element.static.infuse(e,i)},t.ui.msg=function(e){var i=t.ui.msg.messages,n=i[e],o=Array.prototype.slice.call(arguments,1);return n="string"==typeof n?n.replace(/\$(\d+)/g,(function(t,e){var i=parseInt(e,10);return void 0!==o[i-1]?o[i-1]:"$"+e})):"["+e+"]"},t.ui.deferMsg=function(){var e=arguments;return function(){return t.ui.msg.apply(t.ui,e)}},t.ui.resolveMsg=function(t){return"function"==typeof t?t():t},t.ui.isSafeUrl=function(t){var e,i;function n(t,e){return t.substr(0,e.length)===e}if(i=["bitcoin","ftp","ftps","geo","git","gopher","http","https","irc","ircs","magnet","mailto","mms","news","nntp","redis","sftp","sip","sips","sms","ssh","svn","tel","telnet","urn","worldwind","xmpp"],""===t)return!0;for(e=0;e<i.length;e++)if(n(t,i[e]+":"))return!0;return!(!n(t,"/")&&!n(t,"./"))||!(!n(t,"?")&&!n(t,"#"))},t.ui.isMobile=function(){return!1},t.ui.getViewportSpacing=function(){return{top:0,right:0,bottom:0,left:0}},t.ui.getDefaultOverlay=function(){return t.ui.$defaultOverlay||(t.ui.$defaultOverlay=e("<div>").addClass("oo-ui-defaultOverlay"),e(document.body).append(t.ui.$defaultOverlay)),t.ui.$defaultOverlay},t.ui.msg.messages={"ooui-outline-control-move-down":"Move item down","ooui-outline-control-move-up":"Move item up","ooui-outline-control-remove":"Remove item","ooui-toolbar-more":"More","ooui-toolgroup-expand":"More","ooui-toolgroup-collapse":"Fewer","ooui-item-remove":"Remove","ooui-dialog-message-accept":"OK","ooui-dialog-message-reject":"Cancel","ooui-dialog-process-error":"Something went wrong","ooui-dialog-process-dismiss":"Dismiss","ooui-dialog-process-retry":"Try again","ooui-dialog-process-continue":"Continue","ooui-combobox-button-label":"Dropdown for combobox","ooui-selectfile-button-select":"Select a file","ooui-selectfile-not-supported":"File selection is not supported","ooui-selectfile-placeholder":"No file is selected","ooui-selectfile-dragdrop-placeholder":"Drop file here","ooui-field-help":"Help"},
/*!
 * Mixin namespace.
 */
t.ui.mixin={},t.ui.Element=function(i){t.ui.isDemo&&(this.initialConfig=i),i=i||{},this.elementId=null,this.visible=!0,this.data=i.data,this.$element=i.$element||e(document.createElement(this.getTagName())),this.elementGroup=null,Array.isArray(i.classes)&&this.$element.addClass(i.classes),i.id&&this.setElementId(i.id),i.text&&this.$element.text(i.text),i.content&&this.$element.append(i.content.map((function(e){return"string"==typeof e?e?document.createTextNode(e):void 0:e instanceof t.ui.HtmlSnippet?e.toString():e instanceof t.ui.Element?e.$element:e}))),i.$content&&this.$element.append(i.$content)},t.initClass(t.ui.Element),t.ui.Element.static.tagName="div",t.ui.Element.static.infuse=function(e,i){var n=t.ui.Element.static.unsafeInfuse(e,i,!1);return"string"==typeof e&&t.ui.warnDeprecation("Passing a string ID to infuse is deprecated. Use an HTMLElement or jQuery collection instead."),n},t.ui.Element.static.unsafeInfuse=function(i,n,o){var s,a,r,l,u,h,c,d,p,g,m;if("string"==typeof i?(s=i,a=e(document.getElementById(s))):s=(a=e(i)).attr("id"),!a.length)throw r="string"==typeof i?"Widget not found: "+i:i&&i.selector?"Widget not found: "+i.selector:"Widget not found",new Error(r);if(a[0].oouiInfused&&(a=a[0].oouiInfused),l=a.data("ooui-infused")){if(!0===l)throw new Error("Circular dependency! "+s);return o&&(g=l.constructor.static.gatherPreInfuseState(a,l),o.done(l.restorePreInfuseState.bind(l,g)),(m=a.data("ooui-infused-children"))&&m.length&&m.forEach((function(t){var e=t.constructor.static.gatherPreInfuseState(a,t);o.done(t.restorePreInfuseState.bind(t,e))}))),l}if(!(l=a.attr("data-ooui")))throw new Error("No infusion data found: "+s);try{l=JSON.parse(l)}catch(t){l=null}if(!l||!l._)throw new Error("No valid infusion data found: "+s);if("Tag"===l._)return new t.ui.Element(e.extend({},n,{$element:a}));if(h=l._.split("."),void 0===(u=t.getProp.apply(t,[window].concat(h))))throw new Error("Unknown widget type: id: "+s+", class: "+l._);for(c=u.parent;void 0!==c&&c!==t.ui.Element;)c=c.parent;if(c!==t.ui.Element)throw new Error("Unknown widget type: id: "+s+", class: "+l._);return o||(p=e.Deferred(),o=p.promise()),a.data("ooui-infused",!0),l.id=s,m=[],l=t.copy(l,null,(function(e){var i;if(t.isPlainObject(e)){if(e.tag)return i=t.ui.Element.static.unsafeInfuse(e.tag,n,o),m.push(i),m.push.apply(m,i.$element.data("ooui-infused-children")||[]),i.$element.removeData("ooui-infused-children"),i;if(void 0!==e.html)return new t.ui.HtmlSnippet(e.html)}})),l=u.static.reusePreInfuseDOM(a[0],l),g=u.static.gatherPreInfuseState(a[0],l),d=new u(e.extend({},n,l)),a[0].oouiInfused=d.$element,p&&(a[0]!==d.$element[0]&&a.replaceWith(d.$element),p.resolve()),d.$element.data("ooui-infused",d),d.$element.data("ooui-infused-children",m),d.$element.attr("data-ooui",""),o.done(d.restorePreInfuseState.bind(d,g)),d},t.ui.Element.static.reusePreInfuseDOM=function(t,e){return e},t.ui.Element.static.gatherPreInfuseState=function(){return{}},t.ui.Element.static.getDocument=function(t){return t[0]&&t[0].ownerDocument||t.context||t.ownerDocument||t.document||t.nodeType===Node.DOCUMENT_NODE&&t||null},t.ui.Element.static.getWindow=function(t){return this.getDocument(t).defaultView},t.ui.Element.static.getDir=function(t){var i,n;return t instanceof e&&(t=t[0]),i=t.nodeType===Node.DOCUMENT_NODE,n=void 0!==t.document,(i||n)&&(n&&(t=t.document),t=t.body),e(t).css("direction")},t.ui.Element.static.getFrameOffset=function(t,e,i){var n,o,s,a,r;if(e||(e=window),i||(i={top:0,left:0}),t.parent===t)return i;for(n=0,o=(s=t.parent.document.getElementsByTagName("iframe")).length;n<o;n++)if(s[n].contentWindow===t){a=s[n];break}return a&&(r=a.getBoundingClientRect(),i.left+=r.left,i.top+=r.top,t!==e&&this.getFrameOffset(t.parent,i)),i},t.ui.Element.static.getRelativePosition=function(t,i){for(var n,o,s=t.offset(),a=i.offset(),r=this.getDocument(t),l=this.getDocument(i);r!==l;){if(!(n=r.defaultView.frameElement))throw new Error("$element frame is not contained in $anchor frame");o=e(n).offset(),s.left+=o.left,s.top+=o.top,r=n.ownerDocument}return s.left-=a.left,s.top-=a.top,s},t.ui.Element.static.getBorders=function(t){var i=t.ownerDocument.defaultView.getComputedStyle(t,null),n=e(t);return{top:parseFloat(i?i.borderTopWidth:n.css("borderTopWidth"))||0,left:parseFloat(i?i.borderLeftWidth:n.css("borderLeftWidth"))||0,bottom:parseFloat(i?i.borderBottomWidth:n.css("borderBottomWidth"))||0,right:parseFloat(i?i.borderRightWidth:n.css("borderRightWidth"))||0}},t.ui.Element.static.getDimensions=function(i){var n,o,s=i.ownerDocument||i.document,a=s.defaultView;return a===i||i===s.documentElement?{borders:{top:0,left:0,bottom:0,right:0},scroll:{top:(o=e(a)).scrollTop(),left:t.ui.Element.static.getScrollLeft(a)},scrollbar:{right:0,bottom:0},rect:{top:0,left:0,bottom:o.innerHeight(),right:o.innerWidth()}}:(n=e(i),{borders:this.getBorders(i),scroll:{top:n.scrollTop(),left:t.ui.Element.static.getScrollLeft(i)},scrollbar:{right:n.innerWidth()-i.clientWidth,bottom:n.innerHeight()-i.clientHeight},rect:i.getBoundingClientRect()})},function(){var i=null;function n(){var t=e("<div>").attr({dir:"rtl",style:"font-size: 14px; width: 4px; height: 1px; position: absolute; top: -1000px; overflow: scroll;"}).text("ABCD"),n=t[0];t.appendTo("body"),n.scrollLeft>0?i="default":(n.scrollLeft=1,i=0===n.scrollLeft?"negative":"reverse"),t.remove()}function o(t){return t.window===t||t===t.ownerDocument.body||t===t.ownerDocument.documentElement}t.ui.Element.static.computeNormalizedScrollLeft=function(t,s){if("rtl"===(o(s)?"ltr":e(s).css("direction"))){if(null===i&&n(),"reverse"===i)return-t;if("default"===i)return t-s.scrollWidth+s.clientWidth}return t},t.ui.Element.static.computeNativeScrollLeft=function(t,s){if("rtl"===(o(s)?"ltr":e(s).css("direction"))){if(null===i&&n(),"reverse"===i)return-t;if("default"===i)return t+s.scrollWidth-s.clientWidth}return t},t.ui.Element.static.getScrollLeft=function(i){var n=o(i)?e(window).scrollLeft():i.scrollLeft;return n=t.ui.Element.static.computeNormalizedScrollLeft(n,i)},t.ui.Element.static.setScrollLeft=function(i,n){n=t.ui.Element.static.computeNativeScrollLeft(n,i),o(i)?e(window).scrollLeft(n):i.scrollLeft=n}}(),t.ui.Element.static.getRootScrollableElement=function(e){var i,n;return void 0===t.ui.scrollableElement&&(i=(n=e.ownerDocument.body).scrollTop,n.scrollTop=1,1===Math.round(n.scrollTop)?(n.scrollTop=i,t.ui.scrollableElement="body"):t.ui.scrollableElement="documentElement"),e.ownerDocument[t.ui.scrollableElement]},t.ui.Element.static.getClosestScrollableContainer=function(t,i){var n,o,s=["overflow-x","overflow-y"],a=e(t).parent();if("x"!==i&&"y"!==i||(s=["overflow-"+i]),e(t).is("html, body"))return this.getRootScrollableElement(t);for(;a.length;){if(a[0]===this.getRootScrollableElement(t))return a[0];for(n=s.length;n--;)if("auto"===(o=a.css(s[n]))||"scroll"===o)return a[0];a=a.parent()}return this.getRootScrollableElement(t)},t.ui.Element.static.scrollIntoView=function(i,n){var o,s,a,r,l,u,h,c,d,p,g=e.Deferred();if(n=n||{},c=e.extend({top:0,bottom:0,left:0,right:0},n.padding),d=!1!==n.animate,s={},l=i instanceof HTMLElement?this.getDimensions(i).rect:i,a=n.scrollContainer||(i instanceof HTMLElement?this.getClosestScrollableContainer(i,n.direction):this.getClosestScrollableContainer(document.body)),r=e(a),u=this.getDimensions(a),h=e(this.getWindow(a)),o=r.is("html, body")?{top:l.top,bottom:h.innerHeight()-l.bottom,left:l.left,right:h.innerWidth()-l.right}:{top:l.top-(u.rect.top+u.borders.top),bottom:u.rect.bottom-u.borders.bottom-u.scrollbar.bottom-l.bottom,left:l.left-(u.rect.left+u.borders.left),right:u.rect.right-u.borders.right-u.scrollbar.right-l.right},n.direction&&"y"!==n.direction||(o.top<c.top?s.scrollTop=u.scroll.top+o.top-c.top:o.bottom<c.bottom&&(s.scrollTop=u.scroll.top+Math.min(o.top-c.top,-o.bottom+c.bottom))),n.direction&&"x"!==n.direction||(o.left<c.left?s.scrollLeft=u.scroll.left+o.left-c.left:o.right<c.right&&(s.scrollLeft=u.scroll.left+Math.min(o.left-c.left,-o.right+c.right)),void 0!==s.scrollLeft&&(s.scrollLeft=t.ui.Element.static.computeNativeScrollLeft(s.scrollLeft,a))),e.isEmptyObject(s))g.resolve();else if(d)r.stop(!0).animate(s,void 0===n.duration?"fast":n.duration),r.queue((function(t){g.resolve(),t()}));else{for(p in r.stop(!0),s)r[p](s[p]);g.resolve()}return g.promise()},t.ui.Element.static.reconsiderScrollbars=function(t){var e,i,n,o,s=[];for(n=t.scrollLeft,o=t.scrollTop;t.firstChild;)s.push(t.firstChild),t.removeChild(t.firstChild);for(t.offsetHeight,e=0,i=s.length;e<i;e++)t.appendChild(s[e]);t.scrollLeft=n,t.scrollTop=o},t.ui.Element.prototype.toggle=function(t){return(t=void 0===t?!this.visible:!!t)!==this.isVisible()&&(this.visible=t,this.$element.toggleClass("oo-ui-element-hidden",!this.visible),this.emit("toggle",t)),this},t.ui.Element.prototype.isVisible=function(){return this.visible},t.ui.Element.prototype.getData=function(){return this.data},t.ui.Element.prototype.setData=function(t){return this.data=t,this},t.ui.Element.prototype.setElementId=function(t){return this.elementId=t,this.$element.attr("id",t),this},t.ui.Element.prototype.getElementId=function(){return null===this.elementId&&this.setElementId(t.ui.generateElementId()),this.elementId},t.ui.Element.prototype.supports=function(t){var e,i,n=0;for(e=0,i=(t=Array.isArray(t)?t:[t]).length;e<i;e++)"function"==typeof this[t[e]]&&n++;return t.length===n},t.ui.Element.prototype.updateThemeClasses=function(){t.ui.theme.queueUpdateElementClasses(this)},t.ui.Element.prototype.getTagName=function(){return this.constructor.static.tagName},t.ui.Element.prototype.isElementAttached=function(){return e.contains(this.getElementDocument(),this.$element[0])},t.ui.Element.prototype.getElementDocument=function(){return t.ui.Element.static.getDocument(this.$element)},t.ui.Element.prototype.getElementWindow=function(){return t.ui.Element.static.getWindow(this.$element)},t.ui.Element.prototype.getClosestScrollableElementContainer=function(){return t.ui.Element.static.getClosestScrollableContainer(this.$element[0])},t.ui.Element.prototype.getElementGroup=function(){return this.elementGroup},t.ui.Element.prototype.setElementGroup=function(t){return this.elementGroup=t,this},t.ui.Element.prototype.scrollElementIntoView=function(i){return!this.isElementAttached()||!this.isVisible()||this.getElementGroup()&&!this.getElementGroup().isVisible()?e.Deferred().resolve():t.ui.Element.static.scrollIntoView(this.$element[0],i)},t.ui.Element.prototype.restorePreInfuseState=function(){},t.ui.HtmlSnippet=function(t){this.content=t},t.initClass(t.ui.HtmlSnippet),t.ui.HtmlSnippet.prototype.toString=function(){return this.content},t.ui.Layout=function(e){e=e||{},t.ui.Layout.parent.call(this,e),t.EventEmitter.call(this),this.$element.addClass("oo-ui-layout")},t.inheritClass(t.ui.Layout,t.ui.Element),t.mixinClass(t.ui.Layout,t.EventEmitter),t.ui.Layout.prototype.resetScroll=function(){return this.$element[0].scrollTop=0,t.ui.Element.static.setScrollLeft(this.$element[0],0),this},t.ui.Widget=function(i){i=e.extend({disabled:!1},i),t.ui.Widget.parent.call(this,i),t.EventEmitter.call(this),this.disabled=null,this.wasDisabled=null,this.$element.addClass("oo-ui-widget"),this.setDisabled(!!i.disabled)},t.inheritClass(t.ui.Widget,t.ui.Element),t.mixinClass(t.ui.Widget,t.EventEmitter),t.ui.Widget.prototype.isDisabled=function(){return this.disabled},t.ui.Widget.prototype.setDisabled=function(t){var e;return this.disabled=!!t,(e=this.isDisabled())!==this.wasDisabled&&(this.$element.toggleClass("oo-ui-widget-disabled",e),this.$element.toggleClass("oo-ui-widget-enabled",!e),this.$element.attr("aria-disabled",e.toString()),this.emit("disable",e),this.updateThemeClasses()),this.wasDisabled=e,this},t.ui.Widget.prototype.updateDisabled=function(){return this.setDisabled(this.disabled),this},t.ui.Widget.prototype.getInputId=function(){return null},t.ui.Widget.prototype.simulateLabelClick=function(){},t.ui.Theme=function(){this.elementClassesQueue=[],this.debouncedUpdateQueuedElementClasses=t.ui.debounce(this.updateQueuedElementClasses)},t.initClass(t.ui.Theme),t.ui.Theme.prototype.getElementClasses=function(){return{on:[],off:[]}},t.ui.Theme.prototype.updateElementClasses=function(t){var i=e([]),n=this.getElementClasses(t);t.$icon&&(i=i.add(t.$icon)),t.$indicator&&(i=i.add(t.$indicator)),i.removeClass(n.off).addClass(n.on)},t.ui.Theme.prototype.updateQueuedElementClasses=function(){var t;for(t=0;t<this.elementClassesQueue.length;t++)this.updateElementClasses(this.elementClassesQueue[t]);this.elementClassesQueue=[]},t.ui.Theme.prototype.queueUpdateElementClasses=function(t){-1===this.elementClassesQueue.lastIndexOf(t)&&(this.elementClassesQueue.push(t),this.debouncedUpdateQueuedElementClasses())},t.ui.Theme.prototype.getDialogTransitionDuration=function(){return 0},t.ui.mixin.TabIndexedElement=function(t){t=e.extend({tabIndex:0},t),this.$tabIndexed=null,this.tabIndex=null,this.connect(this,{disable:"onTabIndexedElementDisable"}),this.setTabIndex(t.tabIndex),this.setTabIndexedElement(t.$tabIndexed||this.$element)},t.initClass(t.ui.mixin.TabIndexedElement),t.ui.mixin.TabIndexedElement.prototype.setTabIndexedElement=function(t){var e=this.tabIndex;return this.setTabIndex(null),this.$tabIndexed=t,this.tabIndex=e,this.updateTabIndex()},t.ui.mixin.TabIndexedElement.prototype.setTabIndex=function(t){return t=/^-?\d+$/.test(t)?Number(t):null,this.tabIndex!==t&&(this.tabIndex=t,this.updateTabIndex()),this},t.ui.mixin.TabIndexedElement.prototype.updateTabIndex=function(){return this.$tabIndexed&&(null!==this.tabIndex?this.$tabIndexed.attr({tabindex:this.isDisabled()?-1:this.tabIndex,"aria-disabled":this.isDisabled().toString()}):this.$tabIndexed.removeAttr("tabindex aria-disabled")),this},t.ui.mixin.TabIndexedElement.prototype.onTabIndexedElementDisable=function(){this.updateTabIndex()},t.ui.mixin.TabIndexedElement.prototype.getTabIndex=function(){return this.tabIndex},t.ui.mixin.TabIndexedElement.prototype.getInputId=function(){var e;return this.$tabIndexed&&this.isLabelableNode(this.$tabIndexed)?(void 0===(e=this.$tabIndexed.attr("id"))&&(e=t.ui.generateElementId(),this.$tabIndexed.attr("id",e)),e):null},t.ui.mixin.TabIndexedElement.prototype.isLabelableNode=function(t){var e=(t.prop("tagName")||"").toLowerCase();return"input"===e&&"hidden"!==t.attr("type")||-1!==["button","meter","output","progress","select","textarea"].indexOf(e)},t.ui.mixin.TabIndexedElement.prototype.focus=function(){return this.isDisabled()||this.$tabIndexed.trigger("focus"),this},t.ui.mixin.TabIndexedElement.prototype.blur=function(){return this.$tabIndexed.trigger("blur"),this},t.ui.mixin.TabIndexedElement.prototype.simulateLabelClick=function(){this.focus()},t.ui.mixin.ButtonElement=function(t){t=t||{},this.$button=null,this.framed=null,this.active=void 0!==t.active&&t.active,this.onDocumentMouseUpHandler=this.onDocumentMouseUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onDocumentKeyUpHandler=this.onDocumentKeyUp.bind(this),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onClickHandler=this.onClick.bind(this),this.onKeyPressHandler=this.onKeyPress.bind(this),this.$element.addClass("oo-ui-buttonElement"),this.toggleFramed(void 0===t.framed||t.framed),this.setButtonElement(t.$button||e("<a>"))},t.initClass(t.ui.mixin.ButtonElement),t.ui.mixin.ButtonElement.static.cancelButtonMouseDownEvents=!0,t.ui.mixin.ButtonElement.prototype.setButtonElement=function(t){this.$button&&this.$button.removeClass("oo-ui-buttonElement-button").removeAttr("role accesskey").off({mousedown:this.onMouseDownHandler,keydown:this.onKeyDownHandler,click:this.onClickHandler,keypress:this.onKeyPressHandler}),this.$button=t.addClass("oo-ui-buttonElement-button").on({mousedown:this.onMouseDownHandler,keydown:this.onKeyDownHandler,click:this.onClickHandler,keypress:this.onKeyPressHandler}),"A"===this.$button.prop("tagName").toUpperCase()&&this.$button.attr("role","button")},t.ui.mixin.ButtonElement.prototype.onMouseDown=function(e){if(!this.isDisabled()&&e.which===t.ui.MouseButtons.LEFT)return this.$element.addClass("oo-ui-buttonElement-pressed"),this.getElementDocument().addEventListener("mouseup",this.onDocumentMouseUpHandler,!0),!this.constructor.static.cancelButtonMouseDownEvents&&void 0},t.ui.mixin.ButtonElement.prototype.onDocumentMouseUp=function(e){this.isDisabled()||e.which!==t.ui.MouseButtons.LEFT||(this.$element.removeClass("oo-ui-buttonElement-pressed"),this.getElementDocument().removeEventListener("mouseup",this.onDocumentMouseUpHandler,!0))},t.ui.mixin.ButtonElement.prototype.onClick=function(e){if(!this.isDisabled()&&e.which===t.ui.MouseButtons.LEFT&&this.emit("click"))return!1},t.ui.mixin.ButtonElement.prototype.onKeyDown=function(e){this.isDisabled()||e.which!==t.ui.Keys.SPACE&&e.which!==t.ui.Keys.ENTER||(this.$element.addClass("oo-ui-buttonElement-pressed"),this.getElementDocument().addEventListener("keyup",this.onDocumentKeyUpHandler,!0))},t.ui.mixin.ButtonElement.prototype.onDocumentKeyUp=function(e){this.isDisabled()||e.which!==t.ui.Keys.SPACE&&e.which!==t.ui.Keys.ENTER||(this.$element.removeClass("oo-ui-buttonElement-pressed"),this.getElementDocument().removeEventListener("keyup",this.onDocumentKeyUpHandler,!0))},t.ui.mixin.ButtonElement.prototype.onKeyPress=function(e){if(!this.isDisabled()&&(e.which===t.ui.Keys.SPACE||e.which===t.ui.Keys.ENTER)&&this.emit("click"))return!1},t.ui.mixin.ButtonElement.prototype.isFramed=function(){return this.framed},t.ui.mixin.ButtonElement.prototype.toggleFramed=function(t){return(t=void 0===t?!this.framed:!!t)!==this.framed&&(this.framed=t,this.$element.toggleClass("oo-ui-buttonElement-frameless",!t).toggleClass("oo-ui-buttonElement-framed",t),this.updateThemeClasses()),this},t.ui.mixin.ButtonElement.prototype.setActive=function(t){return this.active=!!t,this.$element.toggleClass("oo-ui-buttonElement-active",this.active),this.updateThemeClasses(),this},t.ui.mixin.ButtonElement.prototype.isActive=function(){return this.active},t.ui.mixin.GroupElement=function(i){i=i||{},t.EmitterList.call(this,i),this.$group=null,this.setGroupElement(i.$group||e("<div>"))},t.mixinClass(t.ui.mixin.GroupElement,t.EmitterList),t.ui.mixin.GroupElement.prototype.setGroupElement=function(t){var e,i;for(this.$group=t,e=0,i=this.items.length;e<i;e++)this.$group.append(this.items[e].$element)},t.ui.mixin.GroupElement.prototype.findItemFromData=function(e){var i,n,o,s=t.getHash(e);for(i=0,n=this.items.length;i<n;i++)if(o=this.items[i],s===t.getHash(o.getData()))return o;return null},t.ui.mixin.GroupElement.prototype.findItemsFromData=function(e){var i,n,o,s=t.getHash(e),a=[];for(i=0,n=this.items.length;i<n;i++)o=this.items[i],s===t.getHash(o.getData())&&a.push(o);return a},t.ui.mixin.GroupElement.prototype.addItems=function(e,i){return 0===e.length||(t.EmitterList.prototype.addItems.call(this,e,i),this.emit("change",this.getItems())),this},t.ui.mixin.GroupElement.prototype.moveItem=function(e,i){return this.insertItemElements(e,i),i=t.EmitterList.prototype.moveItem.call(this,e,i)},t.ui.mixin.GroupElement.prototype.insertItem=function(e,i){return e.setElementGroup(this),this.insertItemElements(e,i),i=t.EmitterList.prototype.insertItem.call(this,e,i)},t.ui.mixin.GroupElement.prototype.insertItemElements=function(t,e){void 0===e||e<0||e>=this.items.length?this.$group.append(t.$element):0===e?this.$group.prepend(t.$element):this.items[e].$element.before(t.$element)},t.ui.mixin.GroupElement.prototype.removeItems=function(e){var i,n,o;if(0===e.length)return this;for(i=0,n=e.length;i<n;i++)o=e[i],-1!==this.items.indexOf(o)&&(o.setElementGroup(null),o.$element.detach());return t.EmitterList.prototype.removeItems.call(this,e),this.emit("change",this.getItems()),this},t.ui.mixin.GroupElement.prototype.clearItems=function(){var e,i;for(e=0,i=this.items.length;e<i;e++)this.items[e].setElementGroup(null),this.items[e].$element.detach();return t.EmitterList.prototype.clearItems.call(this),this.emit("change",this.getItems()),this},t.ui.mixin.LabelElement=function(t){t=t||{},this.$label=null,this.label=null,this.invisibleLabel=null,this.setLabel(t.label||this.constructor.static.label),this.setLabelElement(t.$label||e("<span>")),this.setInvisibleLabel(t.invisibleLabel)},t.initClass(t.ui.mixin.LabelElement),t.ui.mixin.LabelElement.static.label=null,t.ui.mixin.LabelElement.static.highlightQuery=function(t,i,n){var o,s,a,r=-1,l=e("<span>");if(n)for(s=t.length,a=i.length,o=0;-1===r&&o<=s-a;o++)0===n(i,t.slice(o,o+a))&&(r=o);else r=t.toLowerCase().indexOf(i.toLowerCase());return i.length&&-1!==r?l.append(document.createTextNode(t.slice(0,r)),e("<span>").addClass("oo-ui-labelElement-label-highlight").text(t.slice(r,r+i.length)),document.createTextNode(t.slice(r+i.length))):l.text(t),l.contents()},t.ui.mixin.LabelElement.prototype.setLabelElement=function(t){this.$label&&this.$label.removeClass("oo-ui-labelElement-label").empty(),this.$label=t.addClass("oo-ui-labelElement-label"),this.setLabelContent(this.label)},t.ui.mixin.LabelElement.prototype.setLabel=function(i){return i=("string"==typeof(i="function"==typeof i?t.ui.resolveMsg(i):i)||i instanceof e)&&i.length||i instanceof t.ui.HtmlSnippet&&i.toString().length?i:null,this.label!==i&&(this.$label&&this.setLabelContent(i),this.label=i,this.emit("labelChange")),this.$element.toggleClass("oo-ui-labelElement",!!this.label&&!this.invisibleLabel),this},t.ui.mixin.LabelElement.prototype.setInvisibleLabel=function(t){return t=!!t,this.invisibleLabel!==t&&(this.invisibleLabel=t,this.emit("labelChange")),this.$label.toggleClass("oo-ui-labelElement-invisible",this.invisibleLabel),this.$element.toggleClass("oo-ui-labelElement",!!this.label&&!this.invisibleLabel),this},t.ui.mixin.LabelElement.prototype.setHighlightedQuery=function(t,e,i){return this.setLabel(this.constructor.static.highlightQuery(t,e,i))},t.ui.mixin.LabelElement.prototype.getLabel=function(){return this.label},t.ui.mixin.LabelElement.prototype.setLabelContent=function(i){"string"==typeof i?i.match(/^\s*$/)?this.$label.html("&nbsp;"):this.$label.text(i):i instanceof t.ui.HtmlSnippet?this.$label.html(i.toString()):i instanceof e?this.$label.empty().append(i):this.$label.empty()},t.ui.mixin.IconElement=function(t){t=t||{},this.$icon=null,this.icon=null,this.setIcon(t.icon||this.constructor.static.icon),this.setIconElement(t.$icon||e("<span>"))},t.initClass(t.ui.mixin.IconElement),t.ui.mixin.IconElement.static.icon=null,t.ui.mixin.IconElement.static.iconTitle=null,t.ui.mixin.IconElement.prototype.setIconElement=function(t){this.$icon&&this.$icon.removeClass("oo-ui-iconElement-icon oo-ui-icon-"+this.icon).removeAttr("title"),this.$icon=t.addClass("oo-ui-iconElement-icon").toggleClass("oo-ui-iconElement-noIcon",!this.icon).toggleClass("oo-ui-icon-"+this.icon,!!this.icon),null!==this.iconTitle&&this.$icon.attr("title",this.iconTitle),this.updateThemeClasses()},t.ui.mixin.IconElement.prototype.setIcon=function(e){return e="string"==typeof(e=t.isPlainObject(e)?t.ui.getLocalValue(e,null,"default"):e)&&e.trim().length?e.trim():null,this.icon!==e&&(this.$icon&&(null!==this.icon&&this.$icon.removeClass("oo-ui-icon-"+this.icon),null!==e&&this.$icon.addClass("oo-ui-icon-"+e)),this.icon=e),this.$element.toggleClass("oo-ui-iconElement",!!this.icon),this.$icon&&this.$icon.toggleClass("oo-ui-iconElement-noIcon",!this.icon),this.updateThemeClasses(),this},t.ui.mixin.IconElement.prototype.getIcon=function(){return this.icon},t.ui.mixin.IndicatorElement=function(t){t=t||{},this.$indicator=null,this.indicator=null,this.setIndicator(t.indicator||this.constructor.static.indicator),this.setIndicatorElement(t.$indicator||e("<span>"))},t.initClass(t.ui.mixin.IndicatorElement),t.ui.mixin.IndicatorElement.static.indicator=null,t.ui.mixin.IndicatorElement.static.indicatorTitle=null,t.ui.mixin.IndicatorElement.prototype.setIndicatorElement=function(t){this.$indicator&&this.$indicator.removeClass("oo-ui-indicatorElement-indicator oo-ui-indicator-"+this.indicator).removeAttr("title"),this.$indicator=t.addClass("oo-ui-indicatorElement-indicator").toggleClass("oo-ui-indicatorElement-noIndicator",!this.indicator).toggleClass("oo-ui-indicator-"+this.indicator,!!this.indicator),null!==this.indicatorTitle&&this.$indicator.attr("title",this.indicatorTitle),this.updateThemeClasses()},t.ui.mixin.IndicatorElement.prototype.setIndicator=function(t){return t="string"==typeof t&&t.length?t.trim():null,this.indicator!==t&&(this.$indicator&&(null!==this.indicator&&this.$indicator.removeClass("oo-ui-indicator-"+this.indicator),null!==t&&this.$indicator.addClass("oo-ui-indicator-"+t)),this.indicator=t),this.$element.toggleClass("oo-ui-indicatorElement",!!this.indicator),this.$indicator&&this.$indicator.toggleClass("oo-ui-indicatorElement-noIndicator",!this.indicator),this.updateThemeClasses(),this},t.ui.mixin.IndicatorElement.prototype.getIndicator=function(){return this.indicator},t.ui.mixin.FlaggedElement=function(t){t=t||{},this.flags={},this.$flagged=null,this.setFlags(t.flags||this.constructor.static.flags),this.setFlaggedElement(t.$flagged||this.$element)},t.initClass(t.ui.mixin.FlaggedElement),t.ui.mixin.FlaggedElement.static.flags=null,t.ui.mixin.FlaggedElement.prototype.setFlaggedElement=function(t){var e=Object.keys(this.flags).map((function(t){return"oo-ui-flaggedElement-"+t}));this.$flagged&&this.$flagged.removeClass(e),this.$flagged=t.addClass(e)},t.ui.mixin.FlaggedElement.prototype.hasFlag=function(t){return this.flags&&t in this.flags},t.ui.mixin.FlaggedElement.prototype.getFlags=function(){return Object.keys(this.flags||{})},t.ui.mixin.FlaggedElement.prototype.clearFlags=function(){var t,e,i={},n=[];for(t in this.flags)e="oo-ui-flaggedElement-"+t,i[t]=!1,delete this.flags[t],n.push(e);return this.$flagged&&this.$flagged.removeClass(n),this.updateThemeClasses(),this.emit("flag",i),this},t.ui.mixin.FlaggedElement.prototype.setFlags=function(e){var i,n,o,s,a={},r=[],l=[];if("string"==typeof e)s="oo-ui-flaggedElement-"+e,this.flags[e]||(this.flags[e]=!0,r.push(s));else if(Array.isArray(e))for(i=0,n=e.length;i<n;i++)s="oo-ui-flaggedElement-"+(o=e[i]),this.flags[o]||(a[o]=!0,this.flags[o]=!0,r.push(s));else if(t.isPlainObject(e))for(o in e)s="oo-ui-flaggedElement-"+o,e[o]?this.flags[o]||(a[o]=!0,this.flags[o]=!0,r.push(s)):this.flags[o]&&(a[o]=!1,delete this.flags[o],l.push(s));return this.$flagged&&this.$flagged.addClass(r).removeClass(l),this.updateThemeClasses(),this.emit("flag",a),this},t.ui.mixin.TitledElement=function(t){t=t||{},this.$titled=null,this.title=null,this.setTitle(void 0!==t.title?t.title:this.constructor.static.title),this.setTitledElement(t.$titled||this.$element)},t.initClass(t.ui.mixin.TitledElement),t.ui.mixin.TitledElement.static.title=null,t.ui.mixin.TitledElement.prototype.setTitledElement=function(t){this.$titled&&this.$titled.removeAttr("title"),this.$titled=t,this.updateTitle()},t.ui.mixin.TitledElement.prototype.setTitle=function(e){return e="string"==typeof(e="function"==typeof e?t.ui.resolveMsg(e):e)?e:null,this.title!==e&&(this.title=e,this.updateTitle()),this},t.ui.mixin.TitledElement.prototype.updateTitle=function(){var t=this.getTitle();return this.$titled&&(null!==t?(this.formatTitleWithAccessKey&&(t=this.formatTitleWithAccessKey(t)),this.$titled.attr("title",t)):this.$titled.removeAttr("title")),this},t.ui.mixin.TitledElement.prototype.getTitle=function(){return this.title},t.ui.mixin.AccessKeyedElement=function(t){t=t||{},this.$accessKeyed=null,this.accessKey=null,this.setAccessKey(t.accessKey||null),this.setAccessKeyedElement(t.$accessKeyed||this.$element),this.updateTitle&&this.updateTitle()},t.initClass(t.ui.mixin.AccessKeyedElement),t.ui.mixin.AccessKeyedElement.static.accessKey=null,t.ui.mixin.AccessKeyedElement.prototype.setAccessKeyedElement=function(t){this.$accessKeyed&&this.$accessKeyed.removeAttr("accesskey"),this.$accessKeyed=t,this.accessKey&&this.$accessKeyed.attr("accesskey",this.accessKey)},t.ui.mixin.AccessKeyedElement.prototype.setAccessKey=function(e){return e="string"==typeof e?t.ui.resolveMsg(e):null,this.accessKey!==e&&(this.$accessKeyed&&(null!==e?this.$accessKeyed.attr("accesskey",e):this.$accessKeyed.removeAttr("accesskey")),this.accessKey=e,this.updateTitle&&this.updateTitle()),this},t.ui.mixin.AccessKeyedElement.prototype.getAccessKey=function(){return this.accessKey},t.ui.mixin.AccessKeyedElement.prototype.formatTitleWithAccessKey=function(t){var i;return this.$accessKeyed?((i=e.fn.updateTooltipAccessKeys&&e.fn.updateTooltipAccessKeys.getAccessKeyLabel?e.fn.updateTooltipAccessKeys.getAccessKeyLabel(this.$accessKeyed[0]):this.getAccessKey())&&(t+=" ["+i+"]"),t):t},t.ui.ButtonWidget=function(i){i=i||{},t.ui.ButtonWidget.parent.call(this,i),t.ui.mixin.ButtonElement.call(this,i),t.ui.mixin.IconElement.call(this,i),t.ui.mixin.IndicatorElement.call(this,i),t.ui.mixin.LabelElement.call(this,i),t.ui.mixin.TitledElement.call(this,e.extend({$titled:this.$button},i)),t.ui.mixin.FlaggedElement.call(this,i),t.ui.mixin.TabIndexedElement.call(this,e.extend({$tabIndexed:this.$button},i)),t.ui.mixin.AccessKeyedElement.call(this,e.extend({$accessKeyed:this.$button},i)),this.href=null,this.target=null,this.noFollow=!1,this.connect(this,{disable:"onDisable"}),this.$button.append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-buttonWidget").append(this.$button),this.setActive(i.active),this.setHref(i.href),this.setTarget(i.target),this.setNoFollow(i.noFollow)},t.inheritClass(t.ui.ButtonWidget,t.ui.Widget),t.mixinClass(t.ui.ButtonWidget,t.ui.mixin.ButtonElement),t.mixinClass(t.ui.ButtonWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.ButtonWidget,t.ui.mixin.IndicatorElement),t.mixinClass(t.ui.ButtonWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.ButtonWidget,t.ui.mixin.TitledElement),t.mixinClass(t.ui.ButtonWidget,t.ui.mixin.FlaggedElement),t.mixinClass(t.ui.ButtonWidget,t.ui.mixin.TabIndexedElement),t.mixinClass(t.ui.ButtonWidget,t.ui.mixin.AccessKeyedElement),t.ui.ButtonWidget.static.cancelButtonMouseDownEvents=!1,t.ui.ButtonWidget.static.tagName="span",t.ui.ButtonWidget.prototype.getHref=function(){return this.href},t.ui.ButtonWidget.prototype.getTarget=function(){return this.target},t.ui.ButtonWidget.prototype.getNoFollow=function(){return this.noFollow},t.ui.ButtonWidget.prototype.setHref=function(e){return null===(e="string"==typeof e?e:null)||t.ui.isSafeUrl(e)||(e="./"+e),e!==this.href&&(this.href=e,this.updateHref()),this},t.ui.ButtonWidget.prototype.updateHref=function(){return null===this.href||this.isDisabled()?this.$button.removeAttr("href"):this.$button.attr("href",this.href),this},t.ui.ButtonWidget.prototype.onDisable=function(){this.updateHref()},t.ui.ButtonWidget.prototype.setTarget=function(t){return(t="string"==typeof t?t:null)!==this.target&&(this.target=t,null!==t?this.$button.attr("target",t):this.$button.removeAttr("target")),this},t.ui.ButtonWidget.prototype.setNoFollow=function(t){return(t="boolean"!=typeof t||t)!==this.noFollow&&(this.noFollow=t,t?this.$button.attr("rel","nofollow"):this.$button.removeAttr("rel")),this},t.ui.ButtonGroupWidget=function(i){i=i||{},t.ui.ButtonGroupWidget.parent.call(this,i),t.ui.mixin.GroupElement.call(this,e.extend({$group:this.$element},i)),t.ui.mixin.TitledElement.call(this,i),this.$element.addClass("oo-ui-buttonGroupWidget"),Array.isArray(i.items)&&this.addItems(i.items)},t.inheritClass(t.ui.ButtonGroupWidget,t.ui.Widget),t.mixinClass(t.ui.ButtonGroupWidget,t.ui.mixin.GroupElement),t.mixinClass(t.ui.ButtonGroupWidget,t.ui.mixin.TitledElement),t.ui.ButtonGroupWidget.static.tagName="span",t.ui.ButtonGroupWidget.prototype.focus=function(){return this.isDisabled()||this.items[0]&&this.items[0].focus(),this},t.ui.ButtonGroupWidget.prototype.simulateLabelClick=function(){this.focus()},t.ui.IconWidget=function(i){i=i||{},t.ui.IconWidget.parent.call(this,i),t.ui.mixin.IconElement.call(this,e.extend({$icon:this.$element},i)),t.ui.mixin.TitledElement.call(this,e.extend({$titled:this.$element},i)),t.ui.mixin.LabelElement.call(this,e.extend({$label:this.$element,invisibleLabel:!0},i)),t.ui.mixin.FlaggedElement.call(this,e.extend({$flagged:this.$element},i)),this.$element.addClass("oo-ui-iconWidget"),this.$element.removeClass("oo-ui-labelElement-label")},t.inheritClass(t.ui.IconWidget,t.ui.Widget),t.mixinClass(t.ui.IconWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.IconWidget,t.ui.mixin.TitledElement),t.mixinClass(t.ui.IconWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.IconWidget,t.ui.mixin.FlaggedElement),t.ui.IconWidget.static.tagName="span",t.ui.IndicatorWidget=function(i){i=i||{},t.ui.IndicatorWidget.parent.call(this,i),t.ui.mixin.IndicatorElement.call(this,e.extend({$indicator:this.$element},i)),t.ui.mixin.TitledElement.call(this,e.extend({$titled:this.$element},i)),t.ui.mixin.LabelElement.call(this,e.extend({$label:this.$element,invisibleLabel:!0},i)),this.$element.addClass("oo-ui-indicatorWidget"),this.$element.removeClass("oo-ui-labelElement-label")},t.inheritClass(t.ui.IndicatorWidget,t.ui.Widget),t.mixinClass(t.ui.IndicatorWidget,t.ui.mixin.IndicatorElement),t.mixinClass(t.ui.IndicatorWidget,t.ui.mixin.TitledElement),t.mixinClass(t.ui.IndicatorWidget,t.ui.mixin.LabelElement),t.ui.IndicatorWidget.static.tagName="span",t.ui.LabelWidget=function(i){i=i||{},t.ui.LabelWidget.parent.call(this,i),t.ui.mixin.LabelElement.call(this,e.extend({$label:this.$element},i)),t.ui.mixin.TitledElement.call(this,i),this.input=i.input,this.input&&(this.input.getInputId()?this.$element.attr("for",this.input.getInputId()):this.$label.on("click",function(){this.input.simulateLabelClick()}.bind(this))),this.$element.addClass("oo-ui-labelWidget")},t.inheritClass(t.ui.LabelWidget,t.ui.Widget),t.mixinClass(t.ui.LabelWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.LabelWidget,t.ui.mixin.TitledElement),t.ui.LabelWidget.static.tagName="label",t.ui.MessageWidget=function(e){e=e||{},t.ui.MessageWidget.parent.call(this,e),t.ui.mixin.IconElement.call(this,e),t.ui.mixin.LabelElement.call(this,e),t.ui.mixin.TitledElement.call(this,e),t.ui.mixin.FlaggedElement.call(this,e),this.setType(e.type),this.setInline(e.inline),this.$element.append(this.$icon,this.$label).addClass("oo-ui-messageWidget")},t.inheritClass(t.ui.MessageWidget,t.ui.Widget),t.mixinClass(t.ui.MessageWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.MessageWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.MessageWidget,t.ui.mixin.TitledElement),t.mixinClass(t.ui.MessageWidget,t.ui.mixin.FlaggedElement),t.ui.MessageWidget.static.iconMap={notice:"infoFilled",error:"error",warning:"alert",success:"check"},t.ui.MessageWidget.prototype.setInline=function(t){t=!!t,this.inline!==t&&(this.inline=t,this.$element.toggleClass("oo-ui-messageWidget-block",!this.inline))},t.ui.MessageWidget.prototype.setType=function(t){-1===Object.keys(this.constructor.static.iconMap).indexOf(t)&&(t="notice"),this.type!==t&&(this.clearFlags(),this.setFlags(t),this.setIcon(this.constructor.static.iconMap[t]),this.$icon.removeClass("oo-ui-image-"+this.type),this.$icon.addClass("oo-ui-image-"+t),"error"===t?(this.$element.attr("role","alert"),this.$element.removeAttr("aria-live")):(this.$element.removeAttr("role"),this.$element.attr("aria-live","polite")),this.type=t)},t.ui.mixin.PendingElement=function(t){t=t||{},this.pending=0,this.$pending=null,this.setPendingElement(t.$pending||this.$element)},t.initClass(t.ui.mixin.PendingElement),t.ui.mixin.PendingElement.prototype.setPendingElement=function(t){this.$pending&&this.$pending.removeClass("oo-ui-pendingElement-pending"),this.$pending=t,this.pending>0&&this.$pending.addClass("oo-ui-pendingElement-pending")},t.ui.mixin.PendingElement.prototype.isPending=function(){return!!this.pending},t.ui.mixin.PendingElement.prototype.pushPending=function(){return 0===this.pending&&(this.$pending.addClass("oo-ui-pendingElement-pending"),this.updateThemeClasses()),this.pending++,this},t.ui.mixin.PendingElement.prototype.popPending=function(){return 1===this.pending&&(this.$pending.removeClass("oo-ui-pendingElement-pending"),this.updateThemeClasses()),this.pending=Math.max(0,this.pending-1),this},t.ui.mixin.FloatableElement=function(t){t=t||{},this.$floatable=null,this.$floatableContainer=null,this.$floatableWindow=null,this.$floatableClosestScrollable=null,this.floatableOutOfView=!1,this.onFloatableScrollHandler=this.position.bind(this),this.onFloatableWindowResizeHandler=this.position.bind(this),this.setFloatableContainer(t.$floatableContainer),this.setFloatableElement(t.$floatable||this.$element),this.setVerticalPosition(t.verticalPosition||"below"),this.setHorizontalPosition(t.horizontalPosition||"start"),this.hideWhenOutOfView=void 0===t.hideWhenOutOfView||!!t.hideWhenOutOfView},t.ui.mixin.FloatableElement.prototype.setFloatableElement=function(t){this.$floatable&&(this.$floatable.removeClass("oo-ui-floatableElement-floatable"),this.$floatable.css({left:"",top:""})),this.$floatable=t.addClass("oo-ui-floatableElement-floatable"),this.position()},t.ui.mixin.FloatableElement.prototype.setFloatableContainer=function(t){this.$floatableContainer=t,this.$floatable&&this.position()},t.ui.mixin.FloatableElement.prototype.setVerticalPosition=function(t){if(-1===["below","above","top","bottom","center"].indexOf(t))throw new Error("Invalid value for vertical position: "+t);this.verticalPosition!==t&&(this.verticalPosition=t,this.$floatable&&this.position())},t.ui.mixin.FloatableElement.prototype.setHorizontalPosition=function(t){if(-1===["before","after","start","end","center"].indexOf(t))throw new Error("Invalid value for horizontal position: "+t);this.horizontalPosition!==t&&(this.horizontalPosition=t,this.$floatable&&this.position())},t.ui.mixin.FloatableElement.prototype.togglePositioning=function(i){var n;return this.$floatable&&this.$floatableContainer?(!(i=void 0===i?!this.positioning:!!i)||this.warnedUnattached||this.isElementAttached()||(t.ui.warnDeprecation("FloatableElement#togglePositioning: Before calling this method, the element must be attached to the DOM."),this.warnedUnattached=!0),this.positioning!==i&&(this.positioning=i,n=t.ui.Element.static.getClosestScrollableContainer(this.$floatableContainer[0]),e(n).is("html, body")&&(n=t.ui.Element.static.getWindow(n)),i?(this.$floatableWindow=e(this.getElementWindow()),this.$floatableWindow.on("resize",this.onFloatableWindowResizeHandler),this.$floatableClosestScrollable=e(n),this.$floatableClosestScrollable.on("scroll",this.onFloatableScrollHandler),this.position()):(this.$floatableWindow&&(this.$floatableWindow.off("resize",this.onFloatableWindowResizeHandler),this.$floatableWindow=null),this.$floatableClosestScrollable&&(this.$floatableClosestScrollable.off("scroll",this.onFloatableScrollHandler),this.$floatableClosestScrollable=null),this.$floatable.css({left:"",right:"",top:""}))),this):this},t.ui.mixin.FloatableElement.prototype.isElementInViewport=function(e,i){var n,o,s,a,r,l,u,h,c,d=e.css("direction");return n=e[0].getBoundingClientRect(),i[0]===window?(c=t.ui.getViewportSpacing(),(o={top:0,left:0,right:document.documentElement.clientWidth,bottom:document.documentElement.clientHeight}).top+=c.top,o.left+=c.left,o.right-=c.right,o.bottom-=c.bottom):o=i[0].getBoundingClientRect(),s=n.top>=o.top&&n.top<=o.bottom,a=n.bottom>=o.top&&n.bottom<=o.bottom,r=n.left>=o.left&&n.left<=o.right,l=n.right>=o.left&&n.right<=o.right,"rtl"===d?(u=l,h=r):(u=r,h=l),!("below"===this.verticalPosition&&!a)&&(!("above"===this.verticalPosition&&!s)&&(!("before"===this.horizontalPosition&&!u)&&(!("after"===this.horizontalPosition&&!h)&&(n.top<=o.bottom&&n.bottom>=o.top&&n.left<=o.right&&n.right>=o.left))))},t.ui.mixin.FloatableElement.prototype.isFloatableOutOfView=function(){return this.floatableOutOfView},t.ui.mixin.FloatableElement.prototype.position=function(){return this.positioning?!this.isElementAttached()||this.$floatableClosestScrollable[0]!==this.getElementWindow()&&!e.contains(this.getElementDocument(),this.$floatableClosestScrollable[0])?this:(this.floatableOutOfView=this.hideWhenOutOfView&&!this.isElementInViewport(this.$floatableContainer,this.$floatableClosestScrollable),this.floatableOutOfView?(this.$floatable.addClass("oo-ui-element-hidden"),this):(this.$floatable.removeClass("oo-ui-element-hidden"),this.$floatable.css(this.computePosition()),this.clip&&this.clip(),this)):this},t.ui.mixin.FloatableElement.prototype.computePosition=function(){var i,n,o,s,a,r,l,u,h={top:"",left:"",bottom:"",right:""},c=this.$floatableContainer.css("direction"),d=this.$floatable.offsetParent();return d.is("html")&&(d=e(d[0].ownerDocument.body)),i=d.is("body"),n="scroll"===d.css("overflow-x")||"auto"===d.css("overflow-x"),o="scroll"===d.css("overflow-y")||"auto"===d.css("overflow-y"),r=d.innerWidth()-d.prop("clientWidth"),a=d.innerHeight()-d.prop("clientHeight"),l=o&&!i?d.scrollTop():0,u=n&&!i?t.ui.Element.static.getScrollLeft(d[0]):0,(s=i?this.$floatableContainer.offset():t.ui.Element.static.getRelativePosition(this.$floatableContainer,d)).bottom=s.top+this.$floatableContainer.outerHeight(),s.right=s.left+this.$floatableContainer.outerWidth(),s.start="rtl"===c?s.right:s.left,s.end="rtl"===c?s.left:s.right,"below"===this.verticalPosition?h.top=s.bottom:"above"===this.verticalPosition?h.bottom=d.outerHeight()-s.top:"top"===this.verticalPosition?h.top=s.top:"bottom"===this.verticalPosition?h.bottom=d.outerHeight()-s.bottom:"center"===this.verticalPosition&&(h.top=s.top+(this.$floatableContainer.height()-this.$floatable.height())/2),"before"===this.horizontalPosition?h.end=s.start:"after"===this.horizontalPosition?h.start=s.end:"start"===this.horizontalPosition?h.start=s.start:"end"===this.horizontalPosition?h.end=s.end:"center"===this.horizontalPosition&&(h.left=s.left+(this.$floatableContainer.width()-this.$floatable.width())/2),void 0!==h.start&&("rtl"===c?h.right=(i?e(d[0].ownerDocument.documentElement):d).outerWidth()-h.start:h.left=h.start,delete h.start),void 0!==h.end&&("rtl"===c?h.left=h.end:h.right=(i?e(d[0].ownerDocument.documentElement):d).outerWidth()-h.end,delete h.end),""!==h.top&&(h.top+=l),""!==h.bottom&&(h.bottom-=l),""!==h.left&&(h.left+=u),""!==h.right&&(h.right-=u),""!==h.bottom&&(h.bottom-=a),"rtl"===c?""!==h.left&&(h.left-=r):""!==h.right&&(h.right-=r),h},t.ui.mixin.ClippableElement=function(t){t=t||{},this.$clippable=null,this.$clippableContainer=null,this.clipping=!1,this.clippedHorizontally=!1,this.clippedVertically=!1,this.$clippableScrollableContainer=null,this.$clippableScroller=null,this.$clippableWindow=null,this.idealWidth=null,this.idealHeight=null,this.onClippableScrollHandler=this.clip.bind(this),this.onClippableWindowResizeHandler=this.clip.bind(this),t.$clippableContainer&&this.setClippableContainer(t.$clippableContainer),this.setClippableElement(t.$clippable||this.$element)},t.ui.mixin.ClippableElement.prototype.setClippableElement=function(e){this.$clippable&&(this.$clippable.removeClass("oo-ui-clippableElement-clippable"),this.$clippable.css({width:"",height:"",overflowX:"",overflowY:""}),t.ui.Element.static.reconsiderScrollbars(this.$clippable[0])),this.$clippable=e.addClass("oo-ui-clippableElement-clippable"),this.clip()},t.ui.mixin.ClippableElement.prototype.setClippableContainer=function(t){this.$clippableContainer=t,this.$clippable&&this.clip()},t.ui.mixin.ClippableElement.prototype.toggleClipping=function(i){return!(i=void 0===i?!this.clipping:!!i)||this.warnedUnattached||this.isElementAttached()||(t.ui.warnDeprecation("ClippableElement#toggleClipping: Before calling this method, the element must be attached to the DOM."),this.warnedUnattached=!0),this.clipping!==i&&(this.clipping=i,i?(this.$clippableScrollableContainer=e(this.getClosestScrollableElementContainer()),this.$clippableScroller=this.$clippableScrollableContainer.is("html, body")?e(t.ui.Element.static.getWindow(this.$clippableScrollableContainer)):this.$clippableScrollableContainer,this.$clippableScroller.on("scroll",this.onClippableScrollHandler),this.$clippableWindow=e(this.getElementWindow()).on("resize",this.onClippableWindowResizeHandler),this.clip()):(this.$clippable.css({width:"",height:"",maxWidth:"",maxHeight:"",overflowX:"",overflowY:""}),t.ui.Element.static.reconsiderScrollbars(this.$clippable[0]),this.$clippableScrollableContainer=null,this.$clippableScroller.off("scroll",this.onClippableScrollHandler),this.$clippableScroller=null,this.$clippableWindow.off("resize",this.onClippableWindowResizeHandler),this.$clippableWindow=null)),this},t.ui.mixin.ClippableElement.prototype.isClipping=function(){return this.clipping},t.ui.mixin.ClippableElement.prototype.isClipped=function(){return this.clippedHorizontally||this.clippedVertically},t.ui.mixin.ClippableElement.prototype.isClippedHorizontally=function(){return this.clippedHorizontally},t.ui.mixin.ClippableElement.prototype.isClippedVertically=function(){return this.clippedVertically},t.ui.mixin.ClippableElement.prototype.setIdealSize=function(t,e){this.idealWidth=t,this.idealHeight=e,this.clipping||this.$clippable.css({width:t,height:e})},t.ui.mixin.ClippableElement.prototype.getHorizontalAnchorEdge=function(){return this.computePosition&&this.positioning&&""!==this.computePosition().right?"right":"left"},t.ui.mixin.ClippableElement.prototype.getVerticalAnchorEdge=function(){return this.computePosition&&this.positioning&&""!==this.computePosition().bottom?"bottom":"top"},t.ui.mixin.ClippableElement.prototype.clip=function(){var i,n,o,s,a,r,l,u,h,c,d,p,g,m,f,y,v,b,_,x,w;if(!this.clipping)return this;return o=t.ui.getViewportSpacing(),this.$clippableScrollableContainer.is("html, body")?(g=e(this.$clippableScrollableContainer[0].ownerDocument.body),(m={top:0,left:0,right:document.documentElement.clientWidth,bottom:document.documentElement.clientHeight}).top+=o.top,m.left+=o.left,m.right-=o.right,m.bottom-=o.bottom):(m=(g=this.$clippableScrollableContainer)[0].getBoundingClientRect(),m=e.extend({},m)),y=g.css("direction"),v=g.innerWidth()-g.prop("clientWidth"),b=g.innerHeight()-g.prop("clientHeight"),m.bottom-=b,"rtl"===y?m.left+=v:m.right-=v,m.top+=7,m.left+=7,m.right-=7,m.bottom-=7,i=(d=this.$clippableContainer||this.$clippable).outerHeight()-this.$clippable.outerHeight(),n=d.outerWidth()-this.$clippable.outerWidth(),p=d[0].getBoundingClientRect(),p=e.extend({},p),"right"===this.getHorizontalAnchorEdge()?p.left=m.left:p.right=m.right,"bottom"===this.getVerticalAnchorEdge()?p.top=m.top:p.bottom=m.bottom,_=m,x=p,(w={}).top=Math.max(_.top,x.top),w.left=Math.max(_.left,x.left),w.bottom=Math.min(_.bottom,x.bottom),w.right=Math.min(_.right,x.right),f=w,s=Math.max(0,f.right-f.left),a=Math.max(0,f.bottom-f.top),s=Math.min(s,document.documentElement.clientWidth-o.left-o.right),a=Math.min(a,document.documentElement.clientHeight-o.top-o.right),r=Math.ceil(s-n),l=Math.ceil(a-i),u=this.$clippable.prop("scrollWidth"),c=l<this.$clippable.prop("scrollHeight"),(h=r<u)?(this.$clippable.css("overflowX","scroll"),this.$clippable[0].offsetHeight,this.$clippable.css({width:Math.max(0,r),maxWidth:""})):this.$clippable.css({overflowX:"",width:this.idealWidth||"",maxWidth:Math.max(0,r)}),c?(this.$clippable.css("overflowY","scroll"),this.$clippable[0].offsetHeight,this.$clippable.css({height:Math.max(0,l),maxHeight:""})):this.$clippable.css({overflowY:"",height:this.idealHeight||"",maxHeight:Math.max(0,l)}),(this.clippedHorizontally&&!h||this.clippedVertically&&!c)&&t.ui.Element.static.reconsiderScrollbars(this.$clippable[0]),this.clippedHorizontally=h,this.clippedVertically=c,this},t.ui.PopupWidget=function(i){i=i||{},t.ui.PopupWidget.parent.call(this,i),this.$body=e("<div>"),this.$popup=e("<div>"),t.ui.mixin.LabelElement.call(this,i),t.ui.mixin.ClippableElement.call(this,e.extend({$clippable:this.$body,$clippableContainer:this.$popup},i)),t.ui.mixin.FloatableElement.call(this,i),this.$anchor=e("<div>"),this.$container=i.$container,this.containerPadding=void 0!==i.containerPadding?i.containerPadding:10,this.autoClose=!!i.autoClose,this.transitionTimeout=null,this.anchored=!1,this.onDocumentMouseDownHandler=this.onDocumentMouseDown.bind(this),this.onDocumentKeyDownHandler=this.onDocumentKeyDown.bind(this),this.setSize(i.width,i.height),this.toggleAnchor(void 0===i.anchor||i.anchor),this.setAlignment(i.align||"center"),this.setPosition(i.position||"below"),this.setAutoFlip(void 0===i.autoFlip||i.autoFlip),this.setAutoCloseIgnore(i.$autoCloseIgnore),this.$body.addClass("oo-ui-popupWidget-body"),this.$anchor.addClass("oo-ui-popupWidget-anchor"),this.$popup.addClass("oo-ui-popupWidget-popup").append(this.$body),this.$element.addClass("oo-ui-popupWidget").append(this.$popup,this.$anchor),i.$content instanceof e&&this.$body.append(i.$content),i.padded&&this.$body.addClass("oo-ui-popupWidget-body-padded"),i.head&&(this.closeButton=new t.ui.ButtonWidget({framed:!1,icon:"close"}),this.closeButton.connect(this,{click:"onCloseButtonClick"}),this.$head=e("<div>").addClass("oo-ui-popupWidget-head").append(this.$label,this.closeButton.$element),this.$popup.prepend(this.$head)),i.$footer&&(this.$footer=e("<div>").addClass("oo-ui-popupWidget-footer").append(i.$footer),this.$popup.append(this.$footer)),this.visible=!1,this.$element.addClass("oo-ui-element-hidden")},t.inheritClass(t.ui.PopupWidget,t.ui.Widget),t.mixinClass(t.ui.PopupWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.PopupWidget,t.ui.mixin.ClippableElement),t.mixinClass(t.ui.PopupWidget,t.ui.mixin.FloatableElement),t.ui.PopupWidget.prototype.onDocumentMouseDown=function(e){this.isVisible()&&!t.ui.contains(this.$element.add(this.$autoCloseIgnore).get(),e.target,!0)&&this.toggle(!1)},t.ui.PopupWidget.prototype.bindDocumentMouseDownListener=function(){this.getElementDocument().addEventListener("mousedown",this.onDocumentMouseDownHandler,!0),this.getElementDocument().addEventListener("click",this.onDocumentMouseDownHandler,!0)},t.ui.PopupWidget.prototype.onCloseButtonClick=function(){this.isVisible()&&this.toggle(!1)},t.ui.PopupWidget.prototype.unbindDocumentMouseDownListener=function(){this.getElementDocument().removeEventListener("mousedown",this.onDocumentMouseDownHandler,!0),this.getElementDocument().removeEventListener("click",this.onDocumentMouseDownHandler,!0)},t.ui.PopupWidget.prototype.onDocumentKeyDown=function(e){e.which===t.ui.Keys.ESCAPE&&this.isVisible()&&(this.toggle(!1),e.preventDefault(),e.stopPropagation())},t.ui.PopupWidget.prototype.bindDocumentKeyDownListener=function(){this.getElementDocument().addEventListener("keydown",this.onDocumentKeyDownHandler,!0)},t.ui.PopupWidget.prototype.unbindDocumentKeyDownListener=function(){this.getElementDocument().removeEventListener("keydown",this.onDocumentKeyDownHandler,!0)},t.ui.PopupWidget.prototype.toggleAnchor=function(t){t=void 0===t?!this.anchored:!!t,this.anchored!==t&&(t?(this.$element.addClass("oo-ui-popupWidget-anchored"),this.$element.addClass("oo-ui-popupWidget-anchored-"+this.anchorEdge)):(this.$element.removeClass("oo-ui-popupWidget-anchored"),this.$element.removeClass("oo-ui-popupWidget-anchored-"+this.anchorEdge)),this.anchored=t)},t.ui.PopupWidget.prototype.setAnchorEdge=function(t){if(-1===["top","bottom","start","end"].indexOf(t))throw new Error("Invalid value for edge: "+t);null!==this.anchorEdge&&this.$element.removeClass("oo-ui-popupWidget-anchored-"+this.anchorEdge),this.anchorEdge=t,this.anchored&&this.$element.addClass("oo-ui-popupWidget-anchored-"+t)},t.ui.PopupWidget.prototype.hasAnchor=function(){return this.anchored},t.ui.PopupWidget.prototype.toggle=function(e){var i,n,o;return i=(e=void 0===e?!this.isVisible():!!e)!==this.isVisible(),!e||this.warnedUnattached||this.isElementAttached()||(t.ui.warnDeprecation("PopupWidget#toggle: Before calling this method, the popup must be attached to the DOM."),this.warnedUnattached=!0),e&&!this.$floatableContainer&&this.isElementAttached()&&this.setFloatableContainer(this.$element.parent()),i&&e&&this.autoFlip&&(this.isAutoFlipped=!1),t.ui.PopupWidget.parent.prototype.toggle.call(this,e),i&&(this.togglePositioning(e&&!!this.$floatableContainer),e?(this.autoClose&&(this.bindDocumentMouseDownListener(),this.bindDocumentKeyDownListener()),this.updateDimensions(),this.toggleClipping(!0),this.autoFlip&&("above"!==this.popupPosition&&"below"!==this.popupPosition||(this.isClippedVertically()||this.isFloatableOutOfView())&&(n=this.$element.height(),this.isAutoFlipped=!this.isAutoFlipped,this.position(),(this.isClippedVertically()||this.isFloatableOutOfView())&&this.$element.height()<n&&(this.isAutoFlipped=!this.isAutoFlipped,this.position())),"before"!==this.popupPosition&&"after"!==this.popupPosition||(this.isClippedHorizontally()||this.isFloatableOutOfView())&&(o=this.$element.width(),this.isAutoFlipped=!this.isAutoFlipped,this.toggleClipping(!1),this.position(),this.toggleClipping(!0),(this.isClippedHorizontally()||this.isFloatableOutOfView())&&this.$element.width()<o&&(this.isAutoFlipped=!this.isAutoFlipped,this.toggleClipping(!1),this.position(),this.toggleClipping(!0)))),this.emit("ready")):(this.toggleClipping(!1),this.autoClose&&(this.unbindDocumentMouseDownListener(),this.unbindDocumentKeyDownListener()))),this},t.ui.PopupWidget.prototype.setSize=function(t,e,i){this.width=void 0!==t?t:320,this.height=void 0!==e?e:null,this.isVisible()&&this.updateDimensions(i)},t.ui.PopupWidget.prototype.updateDimensions=function(t){var e=this;clearTimeout(this.transitionTimeout),t&&this.$element.addClass("oo-ui-popupWidget-transitioning"),this.position(),t?this.transitionTimeout=setTimeout((function(){e.$element.removeClass("oo-ui-popupWidget-transitioning")}),200):this.$element.removeClass("oo-ui-popupWidget-transitioning")},t.ui.PopupWidget.prototype.computePosition=function(){var i,n,o,s,a,r,l,u,h,c,d,p,g,m,f,y,v,b,_,x,w={},E={left:"",right:"",top:"",bottom:""},C={forwards:"start",center:"center",backwards:this.anchored?"before":"end"};return this.$container||(this.$container=e(this.getClosestScrollableElementContainer())),i=this.$container.css("direction"),this.$popup.css({width:null!==this.width?this.width:"auto",height:null!==this.height?this.height:"auto"}),n={ltr:{"force-left":"backwards","force-right":"forwards"},rtl:{"force-left":"forwards","force-right":"backwards"}}[i][this.align]||this.align,_=this.popupPosition,this.isAutoFlipped&&(_={above:"below",below:"above",before:"after",after:"before"}[_]),s=(o="before"===_||"after"===_)?"top":"rtl"===i?"right":"left",a=o?"bottom":"rtl"===i?"left":"right",r=o?"top":"left",l=o?"bottom":"right",u=o?"Height":"Width",h=o?this.height||this.$popup.height():this.width||this.$popup.width(),this.setAnchorEdge({above:"bottom",below:"top",before:"end",after:"start"}[_]),this.horizontalPosition=o?_:C[n],this.verticalPosition=o?{forwards:"top",center:"center",backwards:"bottom"}[n]:_,g=t.ui.mixin.FloatableElement.prototype.computePosition.call(this),m=o?""!==g.top?"top":"bottom":""!==g.left?"left":"right",(y=this.$floatableContainer.offset())[l]=y[r]+this.$floatableContainer["outer"+u](),v=this.$element.offsetParent()[0]===document.documentElement?{top:0,left:0}:this.$element.offsetParent().offset(),m===r?(w[r]=v[r]+g[r],w[l]=w[r]+h):(w[l]=v[r]+this.$element.offsetParent()["inner"+u]()-g[l],w[r]=w[l]-h),this.anchored?(d=(s===l?-1:1)*((y[s]+y[a])/2-w[s]),c=this.$anchor[0]["scroll"+u],f=d+(p=parseFloat(this.$anchor.css("margin-"+s)))<2*c?(m===s?-1:1)*(2*c-(d+p)):d+p>h-2*c?(m===a?-1:1)*(d+p-(h-2*c)):0):f=0,(b=this.$container[0]===document.documentElement?{top:0,left:0}:this.$container.offset())[l]=b[r]+this.$container["inner"+u](),this.$container[0]===document.documentElement&&(x=t.ui.getViewportSpacing(),b[r]+=x[r],b[l]-=x[l]),w[r]+=(m===r?1:-1)*f,w[l]+=(m===r?1:-1)*f,b[r]+this.containerPadding>w[r]?f+=(m===r?1:-1)*(b[r]+this.containerPadding-w[r]):b[l]-this.containerPadding<w[l]&&(f+=(m===l?1:-1)*(w[l]-(b[l]-this.containerPadding))),this.anchored&&(d+=(m===s?-1:1)*f,E[s]=d,this.$anchor.css(E)),g[m]+=f,g},t.ui.PopupWidget.prototype.setAlignment=function(t){["force-left","force-right","backwards","forwards","center"].indexOf(t)>-1?this.align=t:this.align="center",this.position()},t.ui.PopupWidget.prototype.getAlignment=function(){return this.align},t.ui.PopupWidget.prototype.setPosition=function(t){-1===["above","below","before","after"].indexOf(t)&&(t="below"),this.popupPosition=t,this.position()},t.ui.PopupWidget.prototype.getPosition=function(){return this.popupPosition},t.ui.PopupWidget.prototype.setAutoFlip=function(t){t=!!t,this.autoFlip!==t&&(this.autoFlip=t)},t.ui.PopupWidget.prototype.setAutoCloseIgnore=function(t){this.$autoCloseIgnore=t},t.ui.PopupWidget.prototype.getBodyId=function(){var e=this.$body.attr("id");return void 0===e&&(e=t.ui.generateElementId(),this.$body.attr("id",e)),e},t.ui.mixin.PopupElement=function(i){i=i||{},this.popup=new t.ui.PopupWidget(e.extend({autoClose:!0,$floatableContainer:this.$element},i.popup,{$autoCloseIgnore:this.$element.add(i.popup&&i.popup.$autoCloseIgnore)}))},t.ui.mixin.PopupElement.prototype.getPopup=function(){return this.popup},t.ui.PopupButtonWidget=function(e){e=e||{},t.ui.PopupButtonWidget.parent.call(this,e),t.ui.mixin.PopupElement.call(this,e),this.$overlay=(!0===e.$overlay?t.ui.getDefaultOverlay():e.$overlay)||this.$element,this.connect(this,{click:"onAction"}),this.$element.addClass("oo-ui-popupButtonWidget"),this.popup.$element.addClass("oo-ui-popupButtonWidget-popup").toggleClass("oo-ui-popupButtonWidget-framed-popup",this.isFramed()).toggleClass("oo-ui-popupButtonWidget-frameless-popup",!this.isFramed()),this.$overlay.append(this.popup.$element)},t.inheritClass(t.ui.PopupButtonWidget,t.ui.ButtonWidget),t.mixinClass(t.ui.PopupButtonWidget,t.ui.mixin.PopupElement),t.ui.PopupButtonWidget.prototype.onAction=function(){this.popup.toggle()},t.ui.mixin.GroupWidget=function(e){t.ui.mixin.GroupElement.call(this,e)},t.mixinClass(t.ui.mixin.GroupWidget,t.ui.mixin.GroupElement),t.ui.mixin.GroupWidget.prototype.setDisabled=function(e){var i,n;if(t.ui.Widget.prototype.setDisabled.call(this,e),this.items)for(i=0,n=this.items.length;i<n;i++)this.items[i].updateDisabled();return this},t.ui.mixin.ItemWidget=function(){},t.ui.mixin.ItemWidget.prototype.isDisabled=function(){return this.disabled||this.elementGroup instanceof t.ui.Widget&&this.elementGroup.isDisabled()},t.ui.mixin.ItemWidget.prototype.setElementGroup=function(e){return t.ui.Element.prototype.setElementGroup.call(this,e),this.updateDisabled(),this},t.ui.OptionWidget=function(e){e=e||{},t.ui.OptionWidget.parent.call(this,e),t.ui.mixin.ItemWidget.call(this),t.ui.mixin.LabelElement.call(this,e),t.ui.mixin.FlaggedElement.call(this,e),t.ui.mixin.AccessKeyedElement.call(this,e),t.ui.mixin.TitledElement.call(this,e),this.highlighted=!1,this.pressed=!1,this.setSelected(!!e.selected),this.$element.data("oo-ui-optionWidget",this).attr("tabindex","-1").attr("role","option").addClass("oo-ui-optionWidget").append(this.$label)},t.inheritClass(t.ui.OptionWidget,t.ui.Widget),t.mixinClass(t.ui.OptionWidget,t.ui.mixin.ItemWidget),t.mixinClass(t.ui.OptionWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.OptionWidget,t.ui.mixin.FlaggedElement),t.mixinClass(t.ui.OptionWidget,t.ui.mixin.AccessKeyedElement),t.mixinClass(t.ui.OptionWidget,t.ui.mixin.TitledElement),t.ui.OptionWidget.static.selectable=!0,t.ui.OptionWidget.static.highlightable=!0,t.ui.OptionWidget.static.pressable=!0,t.ui.OptionWidget.static.scrollIntoViewOnSelect=!1,t.ui.OptionWidget.prototype.isSelectable=function(){return this.constructor.static.selectable&&!this.disabled&&this.isVisible()},t.ui.OptionWidget.prototype.isHighlightable=function(){return this.constructor.static.highlightable&&!this.disabled&&this.isVisible()},t.ui.OptionWidget.prototype.isPressable=function(){return this.constructor.static.pressable&&!this.disabled&&this.isVisible()},t.ui.OptionWidget.prototype.isSelected=function(){return this.selected},t.ui.OptionWidget.prototype.isHighlighted=function(){return this.highlighted},t.ui.OptionWidget.prototype.isPressed=function(){return this.pressed},t.ui.OptionWidget.prototype.setSelected=function(t){return this.constructor.static.selectable&&(this.selected=!!t,this.$element.toggleClass("oo-ui-optionWidget-selected",t).attr("aria-selected",t.toString()),t&&this.constructor.static.scrollIntoViewOnSelect&&this.scrollElementIntoView(),this.updateThemeClasses()),this},t.ui.OptionWidget.prototype.setHighlighted=function(t){return this.constructor.static.highlightable&&(this.highlighted=!!t,this.$element.toggleClass("oo-ui-optionWidget-highlighted",t),this.updateThemeClasses()),this},t.ui.OptionWidget.prototype.setPressed=function(t){return this.constructor.static.pressable&&(this.pressed=!!t,this.$element.toggleClass("oo-ui-optionWidget-pressed",t),this.updateThemeClasses()),this},t.ui.OptionWidget.prototype.getMatchText=function(){var t=this.getLabel();return"string"==typeof t?t:this.$label.text()},t.ui.SelectWidget=function(i){i=i||{},t.ui.SelectWidget.parent.call(this,i),t.ui.mixin.GroupWidget.call(this,e.extend({$group:this.$element},i)),this.pressed=!1,this.selecting=null,this.multiselect=!!i.multiselect,this.onDocumentMouseUpHandler=this.onDocumentMouseUp.bind(this),this.onDocumentMouseMoveHandler=this.onDocumentMouseMove.bind(this),this.onDocumentKeyDownHandler=this.onDocumentKeyDown.bind(this),this.onDocumentKeyPressHandler=this.onDocumentKeyPress.bind(this),this.keyPressBuffer="",this.keyPressBufferTimer=null,this.blockMouseOverEvents=0,this.connect(this,{toggle:"onToggle"}),this.$element.on({focusin:this.onFocus.bind(this),mousedown:this.onMouseDown.bind(this),mouseover:this.onMouseOver.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.$element.addClass("oo-ui-selectWidget oo-ui-selectWidget-unpressed").attr("role","listbox"),this.setFocusOwner(this.$element),Array.isArray(i.items)&&this.addItems(i.items)},t.inheritClass(t.ui.SelectWidget,t.ui.Widget),t.mixinClass(t.ui.SelectWidget,t.ui.mixin.GroupWidget),t.ui.SelectWidget.static.normalizeForMatching=function(t){var e=t.trim().replace(/\s+/," ").toLowerCase();return e.normalize&&(e=e.normalize()),e},t.ui.SelectWidget.prototype.onFocus=function(t){var e;if(t.target===this.$element[0])this.findSelectedItem()||(e=this.findFirstSelectableItem());else{if(-1!==t.target.tabIndex)return;e=this.findTargetItem(t)}e&&(e.constructor.static.highlightable?this.highlightItem(e):this.selectItem(e)),t.target!==this.$element[0]&&this.$focusOwner.trigger("focus")},t.ui.SelectWidget.prototype.onMouseDown=function(e){var i;return this.isDisabled()||e.which!==t.ui.MouseButtons.LEFT||(this.togglePressed(!0),(i=this.findTargetItem(e))&&i.isSelectable()&&(this.pressItem(i),this.selecting=i,this.getElementDocument().addEventListener("mouseup",this.onDocumentMouseUpHandler,!0),this.getElementDocument().addEventListener("mousemove",this.onDocumentMouseMoveHandler,!0))),!1},t.ui.SelectWidget.prototype.onDocumentMouseUp=function(e){var i;return this.togglePressed(!1),this.selecting||(i=this.findTargetItem(e))&&i.isSelectable()&&(this.selecting=i),!this.isDisabled()&&e.which===t.ui.MouseButtons.LEFT&&this.selecting&&(this.pressItem(null),this.chooseItem(this.selecting),this.selecting=null),this.getElementDocument().removeEventListener("mouseup",this.onDocumentMouseUpHandler,!0),this.getElementDocument().removeEventListener("mousemove",this.onDocumentMouseMoveHandler,!0),!1},t.ui.SelectWidget.prototype.onDocumentMouseMove=function(t){var e;!this.isDisabled()&&this.pressed&&(e=this.findTargetItem(t))&&e!==this.selecting&&e.isSelectable()&&(this.pressItem(e),this.selecting=e)},t.ui.SelectWidget.prototype.onMouseOver=function(t){var e;if(!this.blockMouseOverEvents)return this.isDisabled()||(e=this.findTargetItem(t),this.highlightItem(e&&e.isHighlightable()?e:null)),!1},t.ui.SelectWidget.prototype.onMouseLeave=function(){return this.isDisabled()||this.highlightItem(null),!1},t.ui.SelectWidget.prototype.onDocumentKeyDown=function(e){var i,n=!1,o=this.findSelectedItems(),s=this.findHighlightedItem()||(Array.isArray(o)?o[0]:o),a=this.getItems()[0];if(!this.isDisabled()&&this.isVisible()){switch(e.keyCode){case t.ui.Keys.ENTER:s&&(this.chooseItem(s),n=!0);break;case t.ui.Keys.UP:case t.ui.Keys.LEFT:this.clearKeyPressBuffer(),i=s?this.findRelativeSelectableItem(s,-1):a,n=!0;break;case t.ui.Keys.DOWN:case t.ui.Keys.RIGHT:this.clearKeyPressBuffer(),i=s?this.findRelativeSelectableItem(s,1):a,n=!0;break;case t.ui.Keys.ESCAPE:case t.ui.Keys.TAB:s&&s.setHighlighted(!1),this.unbindDocumentKeyDownListener(),this.unbindDocumentKeyPressListener(),n=!1}i&&(i.constructor.static.highlightable?this.highlightItem(i):this.chooseItem(i),this.scrollItemIntoView(i)),n&&(e.preventDefault(),e.stopPropagation())}},t.ui.SelectWidget.prototype.bindDocumentKeyDownListener=function(){this.getElementDocument().addEventListener("keydown",this.onDocumentKeyDownHandler,!0)},t.ui.SelectWidget.prototype.unbindDocumentKeyDownListener=function(){this.getElementDocument().removeEventListener("keydown",this.onDocumentKeyDownHandler,!0)},t.ui.SelectWidget.prototype.scrollItemIntoView=function(t){var e=this;this.blockMouseOverEvents++,t.scrollElementIntoView().done((function(){setTimeout((function(){e.blockMouseOverEvents--}),200)}))},t.ui.SelectWidget.prototype.clearKeyPressBuffer=function(){this.keyPressBufferTimer&&(clearTimeout(this.keyPressBufferTimer),this.keyPressBufferTimer=null),this.keyPressBuffer=""},t.ui.SelectWidget.prototype.onDocumentKeyPress=function(e){var i,n,o,s;if(!e.charCode)return e.keyCode===t.ui.Keys.BACKSPACE&&""!==this.keyPressBuffer?(this.keyPressBuffer=this.keyPressBuffer.substr(0,this.keyPressBuffer.length-1),!1):void 0;i=String.fromCodePoint?String.fromCodePoint(e.charCode):String.fromCharCode(e.charCode),this.keyPressBufferTimer&&clearTimeout(this.keyPressBufferTimer),this.keyPressBufferTimer=setTimeout(this.clearKeyPressBuffer.bind(this),1500),s=this.findSelectedItems(),o=this.findHighlightedItem()||(Array.isArray(s)?s[0]:s),this.keyPressBuffer===i?o&&(o=this.findRelativeSelectableItem(o,1)):this.keyPressBuffer+=i,n=this.getItemMatcher(this.keyPressBuffer,!1),o&&n(o)||(o=this.findRelativeSelectableItem(o,1,n)),o&&(this.isVisible()&&o.constructor.static.highlightable?this.highlightItem(o):this.chooseItem(o),this.scrollItemIntoView(o)),e.preventDefault(),e.stopPropagation()},t.ui.SelectWidget.prototype.getItemMatcher=function(t,e){var i=this.constructor.static.normalizeForMatching,n=i(t);return!0===e&&(e="exact"),function(t){var o=i(t.getMatchText());if(""===n)return"exact"!==e;switch(e){case"exact":return o===n;case"substring":return-1!==o.indexOf(n);default:return 0===o.indexOf(n)}}},t.ui.SelectWidget.prototype.bindDocumentKeyPressListener=function(){this.getElementDocument().addEventListener("keypress",this.onDocumentKeyPressHandler,!0)},t.ui.SelectWidget.prototype.unbindDocumentKeyPressListener=function(){this.getElementDocument().removeEventListener("keypress",this.onDocumentKeyPressHandler,!0),this.clearKeyPressBuffer()},t.ui.SelectWidget.prototype.onToggle=function(t){t||this.clearKeyPressBuffer()},t.ui.SelectWidget.prototype.findTargetItem=function(t){var i=e(t.target).closest(".oo-ui-optionWidget");return i.closest(".oo-ui-selectWidget").is(this.$element)&&i.data("oo-ui-optionWidget")||null},t.ui.SelectWidget.prototype.findSelectedItems=function(){var t=this.items.filter((function(t){return t.isSelected()}));return this.multiselect?t:t[0]||null},t.ui.SelectWidget.prototype.findSelectedItem=function(){return this.findSelectedItems()},t.ui.SelectWidget.prototype.findHighlightedItem=function(){var t,e;for(t=0,e=this.items.length;t<e;t++)if(this.items[t].isHighlighted())return this.items[t];return null},t.ui.SelectWidget.prototype.togglePressed=function(t){void 0===t&&(t=!this.pressed),t!==this.pressed&&(this.$element.toggleClass("oo-ui-selectWidget-pressed",t).toggleClass("oo-ui-selectWidget-unpressed",!t),this.pressed=t)},t.ui.SelectWidget.prototype.highlightItem=function(t){var e,i,n,o=!1;for(e=0,i=this.items.length;e<i;e++)n=this.items[e]===t,this.items[e].isHighlighted()!==n&&(this.items[e].setHighlighted(n),o=!0);return o&&(t?this.$focusOwner.attr("aria-activedescendant",t.getElementId()):this.$focusOwner.removeAttr("aria-activedescendant"),this.emit("highlight",t)),this},t.ui.SelectWidget.prototype.getItemFromLabel=function(e,i){var n,o,s,a=this.items.length,r=this.getItemMatcher(e,"exact");for(n=0;n<a;n++)if((o=this.items[n])instanceof t.ui.OptionWidget&&o.isSelectable()&&r(o))return o;if(i){for(s=null,r=this.getItemMatcher(e,"prefix"),n=0;n<a;n++)if((o=this.items[n])instanceof t.ui.OptionWidget&&o.isSelectable()&&r(o)){if(s)return null;s=o}if(s)return s}return null},t.ui.SelectWidget.prototype.selectItemByLabel=function(t,e){var i=this.getItemFromLabel(t,!!e);return void 0!==t&&i?this.selectItem(i):this.selectItem()},t.ui.SelectWidget.prototype.selectItemByData=function(t){var e=this.findItemFromData(t);return void 0!==t&&e?this.selectItem(e):this.selectItem()},t.ui.SelectWidget.prototype.unselectItem=function(t){return t?t.setSelected(!1):this.items.forEach((function(t){t.setSelected(!1)})),this.emit("select",this.findSelectedItems()),this},t.ui.SelectWidget.prototype.selectItem=function(t){var e,i,n,o=!1;if(this.multiselect&&t)t.setSelected(!0);else for(e=0,i=this.items.length;e<i;e++)n=this.items[e]===t,this.items[e].isSelected()!==n&&(this.items[e].setSelected(n),o=!0);return o&&(t&&!t.constructor.static.highlightable&&(t?this.$focusOwner.attr("aria-activedescendant",t.getElementId()):this.$focusOwner.removeAttr("aria-activedescendant")),this.emit("select",this.findSelectedItems())),this},t.ui.SelectWidget.prototype.pressItem=function(t){var e,i,n,o=!1;for(e=0,i=this.items.length;e<i;e++)n=this.items[e]===t,this.items[e].isPressed()!==n&&(this.items[e].setPressed(n),o=!0);return o&&this.emit("press",t),this},t.ui.SelectWidget.prototype.chooseItem=function(t){return t&&(this.multiselect&&t.isSelected()?this.unselectItem(t):this.selectItem(t),this.emit("choose",t,t.isSelected())),this},t.ui.SelectWidget.prototype.findRelativeSelectableItem=function(e,i,n){var o,s,a=i>0?1:-1,r=this.items.length;for(o=e instanceof t.ui.OptionWidget?(this.items.indexOf(e)+a+r)%r:i>0?0:r-1,s=0;s<r;s++){if((e=this.items[o])instanceof t.ui.OptionWidget&&e.isSelectable()&&(!n||n(e)))return e;o=(o+a+r)%r}return null},t.ui.SelectWidget.prototype.findFirstSelectableItem=function(){return this.findRelativeSelectableItem(null,1)},t.ui.SelectWidget.prototype.addItems=function(e,i){return t.ui.mixin.GroupWidget.prototype.addItems.call(this,e,i),this.emit("add",e,void 0===i?this.items.length-e.length-1:i),this},t.ui.SelectWidget.prototype.removeItems=function(e){var i,n;for(i=0,n=e.length;i<n;i++)e[i].isSelected()&&this.selectItem(null);return t.ui.mixin.GroupWidget.prototype.removeItems.call(this,e),this.emit("remove",e),this},t.ui.SelectWidget.prototype.clearItems=function(){var e=this.items.slice();return t.ui.mixin.GroupWidget.prototype.clearItems.call(this),this.selectItem(null),this.emit("remove",e),this},t.ui.SelectWidget.prototype.setFocusOwner=function(t){this.$focusOwner=t},t.ui.DecoratedOptionWidget=function(e){t.ui.DecoratedOptionWidget.parent.call(this,e),t.ui.mixin.IconElement.call(this,e),t.ui.mixin.IndicatorElement.call(this,e),this.$element.addClass("oo-ui-decoratedOptionWidget").prepend(this.$icon).append(this.$indicator)},t.inheritClass(t.ui.DecoratedOptionWidget,t.ui.OptionWidget),t.mixinClass(t.ui.DecoratedOptionWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.DecoratedOptionWidget,t.ui.mixin.IndicatorElement),t.ui.MenuOptionWidget=function(e){t.ui.MenuOptionWidget.parent.call(this,e),this.checkIcon=new t.ui.IconWidget({icon:"check",classes:["oo-ui-menuOptionWidget-checkIcon"]}),this.$element.prepend(this.checkIcon.$element).addClass("oo-ui-menuOptionWidget")},t.inheritClass(t.ui.MenuOptionWidget,t.ui.DecoratedOptionWidget),t.ui.MenuOptionWidget.static.scrollIntoViewOnSelect=!0,t.ui.MenuSectionOptionWidget=function(e){t.ui.MenuSectionOptionWidget.parent.call(this,e),this.$element.addClass("oo-ui-menuSectionOptionWidget").removeAttr("role aria-selected"),this.selected=!1},t.inheritClass(t.ui.MenuSectionOptionWidget,t.ui.DecoratedOptionWidget),t.ui.MenuSectionOptionWidget.static.selectable=!1,t.ui.MenuSectionOptionWidget.static.highlightable=!1,t.ui.MenuSelectWidget=function(i){i=i||{},t.ui.MenuSelectWidget.parent.call(this,i),t.ui.mixin.ClippableElement.call(this,e.extend({$clippable:this.$group},i)),t.ui.mixin.FloatableElement.call(this,i),this.originalVerticalPosition=this.verticalPosition,this.autoHide=void 0===i.autoHide||!!i.autoHide,this.hideOnChoose=void 0===i.hideOnChoose||!!i.hideOnChoose,this.filterFromInput=!!i.filterFromInput,this.$input=i.$input?i.$input:i.input?i.input.$input:null,this.$widget=i.widget?i.widget.$element:null,this.$autoCloseIgnore=i.$autoCloseIgnore||e([]),this.onDocumentMouseDownHandler=this.onDocumentMouseDown.bind(this),this.onInputEditHandler=t.ui.debounce(this.updateItemVisibility.bind(this),100),this.highlightOnFilter=!!i.highlightOnFilter,this.lastHighlightedItem=null,this.width=i.width,this.filterMode=i.filterMode,this.$element.addClass("oo-ui-menuSelectWidget"),i.widget&&this.setFocusOwner(i.widget.$tabIndexed),this.visible=!1,this.$element.addClass("oo-ui-element-hidden"),this.$focusOwner.attr("aria-expanded","false")},t.inheritClass(t.ui.MenuSelectWidget,t.ui.SelectWidget),t.mixinClass(t.ui.MenuSelectWidget,t.ui.mixin.ClippableElement),t.mixinClass(t.ui.MenuSelectWidget,t.ui.mixin.FloatableElement),t.ui.MenuSelectWidget.static.flippedPositions={below:"above",above:"below",top:"bottom",bottom:"top"},t.ui.MenuSelectWidget.prototype.onDocumentMouseDown=function(e){this.isVisible()&&!t.ui.contains(this.$element.add(this.$widget).add(this.$autoCloseIgnore).get(),e.target,!0)&&this.toggle(!1)},t.ui.MenuSelectWidget.prototype.onDocumentKeyDown=function(e){var i=this.findHighlightedItem()||this.findSelectedItem();if(!this.isDisabled()&&this.isVisible())switch(e.keyCode){case t.ui.Keys.LEFT:case t.ui.Keys.RIGHT:this.$input||t.ui.MenuSelectWidget.parent.prototype.onDocumentKeyDown.call(this,e);break;case t.ui.Keys.ESCAPE:case t.ui.Keys.TAB:i&&!this.multiselect&&i.setHighlighted(!1),this.toggle(!1),e.keyCode===t.ui.Keys.ESCAPE&&(e.preventDefault(),e.stopPropagation());break;default:return void t.ui.MenuSelectWidget.parent.prototype.onDocumentKeyDown.call(this,e)}},t.ui.MenuSelectWidget.prototype.updateItemVisibility=function(){var e,i,n,o,s,a,r,l,u=!1,h=this.items.length,c=!this.isVisible(),d=!1;if(this.$input&&this.filterFromInput){for(r=c?null:this.getItemMatcher(this.$input.val(),this.filterMode),l=this.getItemMatcher(this.$input.val(),"exact"),e=0;e<h;e++)(i=this.items[e])instanceof t.ui.MenuSectionOptionWidget?(s&&s.toggle(c||!a),s=i,a=!0):i instanceof t.ui.OptionWidget&&(o=c||r(i),d=d||l(i),u=u||o,a=a&&!o,i.toggle(o));if(s&&s.toggle(c||!a),u||this.highlightItem(null),this.$element.toggleClass("oo-ui-menuSelectWidget-invisible",!u),this.highlightOnFilter&&(!this.lastHighlightedItem||!this.lastHighlightedItem.isVisible())&&this.isVisible()){for(i=null,n=this.getItems(),e=0;e<n.length;e++)if(n[e].isVisible()){i=n[e];break}this.highlightItem(i),this.lastHighlightedItem=i}}this.clip()},t.ui.MenuSelectWidget.prototype.bindDocumentKeyDownListener=function(){this.$input?this.$input.on("keydown",this.onDocumentKeyDownHandler):t.ui.MenuSelectWidget.parent.prototype.bindDocumentKeyDownListener.call(this)},t.ui.MenuSelectWidget.prototype.unbindDocumentKeyDownListener=function(){this.$input?this.$input.off("keydown",this.onDocumentKeyDownHandler):t.ui.MenuSelectWidget.parent.prototype.unbindDocumentKeyDownListener.call(this)},t.ui.MenuSelectWidget.prototype.bindDocumentKeyPressListener=function(){this.$input?this.filterFromInput&&(this.$input.on("keydown mouseup cut paste change input select",this.onInputEditHandler),this.updateItemVisibility()):t.ui.MenuSelectWidget.parent.prototype.bindDocumentKeyPressListener.call(this)},t.ui.MenuSelectWidget.prototype.unbindDocumentKeyPressListener=function(){this.$input?this.filterFromInput&&(this.$input.off("keydown mouseup cut paste change input select",this.onInputEditHandler),this.updateItemVisibility()):t.ui.MenuSelectWidget.parent.prototype.unbindDocumentKeyPressListener.call(this)},t.ui.MenuSelectWidget.prototype.chooseItem=function(e){return t.ui.MenuSelectWidget.parent.prototype.chooseItem.call(this,e),this.hideOnChoose&&this.toggle(!1),this},t.ui.MenuSelectWidget.prototype.addItems=function(e,i){return t.ui.MenuSelectWidget.parent.prototype.addItems.call(this,e,i),this.updateItemVisibility(),this},t.ui.MenuSelectWidget.prototype.removeItems=function(e){return t.ui.MenuSelectWidget.parent.prototype.removeItems.call(this,e),this.updateItemVisibility(),this},t.ui.MenuSelectWidget.prototype.clearItems=function(){return t.ui.MenuSelectWidget.parent.prototype.clearItems.call(this),this.updateItemVisibility(),this},t.ui.MenuSelectWidget.prototype.toggle=function(e){var i,n,o;return i=(e=(void 0===e?!this.visible:!!e)&&!!this.items.length)!==this.isVisible(),!e||this.warnedUnattached||this.isElementAttached()||(t.ui.warnDeprecation("MenuSelectWidget#toggle: Before calling this method, the menu must be attached to the DOM."),this.warnedUnattached=!0),i&&e&&this.setVerticalPosition(this.originalVerticalPosition),t.ui.MenuSelectWidget.parent.prototype.toggle.call(this,e),i&&(e?(this.width?this.setIdealSize(this.width):this.$floatableContainer&&(this.$clippable.css("width","auto"),this.setIdealSize(this.$floatableContainer[0].offsetWidth>this.$clippable[0].offsetWidth?this.$floatableContainer[0].offsetWidth:"auto"),this.$clippable.css("width","")),this.togglePositioning(!!this.$floatableContainer),this.toggleClipping(!0),this.bindDocumentKeyDownListener(),this.bindDocumentKeyPressListener(),(this.isClippedVertically()||this.isFloatableOutOfView())&&"center"!==this.originalVerticalPosition&&(n=this.$element.height(),this.setVerticalPosition(this.constructor.static.flippedPositions[this.originalVerticalPosition]),(this.isClippedVertically()||this.isFloatableOutOfView())&&n>this.$element.height()&&this.setVerticalPosition(this.originalVerticalPosition)),this.$focusOwner.attr("aria-expanded","true"),o=this.findSelectedItem(),!this.multiselect&&o&&(this.$focusOwner.attr("aria-activedescendant",o.getElementId()),o.scrollElementIntoView({duration:0})),this.autoHide&&this.getElementDocument().addEventListener("mousedown",this.onDocumentMouseDownHandler,!0),this.emit("ready")):(this.$focusOwner.removeAttr("aria-activedescendant"),this.unbindDocumentKeyDownListener(),this.unbindDocumentKeyPressListener(),this.$focusOwner.attr("aria-expanded","false"),this.getElementDocument().removeEventListener("mousedown",this.onDocumentMouseDownHandler,!0),this.togglePositioning(!1),this.toggleClipping(!1),this.lastHighlightedItem=null)),this},t.ui.MenuSelectWidget.prototype.scrollToTop=function(){this.$element.scrollTop(0)},t.ui.DropdownWidget=function(i){i=e.extend({indicator:"down"},i),t.ui.DropdownWidget.parent.call(this,i),this.$handle=e("<span>"),this.$overlay=(!0===i.$overlay?t.ui.getDefaultOverlay():i.$overlay)||this.$element,t.ui.mixin.IconElement.call(this,i),t.ui.mixin.IndicatorElement.call(this,i),t.ui.mixin.LabelElement.call(this,i),t.ui.mixin.TitledElement.call(this,e.extend({$titled:this.$label},i)),t.ui.mixin.TabIndexedElement.call(this,e.extend({$tabIndexed:this.$handle},i)),this.menu=new t.ui.MenuSelectWidget(e.extend({widget:this,$floatableContainer:this.$element},i.menu)),this.$handle.on({click:this.onClick.bind(this),keydown:this.onKeyDown.bind(this),keypress:this.menu.onDocumentKeyPressHandler,blur:this.menu.clearKeyPressBuffer.bind(this.menu)}),this.menu.connect(this,{select:"onMenuSelect",toggle:"onMenuToggle"}),this.$label.attr({role:"textbox","aria-readonly":"true"}),this.$handle.addClass("oo-ui-dropdownWidget-handle").append(this.$icon,this.$label,this.$indicator).attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-haspopup":"true","aria-owns":this.menu.getElementId()}),this.$element.addClass("oo-ui-dropdownWidget").append(this.$handle),this.$overlay.append(this.menu.$element)},t.inheritClass(t.ui.DropdownWidget,t.ui.Widget),t.mixinClass(t.ui.DropdownWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.DropdownWidget,t.ui.mixin.IndicatorElement),t.mixinClass(t.ui.DropdownWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.DropdownWidget,t.ui.mixin.TitledElement),t.mixinClass(t.ui.DropdownWidget,t.ui.mixin.TabIndexedElement),t.ui.DropdownWidget.prototype.getMenu=function(){return this.menu},t.ui.DropdownWidget.prototype.onMenuSelect=function(t){var i;t?((i=t.getLabel())instanceof e&&(i=i.clone()),this.setLabel(i)):this.setLabel(null)},t.ui.DropdownWidget.prototype.onMenuToggle=function(t){this.$element.toggleClass("oo-ui-dropdownWidget-open",t)},t.ui.DropdownWidget.prototype.onClick=function(e){return this.isDisabled()||e.which!==t.ui.MouseButtons.LEFT||this.menu.toggle(),!1},t.ui.DropdownWidget.prototype.onKeyDown=function(e){if(!this.isDisabled()&&(e.which===t.ui.Keys.ENTER||e.which===t.ui.Keys.SPACE&&""===this.menu.keyPressBuffer||!this.menu.isVisible()&&(e.which===t.ui.Keys.UP||e.which===t.ui.Keys.DOWN)))return this.menu.toggle(),!1},t.ui.RadioOptionWidget=function(e){e=e||{},this.radio=new t.ui.RadioInputWidget({value:e.data,tabIndex:-1}),t.ui.RadioOptionWidget.parent.call(this,e),this.radio.$input.attr("role","presentation"),this.$element.addClass("oo-ui-radioOptionWidget").attr("role","radio").attr("aria-checked","false").removeAttr("aria-selected").prepend(this.radio.$element)},t.inheritClass(t.ui.RadioOptionWidget,t.ui.OptionWidget),t.ui.RadioOptionWidget.static.highlightable=!1,t.ui.RadioOptionWidget.static.scrollIntoViewOnSelect=!0,t.ui.RadioOptionWidget.static.pressable=!1,t.ui.RadioOptionWidget.static.tagName="label",t.ui.RadioOptionWidget.prototype.setSelected=function(e){return t.ui.RadioOptionWidget.parent.prototype.setSelected.call(this,e),this.radio.setSelected(e),this.$element.attr("aria-checked",e.toString()).removeAttr("aria-selected"),this},t.ui.RadioOptionWidget.prototype.setDisabled=function(e){return t.ui.RadioOptionWidget.parent.prototype.setDisabled.call(this,e),this.radio.setDisabled(this.isDisabled()),this},t.ui.RadioSelectWidget=function(e){t.ui.RadioSelectWidget.parent.call(this,e),t.ui.mixin.TabIndexedElement.call(this,e),this.$element.on({focus:this.bindDocumentKeyDownListener.bind(this),blur:this.unbindDocumentKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-radioSelectWidget").attr("role","radiogroup")},t.inheritClass(t.ui.RadioSelectWidget,t.ui.SelectWidget),t.mixinClass(t.ui.RadioSelectWidget,t.ui.mixin.TabIndexedElement),t.ui.MultioptionWidget=function(e){e=e||{},t.ui.MultioptionWidget.parent.call(this,e),t.ui.mixin.ItemWidget.call(this),t.ui.mixin.LabelElement.call(this,e),t.ui.mixin.TitledElement.call(this,e),this.selected=null,this.$element.addClass("oo-ui-multioptionWidget").append(this.$label),this.setSelected(e.selected)},t.inheritClass(t.ui.MultioptionWidget,t.ui.Widget),t.mixinClass(t.ui.MultioptionWidget,t.ui.mixin.ItemWidget),t.mixinClass(t.ui.MultioptionWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.MultioptionWidget,t.ui.mixin.TitledElement),t.ui.MultioptionWidget.prototype.isSelected=function(){return this.selected},t.ui.MultioptionWidget.prototype.setSelected=function(t){return t=!!t,this.selected!==t&&(this.selected=t,this.emit("change",t),this.$element.toggleClass("oo-ui-multioptionWidget-selected",t)),this},t.ui.MultiselectWidget=function(e){t.ui.MultiselectWidget.parent.call(this,e),e=e||{},t.ui.mixin.GroupWidget.call(this,e),t.ui.mixin.TitledElement.call(this,e),this.aggregate({change:"select"}),this.connect(this,{select:["emit","change"]}),e.items&&this.addItems(e.items),this.$group.addClass("oo-ui-multiselectWidget-group"),this.$element.addClass("oo-ui-multiselectWidget").append(this.$group)},t.inheritClass(t.ui.MultiselectWidget,t.ui.Widget),t.mixinClass(t.ui.MultiselectWidget,t.ui.mixin.GroupWidget),t.mixinClass(t.ui.MultiselectWidget,t.ui.mixin.TitledElement),t.ui.MultiselectWidget.prototype.findSelectedItems=function(){return this.items.filter((function(t){return t.isSelected()}))},t.ui.MultiselectWidget.prototype.findSelectedItemsData=function(){return this.findSelectedItems().map((function(t){return t.data}))},t.ui.MultiselectWidget.prototype.selectItems=function(t){return this.items.forEach((function(e){var i=-1!==t.indexOf(e);e.setSelected(i)})),this},t.ui.MultiselectWidget.prototype.selectItemsByData=function(t){var e,i=this;return e=t.map((function(t){return i.findItemFromData(t)})),this.selectItems(e),this},t.ui.CheckboxMultioptionWidget=function(e){e=e||{},this.checkbox=new t.ui.CheckboxInputWidget,t.ui.CheckboxMultioptionWidget.parent.call(this,e),this.checkbox.on("change",this.onCheckboxChange.bind(this)),this.$element.on("keydown",this.onKeyDown.bind(this)),this.$element.addClass("oo-ui-checkboxMultioptionWidget").prepend(this.checkbox.$element)},t.inheritClass(t.ui.CheckboxMultioptionWidget,t.ui.MultioptionWidget),t.ui.CheckboxMultioptionWidget.static.tagName="label",t.ui.CheckboxMultioptionWidget.prototype.onCheckboxChange=function(){this.setSelected(this.checkbox.isSelected())},t.ui.CheckboxMultioptionWidget.prototype.setSelected=function(e){return t.ui.CheckboxMultioptionWidget.parent.prototype.setSelected.call(this,e),this.checkbox.setSelected(e),this},t.ui.CheckboxMultioptionWidget.prototype.setDisabled=function(e){return t.ui.CheckboxMultioptionWidget.parent.prototype.setDisabled.call(this,e),this.checkbox.setDisabled(this.isDisabled()),this},t.ui.CheckboxMultioptionWidget.prototype.focus=function(){this.checkbox.focus()},t.ui.CheckboxMultioptionWidget.prototype.onKeyDown=function(e){var i,n=this.getElementGroup();e.keyCode===t.ui.Keys.LEFT||e.keyCode===t.ui.Keys.UP?i=n.getRelativeFocusableItem(this,-1):e.keyCode!==t.ui.Keys.RIGHT&&e.keyCode!==t.ui.Keys.DOWN||(i=n.getRelativeFocusableItem(this,1)),i&&(e.preventDefault(),i.focus())},t.ui.CheckboxMultiselectWidget=function(e){t.ui.CheckboxMultiselectWidget.parent.call(this,e),this.$lastClicked=null,this.$group.on("click",this.onClick.bind(this)),this.$element.addClass("oo-ui-checkboxMultiselectWidget")},t.inheritClass(t.ui.CheckboxMultiselectWidget,t.ui.MultiselectWidget),t.ui.CheckboxMultiselectWidget.prototype.getRelativeFocusableItem=function(t,e){var i,n,o=e>0?1:-1,s=this.items.length;for(i=t?(this.items.indexOf(t)+o+s)%s:e>0?0:s-1,n=0;n<s;n++){if((t=this.items[i])&&!t.isDisabled())return t;i=(i+o+s)%s}return null},t.ui.CheckboxMultiselectWidget.prototype.onClick=function(t){var i,n,o,s,a,r,l,u=this.$lastClicked,h=e(t.target).closest(".oo-ui-checkboxMultioptionWidget").not(".oo-ui-widget-disabled");if(u&&h.length&&t.shiftKey&&(n=(i=this.$group.find(".oo-ui-checkboxMultioptionWidget")).index(u),(o=i.index(h))!==n)){for(l=this.items,r=l[o].isSelected(),a=o>n?1:-1,s=n;s!==o;s+=a)l[s].isDisabled()||l[s].setSelected(!r);t.preventDefault(),setTimeout((function(){l[o].isDisabled()||l[o].setSelected(!r)}))}h.length&&(this.$lastClicked=h)},t.ui.CheckboxMultiselectWidget.prototype.focus=function(){var t;return this.isDisabled()||(t=this.getRelativeFocusableItem(null,1))&&t.focus(),this},t.ui.CheckboxMultiselectWidget.prototype.simulateLabelClick=function(){this.focus()},t.ui.ProgressBarWidget=function(i){i=i||{},t.ui.ProgressBarWidget.parent.call(this,i),this.$bar=e("<div>"),this.progress=null,this.setProgress(void 0!==i.progress&&i.progress),this.$bar.addClass("oo-ui-progressBarWidget-bar"),this.$element.attr({role:"progressbar","aria-valuemin":0,"aria-valuemax":100}).addClass("oo-ui-progressBarWidget").append(this.$bar)},t.inheritClass(t.ui.ProgressBarWidget,t.ui.Widget),t.ui.ProgressBarWidget.static.tagName="div",t.ui.ProgressBarWidget.prototype.getProgress=function(){return this.progress},t.ui.ProgressBarWidget.prototype.setProgress=function(t){this.progress=t,!1!==t?(this.$bar.css("width",this.progress+"%"),this.$element.attr("aria-valuenow",this.progress)):(this.$bar.css("width",""),this.$element.removeAttr("aria-valuenow")),this.$element.toggleClass("oo-ui-progressBarWidget-indeterminate",!1===t)},t.ui.InputWidget=function(i){i=i||{},t.ui.InputWidget.parent.call(this,i),this.$input=i.$input||this.getInputElement(i),this.value="",this.inputFilter=i.inputFilter,t.ui.mixin.TabIndexedElement.call(this,e.extend({$tabIndexed:this.$input},i)),t.ui.mixin.TitledElement.call(this,e.extend({$titled:this.$input},i)),t.ui.mixin.AccessKeyedElement.call(this,e.extend({$accessKeyed:this.$input},i)),this.$input.on("keydown mouseup cut paste change input select",this.onEdit.bind(this)),this.$input.addClass("oo-ui-inputWidget-input").attr("name",i.name).prop("disabled",this.isDisabled()),this.$element.addClass("oo-ui-inputWidget").append(this.$input),this.setValue(i.value),i.dir&&this.setDir(i.dir),void 0!==i.inputId&&this.setInputId(i.inputId)},t.inheritClass(t.ui.InputWidget,t.ui.Widget),t.mixinClass(t.ui.InputWidget,t.ui.mixin.TabIndexedElement),t.mixinClass(t.ui.InputWidget,t.ui.mixin.TitledElement),t.mixinClass(t.ui.InputWidget,t.ui.mixin.AccessKeyedElement),t.ui.InputWidget.static.reusePreInfuseDOM=function(i,n){return(n=t.ui.InputWidget.parent.static.reusePreInfuseDOM(i,n)).$input=e(i).find(".oo-ui-inputWidget-input"),n},t.ui.InputWidget.static.gatherPreInfuseState=function(e,i){var n=t.ui.InputWidget.parent.static.gatherPreInfuseState(e,i);return i.$input&&i.$input.length&&(n.value=i.$input.val(),n.focus=i.$input.is(":focus")),n},t.ui.InputWidget.prototype.getInputElement=function(){return e("<input>")},t.ui.InputWidget.prototype.onEdit=function(){var t=this;this.isDisabled()||setTimeout((function(){t.setValue(t.$input.val())}))},t.ui.InputWidget.prototype.getValue=function(){var t=this.$input.val();return this.value!==t&&this.setValue(t),this.value},t.ui.InputWidget.prototype.setDir=function(t){return this.$input.prop("dir",t),this},t.ui.InputWidget.prototype.setValue=function(t){return t=this.cleanUpValue(t),this.$input.val()!==t&&this.$input.val(t),this.value!==t&&(this.value=t,this.emit("change",this.value)),void 0===this.defaultValue&&(this.defaultValue=this.value,this.$input[0].defaultValue=this.defaultValue),this},t.ui.InputWidget.prototype.cleanUpValue=function(t){return null==t?"":this.inputFilter?this.inputFilter(String(t)):String(t)},t.ui.InputWidget.prototype.setDisabled=function(e){return t.ui.InputWidget.parent.prototype.setDisabled.call(this,e),this.$input&&this.$input.prop("disabled",this.isDisabled()),this},t.ui.InputWidget.prototype.setInputId=function(t){return this.$input.attr("id",t),this},t.ui.InputWidget.prototype.restorePreInfuseState=function(e){t.ui.InputWidget.parent.prototype.restorePreInfuseState.call(this,e),void 0!==e.value&&e.value!==this.getValue()&&this.setValue(e.value),e.focus&&this.focus()},t.ui.HiddenInputWidget=function(i){i=e.extend({value:"",name:""},i),t.ui.HiddenInputWidget.parent.call(this,i),this.$element.attr({type:"hidden",value:i.value,name:i.name}),this.$element.removeAttr("aria-disabled")},t.inheritClass(t.ui.HiddenInputWidget,t.ui.Widget),t.ui.HiddenInputWidget.static.tagName="input",t.ui.ButtonInputWidget=function(i){(i=e.extend({type:"button",useInputTag:!1},i)).$input&&i.$input.empty(),this.useInputTag=i.useInputTag,t.ui.ButtonInputWidget.parent.call(this,i),t.ui.mixin.ButtonElement.call(this,e.extend({$button:this.$input},i)),t.ui.mixin.IconElement.call(this,i),t.ui.mixin.IndicatorElement.call(this,i),t.ui.mixin.LabelElement.call(this,i),t.ui.mixin.FlaggedElement.call(this,i),i.useInputTag||this.$input.append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-buttonInputWidget")},t.inheritClass(t.ui.ButtonInputWidget,t.ui.InputWidget),t.mixinClass(t.ui.ButtonInputWidget,t.ui.mixin.ButtonElement),t.mixinClass(t.ui.ButtonInputWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.ButtonInputWidget,t.ui.mixin.IndicatorElement),t.mixinClass(t.ui.ButtonInputWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.ButtonInputWidget,t.ui.mixin.FlaggedElement),t.ui.ButtonInputWidget.static.tagName="span",t.ui.ButtonInputWidget.prototype.getInputElement=function(t){var i;return i=-1!==["button","submit","reset"].indexOf(t.type)?t.type:"button",e("<"+(t.useInputTag?"input":"button")+' type="'+i+'">')},t.ui.ButtonInputWidget.prototype.setLabel=function(e){return"function"==typeof e&&(e=t.ui.resolveMsg(e)),this.useInputTag&&("string"!=typeof e&&(e=""),this.$input.val(e)),t.ui.mixin.LabelElement.prototype.setLabel.call(this,e)},t.ui.ButtonInputWidget.prototype.setValue=function(e){return this.useInputTag||t.ui.ButtonInputWidget.parent.prototype.setValue.call(this,e),this},t.ui.ButtonInputWidget.prototype.getInputId=function(){return null},t.ui.CheckboxInputWidget=function(e){e=e||{},t.ui.CheckboxInputWidget.parent.call(this,e),this.checkIcon=new t.ui.IconWidget({icon:"check",classes:["oo-ui-checkboxInputWidget-checkIcon"]}),this.$element.addClass("oo-ui-checkboxInputWidget").append(this.checkIcon.$element),this.setSelected(void 0!==e.selected&&e.selected),this.setIndeterminate(void 0!==e.indeterminate&&e.indeterminate)},t.inheritClass(t.ui.CheckboxInputWidget,t.ui.InputWidget),t.ui.CheckboxInputWidget.static.tagName="span",t.ui.CheckboxInputWidget.static.gatherPreInfuseState=function(e,i){var n=t.ui.CheckboxInputWidget.parent.static.gatherPreInfuseState(e,i);return n.checked=i.$input.prop("checked"),n},t.ui.CheckboxInputWidget.prototype.getInputElement=function(){return e("<input>").attr("type","checkbox")},t.ui.CheckboxInputWidget.prototype.onEdit=function(){var t=this;this.isDisabled()||setTimeout((function(){t.setSelected(t.$input.prop("checked")),t.setIndeterminate(t.$input.prop("indeterminate"))}))},t.ui.CheckboxInputWidget.prototype.setSelected=function(t,e){return t=!!t,this.selected!==t&&(this.selected=t,this.$input.prop("checked",this.selected),e||(this.setIndeterminate(!1,!0),this.emit("change",this.selected,this.indeterminate))),void 0===this.defaultSelected&&(this.defaultSelected=this.selected,this.$input[0].defaultChecked=this.defaultSelected),this},t.ui.CheckboxInputWidget.prototype.isSelected=function(){var t=this.$input.prop("checked");return this.selected!==t&&this.setSelected(t),this.selected},t.ui.CheckboxInputWidget.prototype.setIndeterminate=function(t,e){return t=!!t,this.indeterminate!==t&&(this.indeterminate=t,this.$input.prop("indeterminate",this.indeterminate),e||(this.setSelected(!1,!0),this.emit("change",this.selected,this.indeterminate))),this},t.ui.CheckboxInputWidget.prototype.isIndeterminate=function(){var t=this.$input.prop("indeterminate");return this.indeterminate!==t&&this.setIndeterminate(t),this.indeterminate},t.ui.CheckboxInputWidget.prototype.simulateLabelClick=function(){this.isDisabled()||this.$handle.trigger("click"),this.focus()},t.ui.CheckboxInputWidget.prototype.restorePreInfuseState=function(e){t.ui.CheckboxInputWidget.parent.prototype.restorePreInfuseState.call(this,e),void 0!==e.checked&&e.checked!==this.isSelected()&&this.setSelected(e.checked)},t.ui.DropdownInputWidget=function(i){i=i||{},this.dropdownWidget=new t.ui.DropdownWidget(e.extend({$overlay:i.$overlay},i.dropdown)),this.setOptionsData(i.options||[]),t.ui.DropdownInputWidget.parent.call(this,i),this.dropdownWidget.getMenu().connect(this,{select:"onMenuSelect"}),this.$element.addClass("oo-ui-dropdownInputWidget").append(this.dropdownWidget.$element),t.ui.isMobile()&&this.$element.addClass("oo-ui-isMobile"),this.setTabIndexedElement(this.dropdownWidget.$tabIndexed),this.setTitledElement(this.dropdownWidget.$handle)},t.inheritClass(t.ui.DropdownInputWidget,t.ui.InputWidget),t.ui.DropdownInputWidget.prototype.getInputElement=function(){return e("<select>").addClass("oo-ui-indicator-down")},t.ui.DropdownInputWidget.prototype.onMenuSelect=function(t){this.setValue(t?t.getData():"")},t.ui.DropdownInputWidget.prototype.setValue=function(e){var i;return e=this.cleanUpValue(e),i=this.dropdownWidget.getMenu().findItemFromData(e)||this.dropdownWidget.getMenu().findFirstSelectableItem(),this.dropdownWidget.getMenu().selectItem(i),e=i?i.getData():"",t.ui.DropdownInputWidget.parent.prototype.setValue.call(this,e),this.optionsDirty&&this.updateOptionsInterface(),this},t.ui.DropdownInputWidget.prototype.setDisabled=function(e){return this.dropdownWidget.setDisabled(e),t.ui.DropdownInputWidget.parent.prototype.setDisabled.call(this,e),this},t.ui.DropdownInputWidget.prototype.setOptions=function(t){var e=this.getValue();return this.setOptionsData(t),this.setValue(e),this},t.ui.DropdownInputWidget.prototype.setOptionsData=function(e){var i,n,o,s,a,r;for(this.optionsDirty=!0,i=[],n=0;n<e.length;n++)void 0!==(o=e[n]).optgroup?s=a=this.createMenuSectionOptionWidget(o.optgroup):(r=this.cleanUpValue(o.data),a=this.createMenuOptionWidget(r,void 0!==o.label?o.label:r)),(void 0!==o.disabled||s instanceof t.ui.MenuSectionOptionWidget&&s.isDisabled())&&a.setDisabled(!0),i.push(a);this.dropdownWidget.getMenu().clearItems().addItems(i)},t.ui.DropdownInputWidget.prototype.createMenuOptionWidget=function(e,i){return new t.ui.MenuOptionWidget({data:e,label:i})},t.ui.DropdownInputWidget.prototype.createMenuSectionOptionWidget=function(e){return new t.ui.MenuSectionOptionWidget({label:e})},t.ui.DropdownInputWidget.prototype.updateOptionsInterface=function(){var i=this.$input,n=this.defaultValue,o=this;this.$input.empty(),this.dropdownWidget.getMenu().getItems().forEach((function(s){var a;s instanceof t.ui.MenuSectionOptionWidget?(a=e("<optgroup>").attr("label",s.getLabel()),o.$input.append(a),i=a):((a=e("<option>").attr("value",s.getData()).text(s.getLabel()))[0].defaultSelected=s.getData()===n,i.append(a)),s.isDisabled()&&a.prop("disabled",!0)})),this.optionsDirty=!1},t.ui.DropdownInputWidget.prototype.focus=function(){return this.dropdownWidget.focus(),this},t.ui.DropdownInputWidget.prototype.blur=function(){return this.dropdownWidget.blur(),this},t.ui.RadioInputWidget=function(i){i=i||{},t.ui.RadioInputWidget.parent.call(this,i),this.$element.addClass("oo-ui-radioInputWidget").append(e("<span>")),this.setSelected(void 0!==i.selected&&i.selected)},t.inheritClass(t.ui.RadioInputWidget,t.ui.InputWidget),t.ui.RadioInputWidget.static.tagName="span",t.ui.RadioInputWidget.static.gatherPreInfuseState=function(e,i){var n=t.ui.RadioInputWidget.parent.static.gatherPreInfuseState(e,i);return n.checked=i.$input.prop("checked"),n},t.ui.RadioInputWidget.prototype.getInputElement=function(){return e("<input>").attr("type","radio")},t.ui.RadioInputWidget.prototype.onEdit=function(){},t.ui.RadioInputWidget.prototype.setSelected=function(t){return this.$input.prop("checked",t),void 0===this.defaultSelected&&(this.defaultSelected=t,this.$input[0].defaultChecked=this.defaultSelected),this},t.ui.RadioInputWidget.prototype.isSelected=function(){return this.$input.prop("checked")},t.ui.RadioInputWidget.prototype.simulateLabelClick=function(){this.isDisabled()||this.$input.trigger("click"),this.focus()},t.ui.RadioInputWidget.prototype.restorePreInfuseState=function(e){t.ui.RadioInputWidget.parent.prototype.restorePreInfuseState.call(this,e),void 0!==e.checked&&e.checked!==this.isSelected()&&this.setSelected(e.checked)},t.ui.RadioSelectInputWidget=function(e){e=e||{},this.radioSelectWidget=new t.ui.RadioSelectWidget,this.setOptionsData(e.options||[]),t.ui.RadioSelectInputWidget.parent.call(this,e),this.radioSelectWidget.connect(this,{select:"onMenuSelect"}),this.$element.addClass("oo-ui-radioSelectInputWidget").append(this.radioSelectWidget.$element),this.setTabIndexedElement(this.radioSelectWidget.$tabIndexed)},t.inheritClass(t.ui.RadioSelectInputWidget,t.ui.InputWidget),t.ui.RadioSelectInputWidget.static.gatherPreInfuseState=function(i,n){var o=t.ui.RadioSelectInputWidget.parent.static.gatherPreInfuseState(i,n);return o.value=e(i).find(".oo-ui-radioInputWidget .oo-ui-inputWidget-input:checked").val(),o},t.ui.RadioSelectInputWidget.static.reusePreInfuseDOM=function(e,i){return delete(i=t.ui.RadioSelectInputWidget.parent.static.reusePreInfuseDOM(e,i)).$input,i},t.ui.RadioSelectInputWidget.prototype.getInputElement=function(){return e("<input>").addClass("oo-ui-element-hidden")},t.ui.RadioSelectInputWidget.prototype.onMenuSelect=function(t){this.setValue(t.getData())},t.ui.RadioSelectInputWidget.prototype.setValue=function(e){var i;return e=this.cleanUpValue(e),i=this.radioSelectWidget.findItemFromData(e)||this.radioSelectWidget.findFirstSelectableItem(),this.radioSelectWidget.selectItem(i),e=i?i.getData():"",t.ui.RadioSelectInputWidget.parent.prototype.setValue.call(this,e),this},t.ui.RadioSelectInputWidget.prototype.setDisabled=function(e){return this.radioSelectWidget.setDisabled(e),t.ui.RadioSelectInputWidget.parent.prototype.setDisabled.call(this,e),this},t.ui.RadioSelectInputWidget.prototype.setOptions=function(t){var e=this.getValue();return this.setOptionsData(t),this.setValue(e),this},t.ui.RadioSelectInputWidget.prototype.setOptionsData=function(e){var i=this;this.radioSelectWidget.clearItems().addItems(e.map((function(e){var n=i.cleanUpValue(e.data);return new t.ui.RadioOptionWidget({data:n,label:void 0!==e.label?e.label:n})})))},t.ui.RadioSelectInputWidget.prototype.focus=function(){return this.radioSelectWidget.focus(),this},t.ui.RadioSelectInputWidget.prototype.blur=function(){return this.radioSelectWidget.blur(),this},t.ui.CheckboxMultiselectInputWidget=function(e){e=e||{},this.checkboxMultiselectWidget=new t.ui.CheckboxMultiselectWidget,this.inputName=e.name,this.setOptionsData(e.options||[]),t.ui.CheckboxMultiselectInputWidget.parent.call(this,e),this.checkboxMultiselectWidget.connect(this,{select:"onCheckboxesSelect"}),this.$element.addClass("oo-ui-checkboxMultiselectInputWidget").append(this.checkboxMultiselectWidget.$element),this.$input.detach()},t.inheritClass(t.ui.CheckboxMultiselectInputWidget,t.ui.InputWidget),t.ui.CheckboxMultiselectInputWidget.static.gatherPreInfuseState=function(i,n){var o=t.ui.CheckboxMultiselectInputWidget.parent.static.gatherPreInfuseState(i,n);return o.value=e(i).find(".oo-ui-checkboxInputWidget .oo-ui-inputWidget-input:checked").toArray().map((function(t){return t.value})),o},t.ui.CheckboxMultiselectInputWidget.static.reusePreInfuseDOM=function(e,i){return delete(i=t.ui.CheckboxMultiselectInputWidget.parent.static.reusePreInfuseDOM(e,i)).$input,i},t.ui.CheckboxMultiselectInputWidget.prototype.getInputElement=function(){return e("<unused>")},t.ui.CheckboxMultiselectInputWidget.prototype.onCheckboxesSelect=function(){this.setValue(this.checkboxMultiselectWidget.findSelectedItemsData())},t.ui.CheckboxMultiselectInputWidget.prototype.getValue=function(){var t=this.$element.find(".oo-ui-checkboxInputWidget .oo-ui-inputWidget-input:checked").toArray().map((function(t){return t.value}));return this.value!==t&&this.setValue(t),this.value},t.ui.CheckboxMultiselectInputWidget.prototype.setValue=function(e){return e=this.cleanUpValue(e),this.checkboxMultiselectWidget.selectItemsByData(e),t.ui.CheckboxMultiselectInputWidget.parent.prototype.setValue.call(this,e),this.optionsDirty&&this.updateOptionsInterface(),this},t.ui.CheckboxMultiselectInputWidget.prototype.cleanUpValue=function(e){var i,n,o=[];if(!Array.isArray(e))return o;for(i=0;i<e.length;i++)n=t.ui.CheckboxMultiselectInputWidget.parent.prototype.cleanUpValue.call(this,e[i]),this.checkboxMultiselectWidget.findItemFromData(n)&&o.push(n);return o},t.ui.CheckboxMultiselectInputWidget.prototype.setDisabled=function(e){return this.checkboxMultiselectWidget.setDisabled(e),t.ui.CheckboxMultiselectInputWidget.parent.prototype.setDisabled.call(this,e),this},t.ui.CheckboxMultiselectInputWidget.prototype.setOptions=function(t){var e=this.getValue();return this.setOptionsData(t),this.setValue(e),this},t.ui.CheckboxMultiselectInputWidget.prototype.setOptionsData=function(e){var i=this;this.optionsDirty=!0,this.checkboxMultiselectWidget.clearItems().addItems(e.map((function(e){var n,o,s;return n=t.ui.CheckboxMultiselectInputWidget.parent.prototype.cleanUpValue.call(i,e.data),s=void 0!==e.disabled&&e.disabled,(o=new t.ui.CheckboxMultioptionWidget({data:n,label:void 0!==e.label?e.label:n,disabled:s})).checkbox.$input.attr("name",i.inputName),o.checkbox.setValue(n),o})))},t.ui.CheckboxMultiselectInputWidget.prototype.updateOptionsInterface=function(){var t=this.defaultValue;this.checkboxMultiselectWidget.getItems().forEach((function(e){var i=-1!==t.indexOf(e.getData());e.checkbox.defaultSelected=i,e.checkbox.$input[0].defaultChecked=i})),this.optionsDirty=!1},t.ui.CheckboxMultiselectInputWidget.prototype.focus=function(){return this.checkboxMultiselectWidget.focus(),this},t.ui.TextInputWidget=function(i){i=e.extend({type:"text",labelPosition:"after"},i),t.ui.TextInputWidget.parent.call(this,i),t.ui.mixin.IconElement.call(this,i),t.ui.mixin.IndicatorElement.call(this,i),t.ui.mixin.PendingElement.call(this,e.extend({$pending:this.$input},i)),t.ui.mixin.LabelElement.call(this,i),t.ui.mixin.FlaggedElement.call(this,i),this.type=this.getSaneType(i),this.readOnly=!1,this.required=!1,this.validate=null,this.scrollWidth=null,this.setValidation(i.validate),this.setLabelPosition(i.labelPosition),this.$input.on({keypress:this.onKeyPress.bind(this),blur:this.onBlur.bind(this),focus:this.onFocus.bind(this)}),this.$icon.on("mousedown",this.onIconMouseDown.bind(this)),this.$indicator.on("mousedown",this.onIndicatorMouseDown.bind(this)),this.on("labelChange",this.updatePosition.bind(this)),this.on("change",t.ui.debounce(this.onDebouncedChange.bind(this),250)),this.$element.addClass("oo-ui-textInputWidget oo-ui-textInputWidget-type-"+this.type).append(this.$icon,this.$indicator),this.setReadOnly(!!i.readOnly),this.setRequired(!!i.required),void 0!==i.placeholder&&this.$input.attr("placeholder",i.placeholder),void 0!==i.maxLength&&this.$input.attr("maxlength",i.maxLength),i.autofocus&&this.$input.attr("autofocus","autofocus"),!1===i.autocomplete&&(this.$input.attr("autocomplete","off"),e(window).on({beforeunload:function(){this.$input.removeAttr("autocomplete")}.bind(this),pageshow:function(){this.$input.attr("autocomplete","off")}.bind(this)})),void 0!==i.spellcheck&&this.$input.attr("spellcheck",i.spellcheck?"true":"false"),this.label&&(this.isWaitingToBeAttached=!0,this.installParentChangeDetector())},t.inheritClass(t.ui.TextInputWidget,t.ui.InputWidget),t.mixinClass(t.ui.TextInputWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.TextInputWidget,t.ui.mixin.IndicatorElement),t.mixinClass(t.ui.TextInputWidget,t.ui.mixin.PendingElement),t.mixinClass(t.ui.TextInputWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.TextInputWidget,t.ui.mixin.FlaggedElement),t.ui.TextInputWidget.static.validationPatterns={"non-empty":/.+/,integer:/^\d+$/},t.ui.TextInputWidget.prototype.onIconMouseDown=function(e){if(e.which===t.ui.MouseButtons.LEFT)return this.focus(),!1},t.ui.TextInputWidget.prototype.onIndicatorMouseDown=function(e){if(e.which===t.ui.MouseButtons.LEFT)return this.focus(),!1},t.ui.TextInputWidget.prototype.onKeyPress=function(e){e.which===t.ui.Keys.ENTER&&this.emit("enter",e)},t.ui.TextInputWidget.prototype.onBlur=function(){this.setValidityFlag()},t.ui.TextInputWidget.prototype.onFocus=function(){this.isWaitingToBeAttached&&this.onElementAttach(),this.setValidityFlag(!0)},t.ui.TextInputWidget.prototype.onElementAttach=function(){this.isWaitingToBeAttached=!1,this.valCache=null,this.positionLabel()},t.ui.TextInputWidget.prototype.onDebouncedChange=function(){this.setValidityFlag()},t.ui.TextInputWidget.prototype.isReadOnly=function(){return this.readOnly},t.ui.TextInputWidget.prototype.setReadOnly=function(t){return this.readOnly=!!t,this.$input.prop("readOnly",this.readOnly),this},t.ui.TextInputWidget.prototype.isRequired=function(){return this.required},t.ui.TextInputWidget.prototype.setRequired=function(t){return this.required=!!t,this.required?(this.$input.prop("required",!0).attr("aria-required","true"),null===this.getIndicator()&&this.setIndicator("required")):(this.$input.prop("required",!1).removeAttr("aria-required"),"required"===this.getIndicator()&&this.setIndicator(null)),this},t.ui.TextInputWidget.prototype.installParentChangeDetector=function(){var t,i,n,o,s=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,a=this;if(s){if(this.isElementAttached())return;for(n=this.$element[0];n.parentNode;)n=n.parentNode;t=new s((function(t){var e,o,s;for(e=0;e<t.length;e++)for(s=t[e].removedNodes,o=0;o<s.length;o++)if(s[o]===n)return void setTimeout(i,0)})),i=function(){a.isElementAttached()&&a.onElementAttach(),t.disconnect(),a.installParentChangeDetector()},o=e("<div>").append(n)[0],t.observe(o,{childList:!0})}else this.$element.on("DOMNodeInsertedIntoDocument",this.onElementAttach.bind(this))},t.ui.TextInputWidget.prototype.getInputElement=function(t){return"number"===this.getSaneType(t)?e("<input>").attr("step","any").attr("type","number"):e("<input>").attr("type",this.getSaneType(t))},t.ui.TextInputWidget.prototype.getSaneType=function(t){return-1!==["text","password","email","url","number"].indexOf(t.type)?t.type:"text"},t.ui.TextInputWidget.prototype.selectRange=function(t,e){var i,n,o,s=this.$input[0];n=(i=(e=e||t)<t)?e:t,o=i?t:e,this.focus();try{s.setSelectionRange(n,o,i?"backward":"forward")}catch(t){if(this.getElementDocument().body.contains(s))throw t}return this},t.ui.TextInputWidget.prototype.getRange=function(){var t=this.$input[0],e=t.selectionStart,i=t.selectionEnd,n="backward"===t.selectionDirection;return{from:n?i:e,to:n?e:i}},t.ui.TextInputWidget.prototype.getInputLength=function(){return this.$input[0].value.length},t.ui.TextInputWidget.prototype.select=function(){return this.selectRange(0,this.getInputLength())},t.ui.TextInputWidget.prototype.moveCursorToStart=function(){return this.selectRange(0)},t.ui.TextInputWidget.prototype.moveCursorToEnd=function(){return this.selectRange(this.getInputLength())},t.ui.TextInputWidget.prototype.insertContent=function(t){var e,i,n=this.getRange(),o=this.getValue();return e=Math.min(n.from,n.to),i=Math.max(n.from,n.to),this.setValue(o.slice(0,e)+t+o.slice(i)),this.selectRange(e+t.length),this},t.ui.TextInputWidget.prototype.encapsulateContent=function(t,e){var i,n,o=this.getRange(),s=t.length;return i=Math.min(o.from,o.to),n=Math.max(o.from,o.to),this.selectRange(i).insertContent(t),this.selectRange(s+n).insertContent(e),this.selectRange(s+i,s+n),this},t.ui.TextInputWidget.prototype.setValidation=function(t){t instanceof RegExp||t instanceof Function?this.validate=t:this.validate=this.constructor.static.validationPatterns[t]||/.*/},t.ui.TextInputWidget.prototype.setValidityFlag=function(t){var e=this,i=function(t){t?e.$input.removeAttr("aria-invalid"):e.$input.attr("aria-invalid","true"),e.setFlags({invalid:!t})};void 0!==t?i(t):this.getValidity().then((function(){i(!0)}),(function(){i(!1)}))},t.ui.TextInputWidget.prototype.getValidity=function(){var t;function i(t){return t?e.Deferred().resolve().promise():e.Deferred().reject().promise()}return void 0!==this.$input[0].checkValidity&&!1===this.$input[0].checkValidity()?i(!1):this.validate instanceof Function?(t=this.validate(this.getValue()))&&"function"==typeof t.promise?t.promise().then((function(t){return i(t)})):i(t):i(this.getValue().match(this.validate))},t.ui.TextInputWidget.prototype.setLabelPosition=function(t){return this.labelPosition=t,this.label&&this.updatePosition(),this},t.ui.TextInputWidget.prototype.updatePosition=function(){var t="after"===this.labelPosition;return this.$element.toggleClass("oo-ui-textInputWidget-labelPosition-after",!!this.label&&t).toggleClass("oo-ui-textInputWidget-labelPosition-before",!!this.label&&!t),this.valCache=null,this.scrollWidth=null,this.positionLabel(),this},t.ui.TextInputWidget.prototype.positionLabel=function(){var t,e;return this.isWaitingToBeAttached?this:(e={"padding-right":"","padding-left":""},this.label?(this.$element.append(this.$label),e[(t="after"===this.labelPosition)===("rtl"===this.$element.css("direction"))?"padding-left":"padding-right"]=this.$label.outerWidth(!0)+(t?this.scrollWidth:0),this.$input.css(e),this):(this.$label.detach(),void this.$input.css(e)))},t.ui.SearchInputWidget=function(i){i=e.extend({icon:"search"},i),t.ui.SearchInputWidget.parent.call(this,i),this.connect(this,{change:"onChange"}),this.$indicator.on("click",this.onIndicatorClick.bind(this)),this.updateSearchIndicator(),this.connect(this,{disable:"onDisable"})},t.inheritClass(t.ui.SearchInputWidget,t.ui.TextInputWidget),t.ui.SearchInputWidget.prototype.getSaneType=function(){return"search"},t.ui.SearchInputWidget.prototype.onIndicatorClick=function(e){if(e.which===t.ui.MouseButtons.LEFT)return this.setValue(""),this.focus(),!1},t.ui.SearchInputWidget.prototype.updateSearchIndicator=function(){""===this.getValue()||this.isDisabled()||this.isReadOnly()?this.setIndicator(null):this.setIndicator("clear")},t.ui.SearchInputWidget.prototype.onChange=function(){this.updateSearchIndicator()},t.ui.SearchInputWidget.prototype.onDisable=function(){this.updateSearchIndicator()},t.ui.SearchInputWidget.prototype.setReadOnly=function(e){return t.ui.SearchInputWidget.parent.prototype.setReadOnly.call(this,e),this.updateSearchIndicator(),this},t.ui.MultilineTextInputWidget=function(i){i=e.extend({type:"text"},i),t.ui.MultilineTextInputWidget.parent.call(this,i),this.autosize=!!i.autosize,this.styleHeight=null,this.minRows=void 0!==i.rows?i.rows:"",this.maxRows=i.maxRows||Math.max(2*(this.minRows||0),10),this.autosize&&(this.$clone=this.$input.clone().removeAttr("id").removeAttr("name").insertAfter(this.$input).attr("aria-hidden","true").addClass("oo-ui-element-hidden")),this.connect(this,{change:"onChange"}),i.rows&&this.$input.attr("rows",i.rows),this.autosize&&(this.$input.addClass("oo-ui-textInputWidget-autosized"),this.isWaitingToBeAttached=!0,this.installParentChangeDetector())},t.inheritClass(t.ui.MultilineTextInputWidget,t.ui.TextInputWidget),t.ui.MultilineTextInputWidget.static.gatherPreInfuseState=function(e,i){var n=t.ui.MultilineTextInputWidget.parent.static.gatherPreInfuseState(e,i);return n.scrollTop=i.$input.scrollTop(),n},t.ui.MultilineTextInputWidget.prototype.onElementAttach=function(){t.ui.MultilineTextInputWidget.parent.prototype.onElementAttach.call(this),this.adjustSize()},t.ui.MultilineTextInputWidget.prototype.onChange=function(){this.adjustSize()},t.ui.MultilineTextInputWidget.prototype.updatePosition=function(){t.ui.MultilineTextInputWidget.parent.prototype.updatePosition.call(this),this.adjustSize()},t.ui.MultilineTextInputWidget.prototype.onKeyPress=function(e){(e.which===t.ui.Keys.ENTER&&(e.ctrlKey||e.metaKey)||10===e.which)&&this.emit("enter",e)},t.ui.MultilineTextInputWidget.prototype.adjustSize=function(){var t,e,i,n,o,s,a,r,l;return this.$input.val()!==this.valCache&&(this.autosize&&(this.$clone.val(this.$input.val()).attr("rows",this.minRows).css("height",0),this.$clone.removeClass("oo-ui-element-hidden"),this.valCache=this.$input.val(),t=this.$clone[0].scrollHeight,this.$clone.css("height",""),e=this.$clone.innerHeight(),i=this.$clone.outerHeight(),this.$clone.attr("rows",this.maxRows).css("height","auto").val(""),o=(n=this.$clone.innerHeight())-this.$clone[0].scrollHeight,s=Math.min(n,t+o),this.$clone.addClass("oo-ui-element-hidden"),(a=s>e?s+(i-e):"")!==this.styleHeight&&(this.$input.css("height",a),this.styleHeight=a,this.emit("resize"))),(r=this.$input[0].offsetWidth-this.$input[0].clientWidth)!==this.scrollWidth&&(l="rtl"===this.$element.css("direction")?"left":"right",this.$label.css({right:"",left:""}),this.$indicator.css({right:"",left:""}),r&&(this.$indicator.css(l,r),"after"===this.labelPosition&&this.$label.css(l,r)),this.scrollWidth=r,this.positionLabel())),this},t.ui.MultilineTextInputWidget.prototype.getInputElement=function(){return e("<textarea>")},t.ui.MultilineTextInputWidget.prototype.isAutosizing=function(){return!!this.autosize},t.ui.MultilineTextInputWidget.prototype.restorePreInfuseState=function(e){t.ui.MultilineTextInputWidget.parent.prototype.restorePreInfuseState.call(this,e),void 0!==e.scrollTop&&this.$input.scrollTop(e.scrollTop)},t.ui.ComboBoxInputWidget=function(i){(i=e.extend({autocomplete:!1},i)).multiline=!1,i.$input&&i.$input.removeAttr("list"),t.ui.ComboBoxInputWidget.parent.call(this,i),this.$overlay=(!0===i.$overlay?t.ui.getDefaultOverlay():i.$overlay)||this.$element,this.dropdownButton=new t.ui.ButtonWidget({classes:["oo-ui-comboBoxInputWidget-dropdownButton"],label:t.ui.msg("ooui-combobox-button-label"),indicator:"down",invisibleLabel:!0,disabled:this.disabled}),this.menu=new t.ui.MenuSelectWidget(e.extend({widget:this,input:this,$floatableContainer:this.$element,disabled:this.isDisabled()},i.menu)),this.connect(this,{change:"onInputChange",enter:"onInputEnter"}),this.dropdownButton.connect(this,{click:"onDropdownButtonClick"}),this.menu.connect(this,{choose:"onMenuChoose",add:"onMenuItemsChange",remove:"onMenuItemsChange",toggle:"onMenuToggle"}),this.$input.attr({role:"combobox","aria-owns":this.menu.getElementId(),"aria-autocomplete":"list"}),this.dropdownButton.$button.attr({"aria-controls":this.menu.getElementId()}),void 0!==i.options&&this.setOptions(i.options),this.$field=e("<div>").addClass("oo-ui-comboBoxInputWidget-field").append(this.$input,this.dropdownButton.$element),this.$element.addClass("oo-ui-comboBoxInputWidget").append(this.$field),this.$overlay.append(this.menu.$element),this.onMenuItemsChange()},t.inheritClass(t.ui.ComboBoxInputWidget,t.ui.TextInputWidget),t.ui.ComboBoxInputWidget.prototype.getMenu=function(){return this.menu},t.ui.ComboBoxInputWidget.prototype.getInput=function(){return this},t.ui.ComboBoxInputWidget.prototype.onInputChange=function(t){var e=this.menu.findItemFromData(t);this.menu.selectItem(e),this.menu.findHighlightedItem()&&this.menu.highlightItem(e),this.isDisabled()||this.menu.toggle(!0)},t.ui.ComboBoxInputWidget.prototype.onInputEnter=function(){this.isDisabled()||this.menu.toggle(!1)},t.ui.ComboBoxInputWidget.prototype.onDropdownButtonClick=function(){this.menu.toggle(),this.focus()},t.ui.ComboBoxInputWidget.prototype.onMenuChoose=function(t){this.setValue(t.getData())},t.ui.ComboBoxInputWidget.prototype.onMenuItemsChange=function(){var t=this.menu.findItemFromData(this.getValue());this.menu.selectItem(t),this.menu.findHighlightedItem()&&this.menu.highlightItem(t),this.$element.toggleClass("oo-ui-comboBoxInputWidget-empty",this.menu.isEmpty())},t.ui.ComboBoxInputWidget.prototype.onMenuToggle=function(t){this.$element.toggleClass("oo-ui-comboBoxInputWidget-open",t)},t.ui.ComboBoxInputWidget.prototype.updateControlsDisabled=function(){var t=this.isDisabled()||this.isReadOnly();return this.dropdownButton&&this.dropdownButton.setDisabled(t),this.menu&&this.menu.setDisabled(t),this},t.ui.ComboBoxInputWidget.prototype.setDisabled=function(){return t.ui.ComboBoxInputWidget.parent.prototype.setDisabled.apply(this,arguments),this.updateControlsDisabled(),this},t.ui.ComboBoxInputWidget.prototype.setReadOnly=function(){return t.ui.ComboBoxInputWidget.parent.prototype.setReadOnly.apply(this,arguments),this.updateControlsDisabled(),this},t.ui.ComboBoxInputWidget.prototype.setOptions=function(e){return this.getMenu().clearItems().addItems(e.map((function(e){return new t.ui.MenuOptionWidget({data:e.data,label:void 0!==e.label?e.label:e.data})}))),this},t.ui.FieldLayout=function(i,n){if(t.isPlainObject(i)&&void 0===n&&(i=(n=i).fieldWidget),void 0===i)throw new Error("Widget not found");n=e.extend({align:"left",helpInline:!1},n),t.ui.FieldLayout.parent.call(this,n),t.ui.mixin.LabelElement.call(this,e.extend({$label:e("<label>")},n)),t.ui.mixin.TitledElement.call(this,e.extend({$titled:this.$label},n)),this.fieldWidget=i,this.errors=[],this.warnings=[],this.successMessages=[],this.notices=[],this.$field=this.isFieldInline()?e("<span>"):e("<div>"),this.$messages=e("<div>"),this.$header=e("<span>"),this.$body=e("<div>"),this.align=null,this.helpInline=n.helpInline,this.fieldWidget.connect(this,{disable:"onFieldDisable"}),this.$help=n.help?this.createHelpElement(n.help,n.$overlay):e([]),this.fieldWidget.getInputId()?(this.$label.attr("for",this.fieldWidget.getInputId()),this.helpInline&&this.$help.attr("for",this.fieldWidget.getInputId())):(this.$label.on("click",function(){this.fieldWidget.simulateLabelClick()}.bind(this)),this.helpInline&&this.$help.on("click",function(){this.fieldWidget.simulateLabelClick()}.bind(this))),this.$element.addClass("oo-ui-fieldLayout").toggleClass("oo-ui-fieldLayout-disabled",this.fieldWidget.isDisabled()).append(this.$body),this.$body.addClass("oo-ui-fieldLayout-body"),this.$header.addClass("oo-ui-fieldLayout-header"),this.$messages.addClass("oo-ui-fieldLayout-messages"),this.$field.addClass("oo-ui-fieldLayout-field").append(this.fieldWidget.$element),this.setErrors(n.errors||[]),this.setWarnings(n.warnings||[]),this.setSuccess(n.successMessages||[]),this.setNotices(n.notices||[]),this.setAlignment(n.align),this.updateTitle()},t.inheritClass(t.ui.FieldLayout,t.ui.Layout),t.mixinClass(t.ui.FieldLayout,t.ui.mixin.LabelElement),t.mixinClass(t.ui.FieldLayout,t.ui.mixin.TitledElement),t.ui.FieldLayout.prototype.onFieldDisable=function(t){this.$element.toggleClass("oo-ui-fieldLayout-disabled",t)},t.ui.FieldLayout.prototype.getField=function(){return this.fieldWidget},t.ui.FieldLayout.prototype.isFieldInline=function(){return"span"===this.getField().$element.prop("tagName").toLowerCase()},t.ui.FieldLayout.prototype.makeMessage=function(e,i){return new t.ui.MessageWidget({type:e,inline:!0,label:i}).$element},t.ui.FieldLayout.prototype.setAlignment=function(t){return t!==this.align&&(-1===["left","right","top","inline"].indexOf(t)&&(t="left"),"inline"!==t||this.isFieldInline()||(t="top"),this.helpInline?"top"===t?(this.$header.append(this.$label),this.$body.append(this.$header,this.$field,this.$help)):"inline"===t?(this.$header.append(this.$label,this.$help),this.$body.append(this.$field,this.$header)):(this.$header.append(this.$label,this.$help),this.$body.append(this.$header,this.$field)):"top"===t?(this.$header.append(this.$help,this.$label),this.$body.append(this.$header,this.$field)):"inline"===t?(this.$header.append(this.$help,this.$label),this.$body.append(this.$field,this.$header)):(this.$header.append(this.$label),this.$body.append(this.$header,this.$help,this.$field)),this.align&&this.$element.removeClass("oo-ui-fieldLayout-align-"+this.align),this.$element.addClass("oo-ui-fieldLayout-align-"+t),this.align=t),this},t.ui.FieldLayout.prototype.setErrors=function(t){return this.errors=t.slice(),this.updateMessages(),this},t.ui.FieldLayout.prototype.setWarnings=function(t){return this.warnings=t.slice(),this.updateMessages(),this},t.ui.FieldLayout.prototype.setSuccess=function(t){return this.successMessages=t.slice(),this.updateMessages(),this},t.ui.FieldLayout.prototype.setNotices=function(t){return this.notices=t.slice(),this.updateMessages(),this},t.ui.FieldLayout.prototype.updateMessages=function(){var t;if(this.$messages.empty(),this.errors.length||this.warnings.length||this.successMessages.length||this.notices.length){for(this.$body.after(this.$messages),t=0;t<this.errors.length;t++)this.$messages.append(this.makeMessage("error",this.errors[t]));for(t=0;t<this.warnings.length;t++)this.$messages.append(this.makeMessage("warning",this.warnings[t]));for(t=0;t<this.successMessages.length;t++)this.$messages.append(this.makeMessage("success",this.successMessages[t]));for(t=0;t<this.notices.length;t++)this.$messages.append(this.makeMessage("notice",this.notices[t]))}else this.$messages.remove()},t.ui.FieldLayout.prototype.formatTitleWithAccessKey=function(t){return this.fieldWidget&&this.fieldWidget.formatTitleWithAccessKey?this.fieldWidget.formatTitleWithAccessKey(t):t},t.ui.FieldLayout.prototype.createHelpElement=function(e,i){var n,o;return this.helpInline?n=(o=new t.ui.LabelWidget({label:e,classes:["oo-ui-inline-help"]})).getElementId():(o=new t.ui.PopupButtonWidget({$overlay:i,popup:{padded:!0},classes:["oo-ui-fieldLayout-help"],framed:!1,icon:"info",label:t.ui.msg("ooui-field-help"),invisibleLabel:!0}),e instanceof t.ui.HtmlSnippet?o.getPopup().$body.html(e.toString()):o.getPopup().$body.text(e),n=o.getPopup().getBodyId()),(this.fieldWidget.$input||this.fieldWidget.$button||this.fieldWidget.$element).attr("aria-describedby",n),o.$element},t.ui.ActionFieldLayout=function(i,n,o){t.isPlainObject(i)&&void 0===o&&(i=(o=i).fieldWidget,n=o.buttonWidget),t.ui.ActionFieldLayout.parent.call(this,i,o),this.buttonWidget=n,this.$button=e("<span>"),this.$input=this.isFieldInline()?e("<span>"):e("<div>"),this.$element.addClass("oo-ui-actionFieldLayout"),this.$button.addClass("oo-ui-actionFieldLayout-button").append(this.buttonWidget.$element),this.$input.addClass("oo-ui-actionFieldLayout-input").append(this.fieldWidget.$element),this.$field.append(this.$input,this.$button)},t.inheritClass(t.ui.ActionFieldLayout,t.ui.FieldLayout),t.ui.FieldsetLayout=function(i){var n;i=i||{},t.ui.FieldsetLayout.parent.call(this,i),t.ui.mixin.IconElement.call(this,i),t.ui.mixin.LabelElement.call(this,i),t.ui.mixin.GroupElement.call(this,i),this.$header=e("<legend>"),this.$header.addClass("oo-ui-fieldsetLayout-header").append(this.$icon,this.$label),this.$group.addClass("oo-ui-fieldsetLayout-group"),this.$element.addClass("oo-ui-fieldsetLayout").prepend(this.$header,this.$group),i.help&&(i.helpInline?(n=new t.ui.LabelWidget({label:i.help,classes:["oo-ui-inline-help"]}),this.$element.prepend(this.$header,n.$element,this.$group)):(n=new t.ui.PopupButtonWidget({$overlay:i.$overlay,popup:{padded:!0},classes:["oo-ui-fieldsetLayout-help"],framed:!1,icon:"info",label:t.ui.msg("ooui-field-help"),invisibleLabel:!0}),i.help instanceof t.ui.HtmlSnippet?n.getPopup().$body.html(i.help.toString()):n.getPopup().$body.text(i.help),this.$header.append(n.$element))),Array.isArray(i.items)&&this.addItems(i.items)},t.inheritClass(t.ui.FieldsetLayout,t.ui.Layout),t.mixinClass(t.ui.FieldsetLayout,t.ui.mixin.IconElement),t.mixinClass(t.ui.FieldsetLayout,t.ui.mixin.LabelElement),t.mixinClass(t.ui.FieldsetLayout,t.ui.mixin.GroupElement),t.ui.FieldsetLayout.static.tagName="fieldset",t.ui.FormLayout=function(i){var n;i=i||{},t.ui.FormLayout.parent.call(this,i),t.ui.mixin.GroupElement.call(this,e.extend({$group:this.$element},i)),this.$element.on("submit",this.onFormSubmit.bind(this)),void 0===(n=i.action)||t.ui.isSafeUrl(n)||(n="./"+n),this.$element.addClass("oo-ui-formLayout").attr({method:i.method,action:n,enctype:i.enctype}),Array.isArray(i.items)&&this.addItems(i.items)},t.inheritClass(t.ui.FormLayout,t.ui.Layout),t.mixinClass(t.ui.FormLayout,t.ui.mixin.GroupElement),t.ui.FormLayout.static.tagName="form",t.ui.FormLayout.prototype.onFormSubmit=function(){if(this.emit("submit"))return!1},t.ui.PanelLayout=function(i){i=e.extend({scrollable:!1,padded:!1,expanded:!0,framed:!1},i),t.ui.PanelLayout.parent.call(this,i),this.$element.addClass("oo-ui-panelLayout"),i.scrollable&&this.$element.addClass("oo-ui-panelLayout-scrollable"),i.padded&&this.$element.addClass("oo-ui-panelLayout-padded"),i.expanded&&this.$element.addClass("oo-ui-panelLayout-expanded"),i.framed&&this.$element.addClass("oo-ui-panelLayout-framed")},t.inheritClass(t.ui.PanelLayout,t.ui.Layout),t.ui.PanelLayout.static.reusePreInfuseDOM=function(i,n){return!1!==(n=t.ui.PanelLayout.parent.static.reusePreInfuseDOM(i,n)).preserveContent&&(n.$content=e(i).contents()),n},t.ui.PanelLayout.prototype.focus=function(){t.ui.findFocusable(this.$element).focus()},t.ui.HorizontalLayout=function(i){i=i||{},t.ui.HorizontalLayout.parent.call(this,i),t.ui.mixin.GroupElement.call(this,e.extend({$group:this.$element},i)),this.$element.addClass("oo-ui-horizontalLayout"),Array.isArray(i.items)&&this.addItems(i.items)},t.inheritClass(t.ui.HorizontalLayout,t.ui.Layout),t.mixinClass(t.ui.HorizontalLayout,t.ui.mixin.GroupElement),t.ui.NumberInputWidget=function(i){var n=e("<div>").addClass("oo-ui-numberInputWidget-field");i=e.extend({min:-1/0,max:1/0,showButtons:!0},i),e.extend(i,i.input),this.input=this,t.ui.NumberInputWidget.parent.call(this,e.extend(i,{type:"number"})),i.showButtons&&(this.minusButton=new t.ui.ButtonWidget(e.extend({disabled:this.isDisabled(),tabIndex:-1,classes:["oo-ui-numberInputWidget-minusButton"],icon:"subtract"},i.minusButton)),this.minusButton.$element.attr("aria-hidden","true"),this.plusButton=new t.ui.ButtonWidget(e.extend({disabled:this.isDisabled(),tabIndex:-1,classes:["oo-ui-numberInputWidget-plusButton"],icon:"add"},i.plusButton)),this.plusButton.$element.attr("aria-hidden","true")),this.$input.on({keydown:this.onKeyDown.bind(this),"wheel mousewheel DOMMouseScroll":this.onWheel.bind(this)}),i.showButtons&&(this.plusButton.connect(this,{click:["onButtonClick",1]}),this.minusButton.connect(this,{click:["onButtonClick",-1]})),n.append(this.$input),i.showButtons&&n.prepend(this.minusButton.$element).append(this.plusButton.$element),(i.allowInteger||i.isInteger)&&(i.step=1),this.setRange(i.min,i.max),this.setStep(i.buttonStep,i.pageStep,i.step),this.setValidation(this.validateNumber.bind(this)),this.$element.addClass("oo-ui-numberInputWidget").toggleClass("oo-ui-numberInputWidget-buttoned",i.showButtons).append(n)},t.inheritClass(t.ui.NumberInputWidget,t.ui.TextInputWidget),t.ui.NumberInputWidget.prototype.setAllowInteger=function(t){this.setStep(t?1:null)},t.ui.NumberInputWidget.prototype.setIsInteger=t.ui.NumberInputWidget.prototype.setAllowInteger,t.ui.NumberInputWidget.prototype.getAllowInteger=function(){return 1===this.step},t.ui.NumberInputWidget.prototype.getIsInteger=t.ui.NumberInputWidget.prototype.getAllowInteger,t.ui.NumberInputWidget.prototype.setRange=function(t,e){if(t>e)throw new Error("Minimum ("+t+") must not be greater than maximum ("+e+")");this.min=t,this.max=e,this.$input.attr("min",this.min),this.$input.attr("max",this.max),this.setValidityFlag()},t.ui.NumberInputWidget.prototype.getRange=function(){return[this.min,this.max]},t.ui.NumberInputWidget.prototype.setStep=function(t,e,i){if(void 0===t&&(t=i||1),void 0===e&&(e=10*t),null!==i&&i<=0)throw new Error("Step value, if given, must be positive");if(t<=0)throw new Error("Button step value must be positive");if(e<=0)throw new Error("Page step value must be positive");this.step=i,this.buttonStep=t,this.pageStep=e,this.$input.attr("step",this.step||"any"),this.setValidityFlag()},t.ui.NumberInputWidget.prototype.setValue=function(e){return""===e&&this.$input.val(""),t.ui.NumberInputWidget.parent.prototype.setValue.call(this,e)},t.ui.NumberInputWidget.prototype.getStep=function(){return[this.buttonStep,this.pageStep,this.step]},t.ui.NumberInputWidget.prototype.getNumericValue=function(){return+this.getValue()},t.ui.NumberInputWidget.prototype.adjustValue=function(t){var e,i=this.getNumericValue();if(t=+t,isNaN(t)||!isFinite(t))throw new Error("Delta must be a finite number");isNaN(i)?e=0:(e=i+t,e=Math.max(Math.min(e,this.max),this.min),this.step&&(e=Math.round(e/this.step)*this.step)),e!==i&&this.setValue(e)},t.ui.NumberInputWidget.prototype.validateNumber=function(t){var e=+t;return""===t?!this.isRequired():!(isNaN(e)||!isFinite(e))&&((!this.step||Math.floor(e/this.step)===e/this.step)&&!(e<this.min||e>this.max))},t.ui.NumberInputWidget.prototype.onButtonClick=function(t){this.adjustValue(t*this.buttonStep)},t.ui.NumberInputWidget.prototype.onWheel=function(t){var e=0;if(!this.isDisabled()&&!this.isReadOnly())return this.$input.is(":focus")?(void 0!==t.originalEvent.deltaMode&&(this.sawWheelEvent=!0),t.originalEvent.deltaY?e=-t.originalEvent.deltaY:t.originalEvent.deltaX&&(e=t.originalEvent.deltaX),this.sawWheelEvent||(t.originalEvent.wheelDeltaX?e=-t.originalEvent.wheelDeltaX:t.originalEvent.wheelDeltaY?e=t.originalEvent.wheelDeltaY:t.originalEvent.wheelDelta?e=t.originalEvent.wheelDelta:t.originalEvent.detail&&(e=-t.originalEvent.detail)),e&&(e=e<0?-1:1,this.adjustValue(e*this.buttonStep)),!1):void 0},t.ui.NumberInputWidget.prototype.onKeyDown=function(e){if(!this.isDisabled()&&!this.isReadOnly())switch(e.which){case t.ui.Keys.UP:return this.adjustValue(this.buttonStep),!1;case t.ui.Keys.DOWN:return this.adjustValue(-this.buttonStep),!1;case t.ui.Keys.PAGEUP:return this.adjustValue(this.pageStep),!1;case t.ui.Keys.PAGEDOWN:return this.adjustValue(-this.pageStep),!1}},t.ui.NumberInputWidget.prototype.updateControlsDisabled=function(){var t=this.isDisabled()||this.isReadOnly();return this.minusButton&&this.minusButton.setDisabled(t),this.plusButton&&this.plusButton.setDisabled(t),this},t.ui.NumberInputWidget.prototype.setDisabled=function(e){return t.ui.NumberInputWidget.parent.prototype.setDisabled.call(this,e),this.updateControlsDisabled(),this},t.ui.NumberInputWidget.prototype.setReadOnly=function(){return t.ui.NumberInputWidget.parent.prototype.setReadOnly.apply(this,arguments),this.updateControlsDisabled(),this},t.ui.SelectFileInputWidget=function(i){var n=this;i=i||{},this.selectButton=new t.ui.ButtonWidget(e.extend({$element:e("<label>"),classes:["oo-ui-selectFileInputWidget-selectButton"],label:t.ui.msg("ooui-selectfile-button-select")},i.button)),i=e.extend({accept:null,placeholder:t.ui.msg("ooui-selectfile-placeholder"),$tabIndexed:this.selectButton.$tabIndexed},i),this.info=new t.ui.SearchInputWidget({classes:["oo-ui-selectFileInputWidget-info"],placeholder:i.placeholder,$tabIndexed:e([])}).setIcon(i.icon),this.info.$input.attr("tabindex",-1),t.ui.SelectFileInputWidget.parent.call(this,i),this.currentFiles=this.filterFiles(this.$input[0].files||[]),Array.isArray(i.accept)?this.accept=i.accept:this.accept=null,this.multiple=!!i.multiple,this.info.connect(this,{change:"onInfoChange"}),this.selectButton.$button.on({keypress:this.onKeyPress.bind(this)}),this.$input.on({change:this.onFileSelected.bind(this),focus:function(){n.$input.parent().prop("scrollTop",0)}}),this.connect(this,{change:"updateUI"}),this.fieldLayout=new t.ui.ActionFieldLayout(this.info,this.selectButton,{align:"top"}),this.$input.attr({type:"file",tabindex:-1,"aria-disabled":null}),this.accept&&this.$input.attr("accept",this.accept.join(", ")),this.multiple&&this.$input.attr("multiple",""),this.selectButton.$button.append(this.$input),this.$element.addClass("oo-ui-selectFileInputWidget").append(this.fieldLayout.$element),this.updateUI()},t.inheritClass(t.ui.SelectFileInputWidget,t.ui.InputWidget),t.ui.SelectFileInputWidget.static.title="",t.ui.SelectFileInputWidget.prototype.getFilename=function(){return this.currentFiles.length?this.currentFiles.map((function(t){return t.name})).join(", "):this.getValue().split("\\").pop()},t.ui.SelectFileInputWidget.prototype.setValue=function(e){void 0!==e&&(e?this.value!==e&&(this.value=e,this.emit("change",this.value)):(this.currentFiles=[],t.ui.SelectFileInputWidget.super.prototype.setValue.call(this,"")))},t.ui.SelectFileInputWidget.prototype.onFileSelected=function(t){this.currentFiles=this.filterFiles(t.target.files||[])},t.ui.SelectFileInputWidget.prototype.updateUI=function(){this.info.setValue(this.getFilename())},t.ui.SelectFileInputWidget.prototype.filterFiles=function(t){var e=this.accept;return Array.prototype.filter.call(t,(function(t){var i,n,o=t.type;if(!e||!o)return!0;for(i=0;i<e.length;i++){if((n=e[i])===o)return!0;if("/*"===n.substr(-2)&&(n=n.substr(0,n.length-1),o.substr(0,n.length)===n))return!0}return!1}))},t.ui.SelectFileInputWidget.prototype.onInfoChange=function(t){""===t&&this.setValue(null)},t.ui.SelectFileInputWidget.prototype.onKeyPress=function(e){if(!this.isDisabled()&&this.$input&&(e.which===t.ui.Keys.SPACE||e.which===t.ui.Keys.ENTER))return this.$input.trigger("click"),this.selectButton.onDocumentKeyUp(e),!1},t.ui.SelectFileInputWidget.prototype.setDisabled=function(e){return t.ui.SelectFileInputWidget.parent.prototype.setDisabled.call(this,e),this.selectButton.setDisabled(e),this.info.setDisabled(e),this}}(t),
/*!
 * OOUI v0.33.4
 * https://www.mediawiki.org/wiki/OOUI
 *
 * Copyright 2011–2019 OOUI Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2019-07-23T03:23:32Z
 */
function(t){"use strict";t.ui.mixin.DraggableElement=function(t){t=t||{},this.index=null,this.$handle=t.$handle||this.$element,this.wasHandleUsed=null,this.$element.addClass("oo-ui-draggableElement").on({mousedown:this.onDragMouseDown.bind(this),dragstart:this.onDragStart.bind(this),dragover:this.onDragOver.bind(this),dragend:this.onDragEnd.bind(this),drop:this.onDrop.bind(this)}),this.$handle.addClass("oo-ui-draggableElement-handle"),this.toggleDraggable(void 0===t.draggable||!!t.draggable)},t.initClass(t.ui.mixin.DraggableElement),t.ui.mixin.DraggableElement.static.cancelButtonMouseDownEvents=!1,t.ui.mixin.DraggableElement.prototype.toggleDraggable=function(t){t=void 0!==t?!!t:!this.draggable,this.draggable!==t&&(this.draggable=t,this.$handle.toggleClass("oo-ui-draggableElement-undraggable",!this.draggable),this.$element.prop("draggable",this.draggable))},t.ui.mixin.DraggableElement.prototype.isDraggable=function(){return this.draggable},t.ui.mixin.DraggableElement.prototype.onDragMouseDown=function(e){this.isDraggable()&&(this.wasHandleUsed=this.$handle[0]===this.$element[0]||t.ui.contains(this.$handle[0],e.target,!0))},t.ui.mixin.DraggableElement.prototype.onDragStart=function(t){var e=this,i=t.originalEvent.dataTransfer;if(!this.wasHandleUsed||!this.isDraggable())return!1;i.dropEffect="none",i.effectAllowed="move";try{i.setData("application-x/OOUI-draggable",this.getIndex())}catch(t){}return this.$element.addClass("oo-ui-draggableElement-clone"),setTimeout((function(){e.$element.removeClass("oo-ui-draggableElement-clone").addClass("oo-ui-draggableElement-placeholder")})),this.emit("dragstart",this),!0},t.ui.mixin.DraggableElement.prototype.onDragEnd=function(){this.$element.removeClass("oo-ui-draggableElement-placeholder"),this.emit("dragend")},t.ui.mixin.DraggableElement.prototype.onDrop=function(t){t.preventDefault(),this.emit("drop",t)},t.ui.mixin.DraggableElement.prototype.onDragOver=function(t){t.preventDefault()},t.ui.mixin.DraggableElement.prototype.setIndex=function(t){this.index!==t&&(this.index=t,this.$element.data("index",t))},t.ui.mixin.DraggableElement.prototype.getIndex=function(){return this.index},t.ui.mixin.DraggableGroupElement=function(e){e=e||{},t.ui.mixin.GroupElement.call(this,e),this.orientation=e.orientation||"vertical",this.dragItem=null,this.itemKeys={},this.dir=null,this.itemsOrder=null,this.draggable=void 0===e.draggable||!!e.draggable,this.aggregate({dragstart:"itemDragStart",dragend:"itemDragEnd",drop:"itemDrop"}),this.connect(this,{itemDragStart:"onItemDragStart",itemDrop:"onItemDropOrDragEnd",itemDragEnd:"onItemDropOrDragEnd"}),Array.isArray(e.items)&&this.addItems(e.items),this.$element.addClass("oo-ui-draggableGroupElement").toggleClass("oo-ui-draggableGroupElement-horizontal","horizontal"===this.orientation)},t.mixinClass(t.ui.mixin.DraggableGroupElement,t.ui.mixin.GroupElement),t.ui.mixin.DraggableGroupElement.prototype.toggleDraggable=function(t){t=void 0!==t?!!t:!this.draggable,this.draggable!==t&&(this.draggable=t,this.getItems().forEach(function(t){t.toggleDraggable(this.draggable)}.bind(this)),this.emit("draggable",this.draggable))},t.ui.mixin.DraggableGroupElement.prototype.isDraggable=function(){return this.draggable},t.ui.mixin.DraggableGroupElement.prototype.onItemDragStart=function(t){this.isDraggable()&&(this.itemsOrder=this.items.slice(),this.updateIndexes(),"horizontal"===this.orientation&&(this.dir=this.$element.css("direction")),this.setDragItem(t))},t.ui.mixin.DraggableGroupElement.prototype.updateIndexes=function(){var t,e;for(t=0,e=this.itemsOrder.length;t<e;t++)this.itemsOrder[t].setIndex(t)},t.ui.mixin.DraggableGroupElement.prototype.onItemDropOrDragEnd=function(){var t,e,i=this.getDragItem();return i&&(e=this.items.indexOf(i),(t=i.getIndex()+(i.getIndex()>e?1:0))!==e&&(this.reorder(this.getDragItem(),t),this.emit("reorder",this.getDragItem(),t)),this.updateIndexes()),this.unsetDragItem(),!1},t.ui.mixin.DraggableGroupElement.prototype.onDragOver=function(t){var i,n,o=this.getDragItem(),s=o.getIndex();void 0!==(i=e(t.target).closest(".oo-ui-draggableElement").data("index"))&&i!==s&&((n=i+(i>s?1:0))>0?this.$group.children().eq(n-1).after(o.$element):this.$group.prepend(o.$element),this.itemsOrder.splice(i,0,this.itemsOrder.splice(s,1)[0]),this.updateIndexes(),this.emit("drag",o,n)),t.preventDefault()},t.ui.mixin.DraggableGroupElement.prototype.reorder=function(t,e){this.addItems([t],e)},t.ui.mixin.DraggableGroupElement.prototype.setDragItem=function(t){this.dragItem!==t&&(this.dragItem=t,this.$element.on("dragover",this.onDragOver.bind(this)),this.$element.addClass("oo-ui-draggableGroupElement-dragging"))},t.ui.mixin.DraggableGroupElement.prototype.unsetDragItem=function(){this.dragItem&&(this.dragItem=null,this.$element.off("dragover"),this.$element.removeClass("oo-ui-draggableGroupElement-dragging"))},t.ui.mixin.DraggableGroupElement.prototype.getDragItem=function(){return this.dragItem},t.ui.mixin.RequestManager=function(t){this.requestCache={},this.requestQuery=null,this.requestRequest=null,this.showPendingRequest=!!this.pushPending&&!1!==t.showPendingRequest},t.initClass(t.ui.mixin.RequestManager),t.ui.mixin.RequestManager.prototype.getRequestData=function(){var t,i=this,n=this.getRequestQuery(),o=e.Deferred();return this.abortRequest(),Object.prototype.hasOwnProperty.call(this.requestCache,n)?o.resolve(this.requestCache[n]):(this.showPendingRequest&&this.pushPending(),this.requestQuery=n,(t=this.requestRequest=this.getRequest()).always((function(){i.showPendingRequest&&i.popPending()})).done((function(e){t===i.requestRequest&&(i.requestQuery=null,i.requestRequest=null,i.requestCache[n]=i.getRequestCacheDataFromResponse(e),o.resolve(i.requestCache[n]))})).fail((function(){t===i.requestRequest&&(i.requestQuery=null,i.requestRequest=null,o.reject())}))),o.promise()},t.ui.mixin.RequestManager.prototype.abortRequest=function(){var t=this.requestRequest;t&&(this.requestRequest=null,this.requestQuery=null,t.abort())},t.ui.mixin.RequestManager.prototype.getRequestQuery=null,t.ui.mixin.RequestManager.prototype.getRequest=null,t.ui.mixin.RequestManager.prototype.getRequestCacheDataFromResponse=null,t.ui.mixin.LookupElement=function(i){i=e.extend({highlightFirst:!0},i),t.ui.mixin.RequestManager.call(this,i),this.$overlay=(!0===i.$overlay?t.ui.getDefaultOverlay():i.$overlay)||this.$element,this.lookupMenu=new t.ui.MenuSelectWidget(e.extend({widget:this,input:this,$floatableContainer:i.$container||this.$element},i.menu)),this.allowSuggestionsWhenEmpty=i.allowSuggestionsWhenEmpty||!1,this.lookupsDisabled=!1,this.lookupInputFocused=!1,this.lookupHighlightFirstItem=i.highlightFirst,this.showSuggestionsOnFocus=!1!==i.showSuggestionsOnFocus,this.$input.on({focus:this.onLookupInputFocus.bind(this),blur:this.onLookupInputBlur.bind(this),mousedown:this.onLookupInputMouseDown.bind(this)}),this.connect(this,{change:"onLookupInputChange"}),this.lookupMenu.connect(this,{toggle:"onLookupMenuToggle",choose:"onLookupMenuItemChoose"}),this.$input.attr({role:"combobox","aria-owns":this.lookupMenu.getElementId(),"aria-autocomplete":"list"}),this.$element.addClass("oo-ui-lookupElement"),this.lookupMenu.$element.addClass("oo-ui-lookupElement-menu"),this.$overlay.append(this.lookupMenu.$element)},t.mixinClass(t.ui.mixin.LookupElement,t.ui.mixin.RequestManager),t.ui.mixin.LookupElement.prototype.onLookupInputFocus=function(){this.lookupInputFocused=!0,this.showSuggestionsOnFocus&&this.populateLookupMenu()},t.ui.mixin.LookupElement.prototype.onLookupInputBlur=function(){this.closeLookupMenu(),this.lookupInputFocused=!1},t.ui.mixin.LookupElement.prototype.onLookupInputMouseDown=function(){this.lookupMenu.isVisible()||!this.lookupInputFocused&&this.showSuggestionsOnFocus||this.populateLookupMenu()},t.ui.mixin.LookupElement.prototype.onLookupInputChange=function(){this.lookupInputFocused&&this.populateLookupMenu()},t.ui.mixin.LookupElement.prototype.onLookupMenuToggle=function(t){t||(this.abortLookupRequest(),this.lookupMenu.clearItems())},t.ui.mixin.LookupElement.prototype.onLookupMenuItemChoose=function(t){this.setValue(t.getData())},t.ui.mixin.LookupElement.prototype.getLookupMenu=function(){return this.lookupMenu},t.ui.mixin.LookupElement.prototype.setLookupsDisabled=function(t){this.lookupsDisabled=!!t},t.ui.mixin.LookupElement.prototype.openLookupMenu=function(){return this.lookupMenu.isEmpty()||this.lookupMenu.toggle(!0),this},t.ui.mixin.LookupElement.prototype.closeLookupMenu=function(){return this.lookupMenu.toggle(!1),this.abortLookupRequest(),this.lookupMenu.clearItems(),this},t.ui.mixin.LookupElement.prototype.populateLookupMenu=function(){var t=this,e=this.getValue();if(!this.lookupsDisabled&&!this.isReadOnly())return this.allowSuggestionsWhenEmpty||""!==e?e!==this.lookupQuery&&this.getLookupMenuItems().done((function(e){t.lookupMenu.clearItems(),e.length?(t.lookupMenu.addItems(e).toggle(!0),t.initializeLookupMenuSelection()):t.lookupMenu.toggle(!1)})).fail((function(){t.lookupMenu.clearItems(),t.lookupMenu.toggle(!1)})):this.closeLookupMenu(),this},t.ui.mixin.LookupElement.prototype.initializeLookupMenuSelection=function(){this.lookupHighlightFirstItem&&!this.lookupMenu.findSelectedItem()&&this.lookupMenu.highlightItem(this.lookupMenu.findFirstSelectableItem())},t.ui.mixin.LookupElement.prototype.getLookupMenuItems=function(){return this.getRequestData().then(function(t){return this.getLookupMenuOptionsFromData(t)}.bind(this))},t.ui.mixin.LookupElement.prototype.abortLookupRequest=function(){this.abortRequest()},t.ui.mixin.LookupElement.prototype.getLookupRequest=null,t.ui.mixin.LookupElement.prototype.getLookupCacheDataFromResponse=null,t.ui.mixin.LookupElement.prototype.getLookupMenuOptionsFromData=null,t.ui.mixin.LookupElement.prototype.setReadOnly=function(e){return t.ui.TextInputWidget.prototype.setReadOnly.call(this,e),this.isReadOnly()&&this.lookupMenu&&this.closeLookupMenu(),this},t.ui.mixin.LookupElement.prototype.getRequestQuery=function(){return this.getValue()},t.ui.mixin.LookupElement.prototype.getRequest=function(){return this.getLookupRequest()},t.ui.mixin.LookupElement.prototype.getRequestCacheDataFromResponse=function(t){return this.getLookupCacheDataFromResponse(t)},t.ui.TabPanelLayout=function(i,n){t.isPlainObject(i)&&void 0===n&&(i=(n=i).name),n=e.extend({scrollable:!0},n),t.ui.TabPanelLayout.parent.call(this,n),this.name=i,this.label=n.label,this.tabItem=null,this.active=!1,this.$element.addClass("oo-ui-tabPanelLayout").attr("role","tabpanel")},t.inheritClass(t.ui.TabPanelLayout,t.ui.PanelLayout),t.ui.TabPanelLayout.prototype.getName=function(){return this.name},t.ui.TabPanelLayout.prototype.isActive=function(){return this.active},t.ui.TabPanelLayout.prototype.getTabItem=function(){return this.tabItem},t.ui.TabPanelLayout.prototype.setTabItem=function(t){return this.tabItem=t||null,t&&this.setupTabItem(),this},t.ui.TabPanelLayout.prototype.setupTabItem=function(){return this.$element.attr("aria-labelledby",this.tabItem.getElementId()),this.tabItem.$element.attr("aria-controls",this.getElementId()),this.label&&this.tabItem.setLabel(this.label),this},t.ui.TabPanelLayout.prototype.setActive=function(t){(t=!!t)!==this.active&&(this.active=t,this.$element.toggleClass("oo-ui-tabPanelLayout-active",this.active),this.emit("active",this.active))},t.ui.PageLayout=function(i,n){t.isPlainObject(i)&&void 0===n&&(i=(n=i).name),n=e.extend({scrollable:!0},n),t.ui.PageLayout.parent.call(this,n),this.name=i,this.outlineItem=null,this.active=!1,this.$element.addClass("oo-ui-pageLayout")},t.inheritClass(t.ui.PageLayout,t.ui.PanelLayout),t.ui.PageLayout.prototype.getName=function(){return this.name},t.ui.PageLayout.prototype.isActive=function(){return this.active},t.ui.PageLayout.prototype.getOutlineItem=function(){return this.outlineItem},t.ui.PageLayout.prototype.setOutlineItem=function(t){return this.outlineItem=t||null,t&&this.setupOutlineItem(),this},t.ui.PageLayout.prototype.setupOutlineItem=function(){return this},t.ui.PageLayout.prototype.setActive=function(t){(t=!!t)!==this.active&&(this.active=t,this.$element.toggleClass("oo-ui-pageLayout-active",t),this.emit("active",this.active))},t.ui.StackLayout=function(i){i=e.extend({scrollable:!(!i||!i.continuous)},i),t.ui.StackLayout.parent.call(this,i),t.ui.mixin.GroupElement.call(this,e.extend({$group:this.$element},i)),this.currentItem=null,this.continuous=!!i.continuous,this.$element.addClass("oo-ui-stackLayout"),this.continuous&&(this.$element.addClass("oo-ui-stackLayout-continuous"),this.$element.on("scroll",t.ui.debounce(this.onScroll.bind(this),250))),Array.isArray(i.items)&&this.addItems(i.items)},t.inheritClass(t.ui.StackLayout,t.ui.PanelLayout),t.mixinClass(t.ui.StackLayout,t.ui.mixin.GroupElement),t.ui.StackLayout.prototype.onScroll=function(){var t,e=this.items.length,i=this.items.indexOf(this.currentItem),n=i,o=this.$element[0].getBoundingClientRect();if(o&&(o.top||o.bottom)){if((t=s(this.currentItem)).bottom<o.top)for(;++n<e&&!a(this.items[n]););else if(t.top>o.bottom)for(;--n>=0&&!a(this.items[n]););n!==i&&this.emit("visibleItemChange",this.items[n])}function s(t){return t.$element[0].getBoundingClientRect()}function a(t){var e=s(t);return e.bottom>o.top&&e.top<o.bottom}},t.ui.StackLayout.prototype.getCurrentItem=function(){return this.currentItem},t.ui.StackLayout.prototype.unsetCurrentItem=function(){null!==this.currentItem&&(this.currentItem=null,this.emit("set",null))},t.ui.StackLayout.prototype.addItems=function(e,i){return this.updateHiddenState(e,this.currentItem),t.ui.mixin.GroupElement.prototype.addItems.call(this,e,i),!this.currentItem&&e.length&&this.setItem(e[0]),this},t.ui.StackLayout.prototype.removeItems=function(e){return t.ui.mixin.GroupElement.prototype.removeItems.call(this,e),-1!==e.indexOf(this.currentItem)&&(this.items.length?this.setItem(this.items[0]):this.unsetCurrentItem()),this},t.ui.StackLayout.prototype.clearItems=function(){return this.unsetCurrentItem(),t.ui.mixin.GroupElement.prototype.clearItems.call(this),this},t.ui.StackLayout.prototype.setItem=function(t){return t!==this.currentItem&&(this.updateHiddenState(this.items,t),-1!==this.items.indexOf(t)?(this.currentItem=t,this.emit("set",t)):this.unsetCurrentItem()),this},t.ui.StackLayout.prototype.resetScroll=function(){return this.continuous?t.ui.StackLayout.parent.prototype.resetScroll.call(this):(this.getItems().forEach((function(t){var e=t.$element.hasClass("oo-ui-element-hidden");t.$element.removeClass("oo-ui-element-hidden"),t.resetScroll(),e&&t.$element.addClass("oo-ui-element-hidden")})),this)},t.ui.StackLayout.prototype.updateHiddenState=function(t,e){var i,n;if(!this.continuous){for(i=0,n=t.length;i<n;i++)e&&e===t[i]||(t[i].$element.addClass("oo-ui-element-hidden"),t[i].$element.attr("aria-hidden","true"));e&&(e.$element.removeClass("oo-ui-element-hidden"),e.$element.removeAttr("aria-hidden"))}},t.ui.MenuLayout=function(i){i=e.extend({expanded:!0,showMenu:!0,menuPosition:"before"},i),t.ui.MenuLayout.parent.call(this,i),this.menuPanel=null,this.contentPanel=null,this.expanded=!!i.expanded,this.$menu=e("<div>"),this.$content=e("<div>"),this.$menu.addClass("oo-ui-menuLayout-menu"),this.$content.addClass("oo-ui-menuLayout-content"),this.$element.addClass("oo-ui-menuLayout"),i.expanded?this.$element.addClass("oo-ui-menuLayout-expanded"):this.$element.addClass("oo-ui-menuLayout-static"),i.menuPanel&&this.setMenuPanel(i.menuPanel),i.contentPanel&&this.setContentPanel(i.contentPanel),this.setMenuPosition(i.menuPosition),this.toggleMenu(i.showMenu)},t.inheritClass(t.ui.MenuLayout,t.ui.Layout),t.ui.MenuLayout.prototype.toggleMenu=function(t){return t=void 0===t?!this.showMenu:!!t,this.showMenu!==t&&(this.showMenu=t,this.$element.toggleClass("oo-ui-menuLayout-showMenu",this.showMenu).toggleClass("oo-ui-menuLayout-hideMenu",!this.showMenu),this.$menu.attr("aria-hidden",this.showMenu?"false":"true")),this},t.ui.MenuLayout.prototype.isMenuVisible=function(){return this.showMenu},t.ui.MenuLayout.prototype.setMenuPosition=function(t){return-1===["top","bottom","before","after"].indexOf(t)&&(t="before"),this.$element.removeClass("oo-ui-menuLayout-"+this.menuPosition),this.menuPosition=t,"top"===this.menuPosition||"before"===this.menuPosition?this.$element.append(this.$menu,this.$content):this.$element.append(this.$content,this.$menu),this.$element.addClass("oo-ui-menuLayout-"+t),this},t.ui.MenuLayout.prototype.getMenuPosition=function(){return this.menuPosition},t.ui.MenuLayout.prototype.setMenuPanel=function(t){this.menuPanel=t,this.$menu.append(this.menuPanel.$element)},t.ui.MenuLayout.prototype.setContentPanel=function(t){this.contentPanel=t,this.$content.append(this.contentPanel.$element)},t.ui.MenuLayout.prototype.clearMenuPanel=function(){this.menuPanel=null,this.$menu.empty()},t.ui.MenuLayout.prototype.clearContentPanel=function(){this.contentPanel=null,this.$content.empty()},t.ui.MenuLayout.prototype.resetScroll=function(){return this.menuPanel&&this.menuPanel.resetScroll(),this.contentPanel&&this.contentPanel.resetScroll(),this},t.ui.BookletLayout=function(e){e=e||{},t.ui.BookletLayout.parent.call(this,e),this.currentPageName=null,this.pages={},this.ignoreFocus=!1,this.stackLayout=new t.ui.StackLayout({continuous:!!e.continuous,expanded:this.expanded}),this.setContentPanel(this.stackLayout),this.autoFocus=void 0===e.autoFocus||!!e.autoFocus,this.outlineVisible=!1,this.outlined=!!e.outlined,this.outlined&&(this.editable=!!e.editable,this.outlineControlsWidget=null,this.outlineSelectWidget=new t.ui.OutlineSelectWidget,this.outlinePanel=new t.ui.PanelLayout({expanded:this.expanded,scrollable:!0}),this.setMenuPanel(this.outlinePanel),this.outlineVisible=!0,this.editable&&(this.outlineControlsWidget=new t.ui.OutlineControlsWidget(this.outlineSelectWidget))),this.toggleMenu(this.outlined),this.stackLayout.connect(this,{set:"onStackLayoutSet"}),this.outlined&&(this.outlineSelectWidget.connect(this,{select:"onOutlineSelectWidgetSelect"}),this.scrolling=!1,this.stackLayout.connect(this,{visibleItemChange:"onStackLayoutVisibleItemChange"})),this.autoFocus&&this.stackLayout.$element.on("focusin",this.onStackLayoutFocus.bind(this)),this.$element.addClass("oo-ui-bookletLayout"),this.stackLayout.$element.addClass("oo-ui-bookletLayout-stackLayout"),this.outlined&&(this.outlinePanel.$element.addClass("oo-ui-bookletLayout-outlinePanel").append(this.outlineSelectWidget.$element),this.editable&&this.outlinePanel.$element.addClass("oo-ui-bookletLayout-outlinePanel-editable").append(this.outlineControlsWidget.$element))},t.inheritClass(t.ui.BookletLayout,t.ui.MenuLayout),t.ui.BookletLayout.prototype.onStackLayoutFocus=function(t){var i,n;for(i in n=e(t.target).closest(".oo-ui-pageLayout"),this.pages)if(this.pages[i].$element[0]===n[0]&&i!==this.currentPageName){this.setPage(i);break}},t.ui.BookletLayout.prototype.onStackLayoutVisibleItemChange=function(t){this.scrolling=!0,this.outlineSelectWidget.selectItemByData(t.getName()),this.scrolling=!1},t.ui.BookletLayout.prototype.onStackLayoutSet=function(i){var n,o=this;i&&(n=this.stackLayout.continuous&&!this.scrolling?i.scrollElementIntoView():e.Deferred().resolve(),!this.autoFocus||t.ui.isMobile()||this.scrolling||n.done((function(){o.focus()})))},t.ui.BookletLayout.prototype.focus=function(e){var i,n=this.stackLayout.getItems();!(i=void 0!==e&&n[e]?n[e]:this.stackLayout.getCurrentItem())&&this.outlined&&(this.selectFirstSelectablePage(),i=this.stackLayout.getCurrentItem()),i&&(t.ui.contains(i.$element[0],this.getElementDocument().activeElement,!0)||i.focus())},t.ui.BookletLayout.prototype.focusFirstFocusable=function(){t.ui.findFocusable(this.stackLayout.$element).focus()},t.ui.BookletLayout.prototype.onOutlineSelectWidgetSelect=function(t){t&&this.setPage(t.getData())},t.ui.BookletLayout.prototype.isOutlined=function(){return this.outlined},t.ui.BookletLayout.prototype.isEditable=function(){return this.editable},t.ui.BookletLayout.prototype.isOutlineVisible=function(){return this.outlined&&this.outlineVisible},t.ui.BookletLayout.prototype.toggleOutline=function(e){var i=this;return this.outlined&&(e=void 0===e?!this.outlineVisible:!!e,this.outlineVisible=e,this.toggleMenu(e),e&&this.editable&&setTimeout((function(){t.ui.Element.static.reconsiderScrollbars(i.outlinePanel.$element[0])}),t.ui.theme.getDialogTransitionDuration())),this},t.ui.BookletLayout.prototype.findClosestPage=function(t){var e,i,n,o=this.stackLayout.getItems(),s=o.indexOf(t);if(-1!==s&&(e=o[s+1],i=o[s-1],this.outlined)){if(n=this.outlineSelectWidget.findItemFromData(t.getName()).getLevel(),i&&n===this.outlineSelectWidget.findItemFromData(i.getName()).getLevel())return i;if(e&&n===this.outlineSelectWidget.findItemFromData(e.getName()).getLevel())return e}return i||e||null},t.ui.BookletLayout.prototype.getOutline=function(){return this.outlineSelectWidget},t.ui.BookletLayout.prototype.getOutlineControls=function(){return this.outlineControlsWidget},t.ui.BookletLayout.prototype.getPage=function(t){return this.pages[t]},t.ui.BookletLayout.prototype.getCurrentPage=function(){var t=this.getCurrentPageName();return t?this.getPage(t):void 0},t.ui.BookletLayout.prototype.getCurrentPageName=function(){return this.currentPageName},t.ui.BookletLayout.prototype.addPages=function(e,i){var n,o,s,a,r,l,u=this.stackLayout.getItems(),h=[],c=[];for(n=0,o=e.length;n<o;n++)s=(a=e[n]).getName(),Object.prototype.hasOwnProperty.call(this.pages,s)&&(-1!==(l=u.indexOf(this.pages[s]))&&l+1<i&&i--,h.push(this.pages[s]));for(h.length&&this.removePages(h),n=0,o=e.length;n<o;n++)s=(a=e[n]).getName(),this.pages[a.getName()]=a,this.outlined&&(r=new t.ui.OutlineOptionWidget({data:s}),a.setOutlineItem(r),c.push(r));return this.outlined&&c.length&&(this.outlineSelectWidget.addItems(c,i),this.selectFirstSelectablePage()),this.stackLayout.addItems(e,i),this.emit("add",e,i),this},t.ui.BookletLayout.prototype.removePages=function(t){var e,i,n,o,s=[];for(e=0,i=t.length;e<i;e++)n=(o=t[e]).getName(),delete this.pages[n],this.outlined&&(s.push(this.outlineSelectWidget.findItemFromData(n)),o.setOutlineItem(null));return this.outlined&&s.length&&(this.outlineSelectWidget.removeItems(s),this.selectFirstSelectablePage()),this.stackLayout.removeItems(t),this.emit("remove",t),this},t.ui.BookletLayout.prototype.clearPages=function(){var t,e,i=this.stackLayout.getItems();if(this.pages={},this.currentPageName=null,this.outlined)for(this.outlineSelectWidget.clearItems(),t=0,e=i.length;t<e;t++)i[t].setOutlineItem(null);return this.stackLayout.clearItems(),this.emit("remove",i),this},t.ui.BookletLayout.prototype.setPage=function(e){var i,n,o=this.pages[e],s=this.currentPageName&&this.pages[this.currentPageName];e!==this.currentPageName&&(this.outlined&&(i=this.outlineSelectWidget.findSelectedItem())&&i.getData()!==e&&this.outlineSelectWidget.selectItemByData(e),o&&(s&&(s.setActive(!1),this.autoFocus&&!t.ui.isMobile()&&this.stackLayout.continuous&&0!==t.ui.findFocusable(o.$element).length&&(n=s.$element.find(":focus")).length&&n[0].blur()),this.currentPageName=e,o.setActive(!0),this.stackLayout.setItem(o),!this.stackLayout.continuous&&s&&(n=s.$element.find(":focus")).length&&n[0].blur(),this.emit("set",o)))},t.ui.BookletLayout.prototype.resetScroll=function(){return t.ui.BookletLayout.parent.prototype.resetScroll.call(this),this.outlined&&this.stackLayout.continuous&&this.outlineSelectWidget.findFirstSelectableItem()&&(this.scrolling=!0,this.outlineSelectWidget.selectItem(this.outlineSelectWidget.findFirstSelectableItem()),this.scrolling=!1),this},t.ui.BookletLayout.prototype.selectFirstSelectablePage=function(){return this.outlineSelectWidget.findSelectedItem()||this.outlineSelectWidget.selectItem(this.outlineSelectWidget.findFirstSelectableItem()),this},t.ui.IndexLayout=function(i){i=e.extend({},i,{menuPosition:"top"}),t.ui.IndexLayout.parent.call(this,i),this.currentTabPanelName=null,this.tabPanels=i.tabPanels||{},this.ignoreFocus=!1,this.stackLayout=this.contentPanel||new t.ui.StackLayout({continuous:!!i.continuous,expanded:this.expanded}),this.setContentPanel(this.stackLayout),this.autoFocus=void 0===i.autoFocus||!!i.autoFocus,this.tabSelectWidget=i.tabSelectWidget||new t.ui.TabSelectWidget({framed:void 0===i.framed||i.framed}),this.tabPanel=this.menuPanel||new t.ui.PanelLayout({expanded:this.expanded}),this.setMenuPanel(this.tabPanel),this.toggleMenu(!0),this.stackLayout.connect(this,{set:"onStackLayoutSet"}),this.tabSelectWidget.connect(this,{select:"onTabSelectWidgetSelect"}),this.autoFocus&&this.stackLayout.$element.on("focusin",this.onStackLayoutFocus.bind(this)),this.$element.addClass("oo-ui-indexLayout"),this.stackLayout.$element.addClass("oo-ui-indexLayout-stackLayout"),this.tabPanel.$element.addClass("oo-ui-indexLayout-tabPanel").append(this.tabSelectWidget.$element),this.selectFirstSelectableTabPanel()},t.inheritClass(t.ui.IndexLayout,t.ui.MenuLayout),t.ui.IndexLayout.prototype.onStackLayoutFocus=function(t){var i,n;for(i in n=e(t.target).closest(".oo-ui-tabPanelLayout"),this.tabPanels)if(this.tabPanels[i].$element[0]===n[0]&&i!==this.currentTabPanelName){this.setTabPanel(i);break}},t.ui.IndexLayout.prototype.onStackLayoutSet=function(e){e&&this.autoFocus&&!t.ui.isMobile()&&this.focus()},t.ui.IndexLayout.prototype.focus=function(e){var i,n=this.stackLayout.getItems();(i=void 0!==e&&n[e]?n[e]:this.stackLayout.getCurrentItem())||(this.selectFirstSelectableTabPanel(),i=this.stackLayout.getCurrentItem()),i&&(t.ui.contains(i.$element[0],this.getElementDocument().activeElement,!0)||i.focus())},t.ui.IndexLayout.prototype.focusFirstFocusable=function(){t.ui.findFocusable(this.stackLayout.$element).focus()},t.ui.IndexLayout.prototype.onTabSelectWidgetSelect=function(t){t&&this.setTabPanel(t.getData())},t.ui.IndexLayout.prototype.getClosestTabPanel=function(t){var e,i,n,o=this.stackLayout.getItems(),s=o.indexOf(t);if(-1!==s){if(e=o[s+1],i=o[s-1],n=this.tabSelectWidget.findItemFromData(t.getName()).getLevel(),i&&n===this.tabSelectWidget.findItemFromData(i.getName()).getLevel())return i;if(e&&n===this.tabSelectWidget.findItemFromData(e.getName()).getLevel())return e}return i||e||null},t.ui.IndexLayout.prototype.getTabs=function(){return this.tabSelectWidget},t.ui.IndexLayout.prototype.getTabPanel=function(t){return this.tabPanels[t]},t.ui.IndexLayout.prototype.getCurrentTabPanel=function(){var t=this.getCurrentTabPanelName();return t?this.getTabPanel(t):void 0},t.ui.IndexLayout.prototype.getCurrentTabPanelName=function(){return this.currentTabPanelName},t.ui.IndexLayout.prototype.addTabPanels=function(e,i){var n,o,s,a,r,l,u=this.stackLayout.getItems(),h=[],c=[];for(n=0,o=e.length;n<o;n++)s=(a=e[n]).getName(),Object.prototype.hasOwnProperty.call(this.tabPanels,s)&&(-1!==(l=u.indexOf(this.tabPanels[s]))&&l+1<i&&i--,h.push(this.tabPanels[s]));for(h.length&&this.removeTabPanels(h),n=0,o=e.length;n<o;n++)s=(a=e[n]).getName(),this.tabPanels[a.getName()]=a,r=new t.ui.TabOptionWidget({data:s}),a.setTabItem(r),c.push(r);return c.length&&(this.tabSelectWidget.addItems(c,i),this.selectFirstSelectableTabPanel()),this.stackLayout.addItems(e,i),this.emit("add",e,i),this},t.ui.IndexLayout.prototype.removeTabPanels=function(t){var e,i,n,o,s=[];for(e=0,i=t.length;e<i;e++)n=(o=t[e]).getName(),delete this.tabPanels[n],s.push(this.tabSelectWidget.findItemFromData(n)),o.setTabItem(null);return s.length&&(this.tabSelectWidget.removeItems(s),this.selectFirstSelectableTabPanel()),this.stackLayout.removeItems(t),this.emit("remove",t),this},t.ui.IndexLayout.prototype.clearTabPanels=function(){var t,e,i=this.stackLayout.getItems();for(this.tabPanels={},this.currentTabPanelName=null,this.tabSelectWidget.clearItems(),t=0,e=i.length;t<e;t++)i[t].setTabItem(null);return this.stackLayout.clearItems(),this.emit("remove",i),this},t.ui.IndexLayout.prototype.setTabPanel=function(e){var i,n,o,s=this.tabPanels[e];e!==this.currentTabPanelName&&(o=this.getCurrentTabPanel(),(i=this.tabSelectWidget.findSelectedItem())&&i.getData()!==e&&this.tabSelectWidget.selectItemByData(e),s&&(o&&(o.setActive(!1),this.autoFocus&&!t.ui.isMobile()&&this.stackLayout.continuous&&0!==t.ui.findFocusable(s.$element).length&&(n=o.$element.find(":focus")).length&&n[0].blur()),this.currentTabPanelName=e,s.setActive(!0),this.stackLayout.setItem(s),!this.stackLayout.continuous&&o&&(n=o.$element.find(":focus")).length&&n[0].blur(),this.emit("set",s)))},t.ui.IndexLayout.prototype.selectFirstSelectableTabPanel=function(){return this.tabSelectWidget.findSelectedItem()||this.tabSelectWidget.selectItem(this.tabSelectWidget.findFirstSelectableItem()),this},t.ui.ToggleWidget=function(e){e=e||{},t.ui.ToggleWidget.parent.call(this,e),t.ui.mixin.TitledElement.call(this,e),this.value=null,this.$element.addClass("oo-ui-toggleWidget"),this.setValue(!!e.value)},t.inheritClass(t.ui.ToggleWidget,t.ui.Widget),t.mixinClass(t.ui.ToggleWidget,t.ui.mixin.TitledElement),t.ui.ToggleWidget.prototype.getValue=function(){return this.value},t.ui.ToggleWidget.prototype.setValue=function(t){return t=!!t,this.value!==t&&(this.value=t,this.emit("change",t),this.$element.toggleClass("oo-ui-toggleWidget-on",t),this.$element.toggleClass("oo-ui-toggleWidget-off",!t)),this},t.ui.ToggleButtonWidget=function(i){i=i||{},t.ui.ToggleButtonWidget.parent.call(this,i),t.ui.mixin.ButtonElement.call(this,e.extend({active:this.active},i)),t.ui.mixin.IconElement.call(this,i),t.ui.mixin.IndicatorElement.call(this,i),t.ui.mixin.LabelElement.call(this,i),t.ui.mixin.FlaggedElement.call(this,i),t.ui.mixin.TabIndexedElement.call(this,e.extend({$tabIndexed:this.$button},i)),this.connect(this,{click:"onAction"}),this.$button.append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-toggleButtonWidget").append(this.$button),this.setTitledElement(this.$button)},t.inheritClass(t.ui.ToggleButtonWidget,t.ui.ToggleWidget),t.mixinClass(t.ui.ToggleButtonWidget,t.ui.mixin.ButtonElement),t.mixinClass(t.ui.ToggleButtonWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.ToggleButtonWidget,t.ui.mixin.IndicatorElement),t.mixinClass(t.ui.ToggleButtonWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.ToggleButtonWidget,t.ui.mixin.FlaggedElement),t.mixinClass(t.ui.ToggleButtonWidget,t.ui.mixin.TabIndexedElement),t.ui.ToggleButtonWidget.static.tagName="span",t.ui.ToggleButtonWidget.prototype.onAction=function(){this.setValue(!this.value)},t.ui.ToggleButtonWidget.prototype.setValue=function(e){return(e=!!e)!==this.value&&(this.$button&&this.$button.attr("aria-pressed",e.toString()),this.setActive(e)),t.ui.ToggleButtonWidget.parent.prototype.setValue.call(this,e),this},t.ui.ToggleButtonWidget.prototype.setButtonElement=function(e){this.$button&&this.$button.removeAttr("aria-pressed"),t.ui.mixin.ButtonElement.prototype.setButtonElement.call(this,e),this.$button.attr("aria-pressed",this.value.toString())},t.ui.ToggleSwitchWidget=function(i){t.ui.ToggleSwitchWidget.parent.call(this,i),t.ui.mixin.TabIndexedElement.call(this,i),this.dragging=!1,this.dragStart=null,this.sliding=!1,this.$glow=e("<span>"),this.$grip=e("<span>"),this.$element.on({click:this.onClick.bind(this),keypress:this.onKeyPress.bind(this)}),this.$glow.addClass("oo-ui-toggleSwitchWidget-glow"),this.$grip.addClass("oo-ui-toggleSwitchWidget-grip"),this.$element.addClass("oo-ui-toggleSwitchWidget").attr("role","checkbox").append(this.$glow,this.$grip)},t.inheritClass(t.ui.ToggleSwitchWidget,t.ui.ToggleWidget),t.mixinClass(t.ui.ToggleSwitchWidget,t.ui.mixin.TabIndexedElement),t.ui.ToggleSwitchWidget.prototype.onClick=function(e){return this.isDisabled()||e.which!==t.ui.MouseButtons.LEFT||this.setValue(!this.value),!1},t.ui.ToggleSwitchWidget.prototype.onKeyPress=function(e){if(!this.isDisabled()&&(e.which===t.ui.Keys.SPACE||e.which===t.ui.Keys.ENTER))return this.setValue(!this.value),!1},t.ui.ToggleSwitchWidget.prototype.setValue=function(e){return t.ui.ToggleSwitchWidget.parent.prototype.setValue.call(this,e),this.$element.attr("aria-checked",this.value.toString()),this},t.ui.ToggleSwitchWidget.prototype.simulateLabelClick=function(){this.isDisabled()||this.setValue(!this.value),this.focus()},t.ui.OutlineControlsWidget=function(i,n){t.isPlainObject(i)&&void 0===n&&(i=(n=i).outline),n=n||{},t.ui.OutlineControlsWidget.parent.call(this,n),t.ui.mixin.GroupElement.call(this,n),this.outline=i,this.$movers=e("<div>"),this.upButton=new t.ui.ButtonWidget({framed:!1,icon:"collapse",title:t.ui.msg("ooui-outline-control-move-up")}),this.downButton=new t.ui.ButtonWidget({framed:!1,icon:"expand",title:t.ui.msg("ooui-outline-control-move-down")}),this.removeButton=new t.ui.ButtonWidget({framed:!1,icon:"trash",title:t.ui.msg("ooui-outline-control-remove")}),this.abilities={move:!0,remove:!0},i.connect(this,{select:"onOutlineChange",add:"onOutlineChange",remove:"onOutlineChange"}),this.upButton.connect(this,{click:["emit","move",-1]}),this.downButton.connect(this,{click:["emit","move",1]}),this.removeButton.connect(this,{click:["emit","remove"]}),this.$element.addClass("oo-ui-outlineControlsWidget"),this.$group.addClass("oo-ui-outlineControlsWidget-items"),this.$movers.addClass("oo-ui-outlineControlsWidget-movers").append(this.removeButton.$element,this.upButton.$element,this.downButton.$element),this.$element.append(this.$icon,this.$group,this.$movers),this.setAbilities(n.abilities||{})},t.inheritClass(t.ui.OutlineControlsWidget,t.ui.Widget),t.mixinClass(t.ui.OutlineControlsWidget,t.ui.mixin.GroupElement),t.ui.OutlineControlsWidget.prototype.setAbilities=function(t){var e;for(e in this.abilities)void 0!==t[e]&&(this.abilities[e]=!!t[e]);this.onOutlineChange()},t.ui.OutlineControlsWidget.prototype.onOutlineChange=function(){var t,e,i,n,o=this.outline.getItems(),s=this.outline.findSelectedItem(),a=this.abilities.move&&s&&s.isMovable(),r=this.abilities.remove&&s&&s.isRemovable();if(a){for(t=-1,e=o.length;++t<e;)if(o[t].isMovable()){i=o[t];break}for(t=e;t--;)if(o[t].isMovable()){n=o[t];break}}this.upButton.setDisabled(!a||s===i),this.downButton.setDisabled(!a||s===n),this.removeButton.setDisabled(!r)},t.ui.OutlineOptionWidget=function(e){e=e||{},t.ui.OutlineOptionWidget.parent.call(this,e),this.level=0,this.movable=!!e.movable,this.removable=!!e.removable,this.$element.addClass("oo-ui-outlineOptionWidget"),this.setLevel(e.level)},t.inheritClass(t.ui.OutlineOptionWidget,t.ui.DecoratedOptionWidget),t.ui.OutlineOptionWidget.static.highlightable=!0,t.ui.OutlineOptionWidget.static.scrollIntoViewOnSelect=!0,t.ui.OutlineOptionWidget.static.levelClass="oo-ui-outlineOptionWidget-level-",t.ui.OutlineOptionWidget.static.levels=3,t.ui.OutlineOptionWidget.prototype.isMovable=function(){return this.movable},t.ui.OutlineOptionWidget.prototype.isRemovable=function(){return this.removable},t.ui.OutlineOptionWidget.prototype.getLevel=function(){return this.level},t.ui.OutlineOptionWidget.prototype.setPressed=function(e){return t.ui.OutlineOptionWidget.parent.prototype.setPressed.call(this,e),this},t.ui.OutlineOptionWidget.prototype.setMovable=function(t){return this.movable=!!t,this.updateThemeClasses(),this},t.ui.OutlineOptionWidget.prototype.setRemovable=function(t){return this.removable=!!t,this.updateThemeClasses(),this},t.ui.OutlineOptionWidget.prototype.setSelected=function(e){return t.ui.OutlineOptionWidget.parent.prototype.setSelected.call(this,e),this},t.ui.OutlineOptionWidget.prototype.setLevel=function(t){var e=this.constructor.static.levels,i=this.constructor.static.levelClass,n=e;for(this.level=t?Math.max(0,Math.min(e-1,t)):0;n--;)this.level===n?this.$element.addClass(i+n):this.$element.removeClass(i+n);return this.updateThemeClasses(),this},t.ui.OutlineSelectWidget=function(e){t.ui.OutlineSelectWidget.parent.call(this,e),t.ui.mixin.TabIndexedElement.call(this,e),this.$element.on({focus:this.bindDocumentKeyDownListener.bind(this),blur:this.unbindDocumentKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-outlineSelectWidget")},t.inheritClass(t.ui.OutlineSelectWidget,t.ui.SelectWidget),t.mixinClass(t.ui.OutlineSelectWidget,t.ui.mixin.TabIndexedElement),t.ui.ButtonOptionWidget=function(e){e=e||{},t.ui.ButtonOptionWidget.parent.call(this,e),t.ui.mixin.ButtonElement.call(this,e),t.ui.mixin.IconElement.call(this,e),t.ui.mixin.IndicatorElement.call(this,e),this.$element.addClass("oo-ui-buttonOptionWidget"),this.$button.append(this.$icon,this.$label,this.$indicator),this.$element.append(this.$button),this.setTitledElement(this.$button)},t.inheritClass(t.ui.ButtonOptionWidget,t.ui.OptionWidget),t.mixinClass(t.ui.ButtonOptionWidget,t.ui.mixin.ButtonElement),t.mixinClass(t.ui.ButtonOptionWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.ButtonOptionWidget,t.ui.mixin.IndicatorElement),t.ui.ButtonOptionWidget.static.cancelButtonMouseDownEvents=!1,t.ui.ButtonOptionWidget.static.highlightable=!1,t.ui.ButtonOptionWidget.prototype.setSelected=function(e){return t.ui.ButtonOptionWidget.parent.prototype.setSelected.call(this,e),this.constructor.static.selectable&&this.setActive(e),this},t.ui.ButtonSelectWidget=function(e){t.ui.ButtonSelectWidget.parent.call(this,e),t.ui.mixin.TabIndexedElement.call(this,e),this.$element.on({focus:this.bindDocumentKeyDownListener.bind(this),blur:this.unbindDocumentKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-buttonSelectWidget")},t.inheritClass(t.ui.ButtonSelectWidget,t.ui.SelectWidget),t.mixinClass(t.ui.ButtonSelectWidget,t.ui.mixin.TabIndexedElement),t.ui.TabOptionWidget=function(e){e=e||{},t.ui.TabOptionWidget.parent.call(this,e),this.$element.addClass("oo-ui-tabOptionWidget").attr("role","tab")},t.inheritClass(t.ui.TabOptionWidget,t.ui.OptionWidget),t.ui.TabOptionWidget.static.highlightable=!1,t.ui.TabOptionWidget.static.scrollIntoViewOnSelect=!0,t.ui.TabOptionWidget.prototype.scrollElementIntoView=function(i){var n;return t.ui.isMobile()&&this.getElementGroup()?(n=Math.max((this.getElementGroup().$element[0].clientWidth-this.$element[0].clientWidth)/2,0),t.ui.TabOptionWidget.super.prototype.scrollElementIntoView.call(this,e.extend({padding:{left:n,right:n}},i))):t.ui.TabOptionWidget.super.prototype.scrollElementIntoView.call(this)},t.ui.TabSelectWidget=function(e){t.ui.TabSelectWidget.parent.call(this,e),t.ui.mixin.TabIndexedElement.call(this,e),this.$element.on({focus:this.bindDocumentKeyDownListener.bind(this),blur:this.unbindDocumentKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-tabSelectWidget").attr("role","tablist"),this.toggleFramed(void 0===e.framed||e.framed),t.ui.isMobile()&&this.$element.addClass("oo-ui-tabSelectWidget-mobile")},t.inheritClass(t.ui.TabSelectWidget,t.ui.SelectWidget),t.mixinClass(t.ui.TabSelectWidget,t.ui.mixin.TabIndexedElement),t.ui.TabSelectWidget.prototype.isFramed=function(){return this.framed},t.ui.TabSelectWidget.prototype.toggleFramed=function(t){return(t=void 0===t?!this.framed:!!t)!==this.framed&&(this.framed=t,this.$element.toggleClass("oo-ui-tabSelectWidget-frameless",!t).toggleClass("oo-ui-tabSelectWidget-framed",t)),this},t.ui.TagItemWidget=function(e){e=e||{},t.ui.TagItemWidget.parent.call(this,e),t.ui.mixin.ItemWidget.call(this),t.ui.mixin.LabelElement.call(this,e),t.ui.mixin.FlaggedElement.call(this,e),t.ui.mixin.TabIndexedElement.call(this,e),t.ui.mixin.DraggableElement.call(this,e),this.valid=void 0===e.valid||!!e.valid,this.fixed=!!e.fixed,this.closeButton=new t.ui.ButtonWidget({framed:!1,icon:"close",tabIndex:-1,title:t.ui.msg("ooui-item-remove")}),this.closeButton.setDisabled(this.isDisabled()),this.closeButton.connect(this,{click:"remove"}),this.$element.on("click",this.select.bind(this)).on("keydown",this.onKeyDown.bind(this)).on("mousedown",(function(t){t.stopPropagation()})),this.$element.addClass("oo-ui-tagItemWidget").append(this.$label,this.closeButton.$element)},t.inheritClass(t.ui.TagItemWidget,t.ui.Widget),t.mixinClass(t.ui.TagItemWidget,t.ui.mixin.ItemWidget),t.mixinClass(t.ui.TagItemWidget,t.ui.mixin.LabelElement),t.mixinClass(t.ui.TagItemWidget,t.ui.mixin.FlaggedElement),t.mixinClass(t.ui.TagItemWidget,t.ui.mixin.TabIndexedElement),t.mixinClass(t.ui.TagItemWidget,t.ui.mixin.DraggableElement),t.ui.TagItemWidget.prototype.setFixed=function(t){return t=void 0===t?!this.fixed:!!t,this.fixed!==t&&(this.fixed=t,this.closeButton&&this.closeButton.toggle(!this.fixed),this.fixed||!this.elementGroup||this.elementGroup.isDraggable()||this.toggleDraggable(!this.fixed),this.$element.toggleClass("oo-ui-tagItemWidget-fixed",this.fixed),this.emit("fixed",this.isFixed())),this},t.ui.TagItemWidget.prototype.isFixed=function(){return this.fixed},t.ui.TagItemWidget.prototype.setDisabled=function(e){return e&&this.elementGroup&&!this.elementGroup.isDisabled()&&t.ui.warnDeprecation("TagItemWidget#setDisabled: Disabling individual items is deprecated and will result in inconsistent behavior. Use #setFixed instead. See T193571."),t.ui.TagItemWidget.parent.prototype.setDisabled.call(this,e),e||!this.toggleDraggable||!this.elementGroup||this.isFixed()||this.elementGroup.isDraggable()||this.toggleDraggable(!e),this.closeButton&&this.closeButton.setDisabled(e),this},t.ui.TagItemWidget.prototype.remove=function(){this.isDisabled()||this.isFixed()||this.emit("remove")},t.ui.TagItemWidget.prototype.onKeyDown=function(e){var i;return this.isDisabled()||this.isFixed()||e.keyCode!==t.ui.Keys.BACKSPACE&&e.keyCode!==t.ui.Keys.DELETE?e.keyCode===t.ui.Keys.ENTER?(this.select(),!1):e.keyCode===t.ui.Keys.LEFT||e.keyCode===t.ui.Keys.RIGHT?(i="rtl"===t.ui.Element.static.getDir(this.$element)?{left:"forwards",right:"backwards"}:{left:"backwards",right:"forwards"},this.emit("navigate",e.keyCode===t.ui.Keys.LEFT?i.left:i.right),!1):void 0:(this.remove(),!1)},t.ui.TagItemWidget.prototype.select=function(){this.isDisabled()||this.emit("select")},t.ui.TagItemWidget.prototype.toggleValid=function(t){t=void 0===t?!this.valid:!!t,this.valid!==t&&(this.valid=t,this.setFlags({invalid:!this.valid}),this.emit("valid",this.valid))},t.ui.TagItemWidget.prototype.isValid=function(){return this.valid},t.ui.TagMultiselectWidget=function(i){var n,o=window.requestAnimationFrame||setTimeout,s=this,a=e("<span>").addClass("oo-ui-tagMultiselectWidget-focusTrap");i=i||{},t.ui.TagMultiselectWidget.parent.call(this,i),t.ui.mixin.GroupWidget.call(this,i),t.ui.mixin.IndicatorElement.call(this,i),t.ui.mixin.IconElement.call(this,i),t.ui.mixin.TabIndexedElement.call(this,i),t.ui.mixin.FlaggedElement.call(this,i),t.ui.mixin.DraggableGroupElement.call(this,i),t.ui.mixin.TitledElement.call(this,i),this.toggleDraggable(void 0===i.allowReordering||!!i.allowReordering),this.inputPosition=this.constructor.static.allowedInputPositions.indexOf(i.inputPosition)>-1?i.inputPosition:"inline",this.allowEditTags=void 0===i.allowEditTags||!!i.allowEditTags,this.allowArbitrary=!!i.allowArbitrary,this.allowDuplicates=!!i.allowDuplicates,this.allowedValues=i.allowedValues||[],this.allowDisplayInvalidTags=i.allowDisplayInvalidTags,this.hasInput="none"!==this.inputPosition,this.tagLimit=i.tagLimit,this.height=null,this.valid=!0,this.$content=e("<div>").addClass("oo-ui-tagMultiselectWidget-content"),this.$handle=e("<div>").addClass("oo-ui-tagMultiselectWidget-handle").append(this.$indicator,this.$icon,this.$content.append(this.$group.addClass("oo-ui-tagMultiselectWidget-group"))),this.aggregate({remove:"itemRemove",navigate:"itemNavigate",select:"itemSelect",fixed:"itemFixed"}),this.connect(this,{itemRemove:"onTagRemove",itemSelect:"onTagSelect",itemFixed:"onTagFixed",itemNavigate:"onTagNavigate",change:"onChangeTags"}),this.$handle.on({mousedown:this.onMouseDown.bind(this)}),this.$element.addClass("oo-ui-tagMultiselectWidget").append(this.$handle),this.hasInput?(i.inputWidget?this.input=i.inputWidget:this.input=new t.ui.TextInputWidget(e.extend({placeholder:i.placeholder,classes:["oo-ui-tagMultiselectWidget-input"]},i.input)),this.input.setDisabled(this.isDisabled()),n={focus:this.onInputFocus.bind(this),blur:this.onInputBlur.bind(this),"propertychange change click mouseup keydown keyup input cut paste select focus":t.ui.debounce(this.updateInputSize.bind(this)),keydown:this.onInputKeyDown.bind(this),keypress:this.onInputKeyPress.bind(this)},this.input.$input.on(n),this.inputPlaceholder=this.input.$input.attr("placeholder"),"outline"===this.inputPosition?(this.input.$element.css("max-width","inherit"),this.$element.addClass("oo-ui-tagMultiselectWidget-outlined").append(this.input.$element)):(this.$element.addClass("oo-ui-tagMultiselectWidget-inlined"),this.$content.append(this.input.$input))):this.$content.append(a),this.setTabIndexedElement(this.hasInput?this.input.$input:a),i.selected&&this.setValue(i.selected),o((function(){s.hasInput&&s.updateInputSize()}))},t.inheritClass(t.ui.TagMultiselectWidget,t.ui.Widget),t.mixinClass(t.ui.TagMultiselectWidget,t.ui.mixin.GroupWidget),t.mixinClass(t.ui.TagMultiselectWidget,t.ui.mixin.DraggableGroupElement),t.mixinClass(t.ui.TagMultiselectWidget,t.ui.mixin.IndicatorElement),t.mixinClass(t.ui.TagMultiselectWidget,t.ui.mixin.IconElement),t.mixinClass(t.ui.TagMultiselectWidget,t.ui.mixin.TabIndexedElement),t.mixinClass(t.ui.TagMultiselectWidget,t.ui.mixin.FlaggedElement),t.mixinClass(t.ui.TagMultiselectWidget,t.ui.mixin.TitledElement),t.ui.TagMultiselectWidget.static.allowedInputPositions=["inline","outline","none"],t.ui.TagMultiselectWidget.prototype.onMouseDown=function(e){if(!(this.isDisabled()||this.hasInput&&e.target===this.input.$input[0]||e.which!==t.ui.MouseButtons.LEFT))return this.focus(),!1},t.ui.TagMultiselectWidget.prototype.onInputKeyPress=function(e){var i,n=e.metaKey||e.ctrlKey;if(!this.isDisabled())return e.which===t.ui.Keys.ENTER&&(i=this.doInputEnter(e,n)),setTimeout(this.updateInputSize.bind(this),0),i},t.ui.TagMultiselectWidget.prototype.onInputKeyDown=function(e){var i,n,o=this,s=e.metaKey||e.ctrlKey;if(!this.isDisabled()){if(e.keyCode===t.ui.Keys.BACKSPACE)return this.doInputBackspace(e,s);if(e.keyCode===t.ui.Keys.ESCAPE)return this.doInputEscape(e);if(!(e.keyCode!==t.ui.Keys.LEFT&&e.keyCode!==t.ui.Keys.RIGHT||(i="rtl"===t.ui.Element.static.getDir(this.$element)?{left:"forwards",right:"backwards"}:{left:"backwards",right:"forwards"},n=e.keyCode===t.ui.Keys.LEFT?i.left:i.right,this.hasInput&&function(t){var e=o.input.getRange(),i=o.hasInput&&o.input.getValue();return!("forwards"===t&&e.to>i.length-1)&&!("backwards"===t&&e.from<=0)}(n))))return this.doInputArrow(e,n,s)}},t.ui.TagMultiselectWidget.prototype.onInputFocus=function(){this.$element.addClass("oo-ui-tagMultiselectWidget-focus"),this.toggleValid(!0)},t.ui.TagMultiselectWidget.prototype.onInputBlur=function(){this.$element.removeClass("oo-ui-tagMultiselectWidget-focus"),this.addTagFromInput(),this.toggleValid(this.checkValidity()&&(!this.hasInput||!this.input.getValue()))},t.ui.TagMultiselectWidget.prototype.doInputEnter=function(){return this.addTagFromInput(),!1},t.ui.TagMultiselectWidget.prototype.doInputBackspace=function(t,e){var i,n;if("inline"===this.inputPosition&&""===this.input.getValue()&&!this.isEmpty())return(n=(i=this.getItems())[i.length-1]).isDisabled()||n.isFixed()||(this.removeItems([n]),e||this.input.setValue(n.getLabel())),!1},t.ui.TagMultiselectWidget.prototype.doInputEscape=function(){this.clearInput()},t.ui.TagMultiselectWidget.prototype.doInputArrow=function(t,e){"inline"!==this.inputPosition||this.isEmpty()||"backwards"!==e||this.getPreviousItem().focus()},t.ui.TagMultiselectWidget.prototype.onTagSelect=function(t){this.hasInput&&this.allowEditTags&&!t.isFixed()&&(this.input.getValue()&&this.addTagFromInput(),this.input.setValue(t.getLabel()),this.removeItems([t]),this.focus())},t.ui.TagMultiselectWidget.prototype.onTagFixed=function(t){var e,i=this.getItems();for(e=0;e<i.length&&(i[e]===t||i[e].isFixed());e++);this.addItems(t,e)},t.ui.TagMultiselectWidget.prototype.onChangeTags=function(){var t=this.isUnderLimit();this.toggleValid(this.checkValidity()&&!(this.hasInput&&this.input.getValue())),this.hasInput&&(this.updateInputSize(),t||this.input.setValue(""),"outline"===this.inputPosition?(this.input.$input.attr("placeholder",t?this.inputPlaceholder:""),this.input.setDisabled(!t)):this.input.$input.toggleClass("oo-ui-element-hidden",!t)),this.updateIfHeightChanged()},t.ui.TagMultiselectWidget.prototype.setDisabled=function(e){t.ui.TagMultiselectWidget.parent.prototype.setDisabled.call(this,e),this.hasInput&&this.input&&(e||this.updateInputSize(),this.input.setDisabled(!!e&&!this.isUnderLimit())),this.items&&this.getItems().forEach((function(t){t.setDisabled(!!e)}))},t.ui.TagMultiselectWidget.prototype.onTagRemove=function(t){this.removeTagByData(t.getData())},t.ui.TagMultiselectWidget.prototype.onTagNavigate=function(t,e){var i=this.getItems()[0];"forwards"===e?this.getNextItem(t).focus():"inline"!==!this.inputPosition&&t===i||this.getPreviousItem(t).focus()},t.ui.TagMultiselectWidget.prototype.addTagFromInput=function(){var t=this.input.getValue(),e=this.isAllowedData(t);t&&(e||this.allowDisplayInvalidTags)&&(this.clearInput(),this.addTag(t))},t.ui.TagMultiselectWidget.prototype.clearInput=function(){this.input.setValue("")},t.ui.TagMultiselectWidget.prototype.isDuplicateData=function(t){return!!this.findItemFromData(t)},t.ui.TagMultiselectWidget.prototype.isAllowedData=function(t){return!(!this.allowDuplicates&&this.isDuplicateData(t))&&(!!this.allowArbitrary||!!this.getAllowedValues().some((function(e){return t===e})))},t.ui.TagMultiselectWidget.prototype.getAllowedValues=function(){return this.allowedValues},t.ui.TagMultiselectWidget.prototype.addAllowedValue=function(t){-1===this.allowedValues.indexOf(t)&&this.allowedValues.push(t)},t.ui.TagMultiselectWidget.prototype.getValue=function(){return this.getItems().filter((function(t){return t.isValid()})).map((function(t){return t.getData()}))},t.ui.TagMultiselectWidget.prototype.setValue=function(t){t=Array.isArray(t)?t:[t],this.clearItems(),t.forEach(function(t){"string"==typeof t?this.addTag(t):this.addTag(t.data,t.label)}.bind(this))},t.ui.TagMultiselectWidget.prototype.addTag=function(t,e){var i,n=this.isAllowedData(t);return!(!this.isUnderLimit()||!n&&!this.allowDisplayInvalidTags)&&((i=this.createTagItemWidget(t,e)).toggleValid(n),this.addItems([i]),!0)},t.ui.TagMultiselectWidget.prototype.isUnderLimit=function(){return!this.tagLimit||this.getItemCount()<this.tagLimit},t.ui.TagMultiselectWidget.prototype.removeTagByData=function(t){var e=this.findItemFromData(t);this.removeItems([e])},t.ui.TagMultiselectWidget.prototype.createTagItemWidget=function(e,i){return i=i||e,new t.ui.TagItemWidget({data:e,label:i})},t.ui.TagMultiselectWidget.prototype.getNextItem=function(t){var e=this.items.indexOf(t);return void 0===t||-1===e?this.items[0]:e===this.items.length-1?this.hasInput?this.input:this.items[0]:this.items[e+1]},t.ui.TagMultiselectWidget.prototype.getPreviousItem=function(t){var e=this.items.indexOf(t);return void 0===t||-1===e?this.items[this.items.length-1]:0===e?this.hasInput?this.input:this.items[this.items.length-1]:this.items[e-1]},t.ui.TagMultiselectWidget.prototype.updateInputSize=function(){var e,i,n,o;if("inline"!==this.inputPosition||this.isDisabled())this.updateIfHeightChanged();else{if(0===this.input.$input[0].scrollWidth)return;if(this.input.$input.css("width","1em"),e=this.$group.children().last(),i=t.ui.Element.static.getDir(this.$handle),void 0===this.contentWidthWithPlaceholder&&""===this.input.getValue()&&void 0!==this.input.$input.attr("placeholder")&&(this.input.setValue(this.input.$input.attr("placeholder")),this.contentWidthWithPlaceholder=this.input.$input[0].scrollWidth,this.input.setValue("")),(n=Math.max(this.input.$input[0].scrollWidth,void 0===this.contentWidthWithPlaceholder?0:this.contentWidthWithPlaceholder))<this.input.$input.width())return void this.updateIfHeightChanged();o=0===e.length?this.$content.innerWidth():"ltr"===i?this.$content.innerWidth()-e.position().left-e.outerWidth():e.position().left,n>(o-=13)&&(o=this.$content.innerWidth()-13),this.input.$input.width(Math.floor(o)),this.updateIfHeightChanged()}},t.ui.TagMultiselectWidget.prototype.updateIfHeightChanged=function(){var t=this.$element.height();t!==this.height&&(this.height=t,this.emit("resize"))},t.ui.TagMultiselectWidget.prototype.checkValidity=function(){return this.getItems().every((function(t){return t.isValid()}))},t.ui.TagMultiselectWidget.prototype.toggleValid=function(t){t=void 0===t?!this.valid:!!t,this.valid!==t&&(this.valid=t,this.setFlags({invalid:!this.valid}),this.emit("valid",this.valid))},t.ui.TagMultiselectWidget.prototype.isValid=function(){return this.valid},t.ui.PopupTagMultiselectWidget=function(i){var n,o={popup:{}};i=i||{},t.ui.PopupTagMultiselectWidget.parent.call(this,e.extend({inputPosition:"none"},i)),this.$overlay=(!0===i.$overlay?t.ui.getDefaultOverlay():i.$overlay)||this.$element,i.popup||(n=new t.ui.TextInputWidget,o.popupInput=n,o.popup.$content=n.$element,o.popup.padded=!0,this.$element.addClass("oo-ui-popupTagMultiselectWidget-defaultPopup")),o.popup.$overlay=this.$overlay,o.popup.$autoCloseIgnore=this.hasInput?this.input.$element.add(this.$overlay):this.$overlay,i=e.extend(o,i),t.ui.mixin.PopupElement.call(this,i),this.hasInput&&this.input.$input.on("focus",this.popup.toggle.bind(this.popup,!0)),this.popupInput=i.popupInput,this.popupInput&&this.popupInput.connect(this,{enter:"onPopupInputEnter"}),this.on("resize",this.popup.updateDimensions.bind(this.popup)),this.popup.connect(this,{toggle:"onPopupToggle"}),this.$tabIndexed.on("focus",this.onFocus.bind(this)),this.$element.append(this.popup.$element).addClass("oo-ui-popupTagMultiselectWidget"),t.ui.warnDeprecation("PopupTagMultiselectWidget: Deprecated widget. Use MenuTagMultiselectWidget instead. See T208821.")},t.inheritClass(t.ui.PopupTagMultiselectWidget,t.ui.TagMultiselectWidget),t.mixinClass(t.ui.PopupTagMultiselectWidget,t.ui.mixin.PopupElement),t.ui.PopupTagMultiselectWidget.prototype.onFocus=function(){this.popup.toggle(!0)},t.ui.PopupTagMultiselectWidget.prototype.onPopupToggle=function(t){t&&this.popupInput&&this.popupInput.focus()},t.ui.PopupTagMultiselectWidget.prototype.onPopupInputEnter=function(){this.popupInput&&(this.addTagByPopupValue(this.popupInput.getValue()),this.popupInput.setValue(""))},t.ui.PopupTagMultiselectWidget.prototype.onTagSelect=function(e){this.popupInput&&this.allowEditTags?(this.popupInput.setValue(e.getData()),this.removeItems([e]),this.popup.toggle(!0),this.popupInput.focus()):t.ui.PopupTagMultiselectWidget.parent.prototype.onTagSelect.call(this,e)},t.ui.PopupTagMultiselectWidget.prototype.addTagByPopupValue=function(t,e){this.addTag(t,e)},t.ui.MenuTagMultiselectWidget=function(i){var n=e([]);i=i||{},t.ui.MenuTagMultiselectWidget.parent.call(this,i),n=n.add(this.$group),this.hasInput&&(n=n.add(this.input.$element)),this.$overlay=(!0===i.$overlay?t.ui.getDefaultOverlay():i.$overlay)||this.$element,this.clearInputOnChoose=void 0===i.clearInputOnChoose||!!i.clearInputOnChoose,this.menu=this.createMenuWidget(e.extend({widget:this,hideOnChoose:!1,input:this.hasInput?this.input:null,$input:this.hasInput?this.input.$input:null,filterFromInput:!!this.hasInput,highlightOnFilter:!this.allowArbitrary,multiselect:!0,$autoCloseIgnore:n,$floatableContainer:this.hasInput&&"outline"===this.inputPosition?this.input.$element:this.$element,$overlay:this.$overlay,disabled:this.isDisabled()},i.menu)),this.addOptions(i.options||[]),this.menu.connect(this,{choose:"onMenuChoose",toggle:"onMenuToggle"}),this.hasInput&&this.input.connect(this,{change:"onInputChange"}),this.connect(this,{resize:"onResize"}),this.$overlay.append(this.menu.$element),this.$element.addClass("oo-ui-menuTagMultiselectWidget"),this.menu.$focusOwner.removeAttr("aria-expanded"),i.selected&&this.setValue(i.selected)},t.inheritClass(t.ui.MenuTagMultiselectWidget,t.ui.TagMultiselectWidget),t.ui.MenuTagMultiselectWidget.prototype.onResize=function(){this.menu.position()},t.ui.MenuTagMultiselectWidget.prototype.onInputFocus=function(){t.ui.MenuTagMultiselectWidget.parent.prototype.onInputFocus.call(this),this.menu.toggle(!0)},t.ui.MenuTagMultiselectWidget.prototype.onInputChange=function(){this.menu.toggle(!0)},t.ui.MenuTagMultiselectWidget.prototype.onMenuChoose=function(t,e){this.hasInput&&this.clearInputOnChoose&&this.input.setValue(""),e&&!this.findItemFromData(t.getData())?this.addTag(t.getData(),t.getLabel()):this.removeTagByData(t.getData())},t.ui.MenuTagMultiselectWidget.prototype.onMenuToggle=function(t){t||(this.menu.highlightItem(null),this.menu.scrollToTop()),setTimeout(function(){this.menu.$focusOwner.removeAttr("aria-expanded")}.bind(this))},t.ui.MenuTagMultiselectWidget.prototype.onTagSelect=function(e){var i=this.menu.findItemFromData(e.getData());this.allowArbitrary?t.ui.MenuTagMultiselectWidget.parent.prototype.onTagSelect.call(this,e):(this.hasInput&&this.menu.filterFromInput&&this.input.setValue(""),this.focus(),this.menu.highlightItem(i),this.menu.scrollItemIntoView(i))},t.ui.MenuTagMultiselectWidget.prototype.removeItems=function(e){var i=this;t.ui.MenuTagMultiselectWidget.parent.prototype.removeItems.call(this,e),e.forEach((function(t){var e=i.menu.findItemFromData(t.getData());e&&i.menu.unselectItem(e)}))},t.ui.MenuTagMultiselectWidget.prototype.setValue=function(t){t=Array.isArray(t)?t:[t],this.menu&&(this.clearItems(),t.forEach(function(t){var e,i,n;"string"==typeof t?e=i=t:(e=t.data,i=t.label),(n=this.menu.getItemFromLabel(i)||this.menu.findItemFromData(e))?(this.addTag(n.getData(),n.getLabel()),this.menu.selectItem(n)):this.allowArbitrary&&this.addTag(e,i)}.bind(this)))},t.ui.MenuTagMultiselectWidget.prototype.setDisabled=function(e){t.ui.MenuTagMultiselectWidget.parent.prototype.setDisabled.call(this,e),this.menu&&this.menu.setDisabled(e)},t.ui.MenuTagMultiselectWidget.prototype.initializeMenuSelection=function(){var t;this.menu.highlightItem(this.allowArbitrary?null:this.menu.findFirstSelectableItem()),(t=this.menu.findHighlightedItem())&&this.menu.scrollItemIntoView(t)},t.ui.MenuTagMultiselectWidget.prototype.addTagFromInput=function(){var t=this.input.getValue(),e=this.menu.findHighlightedItem()||this.menu.findItemFromData(t),i=e?e.getData():t,n=this.isAllowedData(i);t&&(n||this.allowDisplayInvalidTags)&&(this.clearInput(),e?this.addTag(i,e.getLabel()):this.addTag(t))},t.ui.MenuTagMultiselectWidget.prototype.getMenuVisibleItems=function(){return this.menu.getItems().filter((function(t){return t.isVisible()}))},t.ui.MenuTagMultiselectWidget.prototype.createMenuWidget=function(e){return new t.ui.MenuSelectWidget(e)},t.ui.MenuTagMultiselectWidget.prototype.addOptions=function(t){var e=this,i=t.map((function(t){return e.createMenuOptionWidget(t.data,t.label,t.icon)}));this.menu.addItems(i)},t.ui.MenuTagMultiselectWidget.prototype.createMenuOptionWidget=function(e,i,n){return new t.ui.MenuOptionWidget({data:e,label:i||e,icon:n})},t.ui.MenuTagMultiselectWidget.prototype.getMenu=function(){return this.menu},t.ui.MenuTagMultiselectWidget.prototype.getAllowedValues=function(){var t=[];return this.menu&&(t=this.menu.getItems().map((function(t){return t.getData()}))),this.allowedValues.concat(t)},t.ui.SelectFileWidget=function(i){var n,o,s=this.constructor.static.isSupported();i=e.extend({notsupported:t.ui.msg("ooui-selectfile-not-supported"),droppable:!0,buttonOnly:!1,showDropTarget:!1,thumbnailSizeLimit:20},i),s||(i.disabled=!0),t.ui.SelectFileWidget.parent.call(this,i),t.ui.mixin.PendingElement.call(this),s||this.info.setValue(i.notsupported),o=i.droppable&&s,this.showDropTarget=o&&i.showDropTarget&&!this.multiple,this.thumbnailSizeLimit=i.thumbnailSizeLimit,this.showDropTarget?(this.selectButton.setIcon("upload"),this.$thumbnail=e("<div>").addClass("oo-ui-selectFileWidget-thumbnail"),this.setPendingElement(this.$thumbnail),this.$element.addClass("oo-ui-selectFileWidget-dropTarget").on({click:this.onDropTargetClick.bind(this)}).append(this.$thumbnail,this.info.$element,this.selectButton.$element,e("<span>").addClass("oo-ui-selectFileWidget-dropLabel").text(t.ui.msg("ooui-selectfile-dragdrop-placeholder"))),this.fieldLayout.$element.remove()):i.buttonOnly&&(this.selectButton.$element.addClass(this.$element.attr("class")).addClass("oo-ui-selectFileWidget-buttonOnly"),this.$element=this.selectButton.$element),o&&(n=this.onDragEnterOrOver.bind(this),this.$element.on({dragenter:n,dragover:n,dragleave:this.onDragLeave.bind(this),drop:this.onDrop.bind(this)})),this.$input.on("click",(function(t){t.stopPropagation()})),this.$element.addClass("oo-ui-selectFileWidget"),this.updateUI()},t.inheritClass(t.ui.SelectFileWidget,t.ui.SelectFileInputWidget),t.mixinClass(t.ui.SelectFileWidget,t.ui.mixin.PendingElement),t.ui.SelectFileWidget.static.isSupported=function(){var i;return null===t.ui.SelectFileWidget.static.isSupportedCache&&(i=e("<input>").attr("type","file"),t.ui.SelectFileWidget.static.isSupportedCache=void 0!==i[0].files),t.ui.SelectFileWidget.static.isSupportedCache},t.ui.SelectFileWidget.static.isSupportedCache=null,t.ui.SelectFileWidget.prototype.getValue=function(){return this.multiple?this.currentFiles:this.currentFiles[0]},t.ui.SelectFileWidget.prototype.setValue=function(i){function n(t){return e.extend({},t)}i&&!this.multiple&&(i=i.slice(0,1)),t.compare(i&&i.map(n),this.currentFiles&&this.currentFiles.map(n))||(this.currentFiles=i||[],this.emit("change",this.currentFiles))},t.ui.SelectFileWidget.prototype.getFilename=function(){return this.currentFiles.map((function(t){return t.name})).join(", ")},t.ui.SelectFileWidget.prototype.onEdit=function(){},t.ui.SelectFileWidget.prototype.updateUI=function(){this.selectButton&&this.constructor.static.isSupported()&&(t.ui.SelectFileWidget.super.prototype.updateUI.call(this),this.currentFiles.length?(this.$element.removeClass("oo-ui-selectFileInputWidget-empty"),this.showDropTarget&&(this.pushPending(),this.loadAndGetImageUrl(this.currentFiles[0]).done(function(t){this.$thumbnail.css("background-image","url( "+t+" )")}.bind(this)).fail(function(){this.$thumbnail.append(new t.ui.IconWidget({icon:"attachment",classes:["oo-ui-selectFileWidget-noThumbnail-icon"]}).$element)}.bind(this)).always(function(){this.popPending()}.bind(this)),this.$element.off("click"))):(this.showDropTarget&&(this.$element.off("click"),this.$element.on({click:this.onDropTargetClick.bind(this)}),this.$thumbnail.empty().css("background-image","")),this.$element.addClass("oo-ui-selectFileInputWidget-empty")))},t.ui.SelectFileWidget.prototype.loadAndGetImageUrl=function(i){var n=e.Deferred(),o=new FileReader;return 0===(t.getProp(i,"type")||"").indexOf("image/")&&i.size<1024*this.thumbnailSizeLimit*1024?(o.onload=function(t){var e=document.createElement("img");e.addEventListener("load",(function(){0===e.naturalWidth||0===e.naturalHeight||!1===e.complete?n.reject():n.resolve(t.target.result)})),e.src=t.target.result},o.readAsDataURL(i)):n.reject(),n.promise()},t.ui.SelectFileWidget.prototype.onFileSelected=function(t){var e;this.inputClearing||(e=this.filterFiles(t.target.files||[]),this.inputClearing=!0,this.$input[0].value="",this.inputClearing=!1,this.setValue(e))},t.ui.SelectFileWidget.prototype.onDropTargetClick=function(){if(!this.isDisabled()&&this.$input)return this.$input.trigger("click"),!1},t.ui.SelectFileWidget.prototype.onDragEnterOrOver=function(e){var i,n=!1,o=e.originalEvent.dataTransfer;return e.preventDefault(),e.stopPropagation(),this.isDisabled()?(this.$element.removeClass("oo-ui-selectFileWidget-canDrop"),o.dropEffect="none",!1):((i=o.items||o.files)&&i.length?this.filterFiles(i).length&&(n=!0):-1!==Array.prototype.indexOf.call(t.getProp(o,"types")||[],"Files")&&(n=!0),this.$element.toggleClass("oo-ui-selectFileWidget-canDrop",n),n||(o.dropEffect="none"),!1)},t.ui.SelectFileWidget.prototype.onDragLeave=function(){this.$element.removeClass("oo-ui-selectFileWidget-canDrop")},t.ui.SelectFileWidget.prototype.onDrop=function(t){var e,i=t.originalEvent.dataTransfer;return t.preventDefault(),t.stopPropagation(),this.$element.removeClass("oo-ui-selectFileWidget-canDrop"),this.isDisabled()||(e=this.filterFiles(i.files||[]),this.setValue(e)),!1},t.ui.SelectFileWidget.prototype.setDisabled=function(e){e=e||!this.constructor.static.isSupported(),t.ui.SelectFileWidget.parent.prototype.setDisabled.call(this,e)},t.ui.SearchWidget=function(i){i=i||{},t.ui.SearchWidget.parent.call(this,i),this.query=new t.ui.TextInputWidget({icon:"search",placeholder:i.placeholder,value:i.value}),this.results=new t.ui.SelectWidget,this.$query=e("<div>"),this.$results=e("<div>"),this.query.connect(this,{change:"onQueryChange",enter:"onQueryEnter"}),this.query.$input.on("keydown",this.onQueryKeydown.bind(this)),this.$query.addClass("oo-ui-searchWidget-query").append(this.query.$element),this.$results.addClass("oo-ui-searchWidget-results").append(this.results.$element),this.$element.addClass("oo-ui-searchWidget").append(this.$results,this.$query)},t.inheritClass(t.ui.SearchWidget,t.ui.Widget),t.ui.SearchWidget.prototype.onQueryKeydown=function(e){var i,n,o=e.which===t.ui.Keys.DOWN?1:e.which===t.ui.Keys.UP?-1:0;o&&((i=this.results.findHighlightedItem())||(i=this.results.findSelectedItem()),n=this.results.findRelativeSelectableItem(i,o),this.results.highlightItem(n),n.scrollElementIntoView())},t.ui.SearchWidget.prototype.onQueryChange=function(){this.results.clearItems()},t.ui.SearchWidget.prototype.onQueryEnter=function(){var t=this.results.findHighlightedItem();t&&this.results.chooseItem(t)},t.ui.SearchWidget.prototype.getQuery=function(){return this.query},t.ui.SearchWidget.prototype.getResults=function(){return this.results}}(t),
/*!
 * OOUI v0.33.4
 * https://www.mediawiki.org/wiki/OOUI
 *
 * Copyright 2011–2019 OOUI Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2019-07-23T03:23:32Z
 */
function(t){"use strict";t.ui.Toolbar=function(i,n,o){t.isPlainObject(i)&&void 0===o&&(i=(o=i).toolFactory,n=o.toolGroupFactory),o=o||{},t.ui.Toolbar.parent.call(this,o),t.EventEmitter.call(this),t.ui.mixin.GroupElement.call(this,o),this.toolFactory=i,this.toolGroupFactory=n,this.groupsByName={},this.activeToolGroups=0,this.tools={},this.position=o.position||"top",this.$bar=e("<div>"),this.$actions=e("<div>"),this.$popups=e("<div>"),this.initialized=!1,this.narrowThreshold=null,this.onWindowResizeHandler=this.onWindowResize.bind(this),this.$overlay=(!0===o.$overlay?t.ui.getDefaultOverlay():o.$overlay)||this.$element,this.$element.add(this.$bar).add(this.$group).add(this.$actions).on("mousedown keydown",this.onPointerDown.bind(this)),this.$group.addClass("oo-ui-toolbar-tools"),o.actions&&this.$bar.append(this.$actions.addClass("oo-ui-toolbar-actions")),this.$popups.addClass("oo-ui-toolbar-popups"),this.$bar.addClass("oo-ui-toolbar-bar").append(this.$group,'<div style="clear:both"></div>'),this.$element.addClass("oo-ui-toolbar oo-ui-toolbar-position-"+this.position).append(this.$bar),this.$overlay.append(this.$popups)},t.inheritClass(t.ui.Toolbar,t.ui.Element),t.mixinClass(t.ui.Toolbar,t.EventEmitter),t.mixinClass(t.ui.Toolbar,t.ui.mixin.GroupElement),t.ui.Toolbar.prototype.getToolFactory=function(){return this.toolFactory},t.ui.Toolbar.prototype.getToolGroupFactory=function(){return this.toolGroupFactory},t.ui.Toolbar.prototype.onPointerDown=function(t){var i=e(t.target).closest(".oo-ui-widget"),n=this.$element.closest(".oo-ui-widget");if(!i.length||i[0]===n[0])return!1},t.ui.Toolbar.prototype.onWindowResize=function(){this.$element.add(this.$popups).toggleClass("oo-ui-toolbar-narrow",this.$bar[0].clientWidth<=this.getNarrowThreshold())},t.ui.Toolbar.prototype.getNarrowThreshold=function(){return null===this.narrowThreshold&&(this.narrowThreshold=this.$group[0].offsetWidth+this.$actions[0].offsetWidth),this.narrowThreshold},t.ui.Toolbar.prototype.initialize=function(){this.initialized||(this.initialized=!0,e(this.getElementWindow()).on("resize",this.onWindowResizeHandler),this.onWindowResize())},t.ui.Toolbar.prototype.setup=function(e){var i,n,o,s,a,r=[];for(this.reset(),i=0,n=e.length;i<n;i++)"*"===(a=e[i]).include&&(void 0===a.type&&(a.type="list"),void 0===a.label&&(a.label=t.ui.msg("ooui-toolbar-more"))),o=this.getToolGroupFactory().lookup(a.type)?a.type:"bar",s=this.getToolGroupFactory().create(o,this,a),r.push(s),this.groupsByName[a.name]=s,s.connect(this,{active:"onToolGroupActive"});this.addItems(r)},t.ui.Toolbar.prototype.onToolGroupActive=function(t){t?(this.activeToolGroups++,1===this.activeToolGroups&&this.emit("active",!0)):(this.activeToolGroups--,0===this.activeToolGroups&&this.emit("active",!1))},t.ui.Toolbar.prototype.getToolGroupByName=function(t){return this.groupsByName[t]||null},t.ui.Toolbar.prototype.reset=function(){var t,e;for(this.groupsByName={},this.tools={},t=0,e=this.items.length;t<e;t++)this.items[t].destroy();this.clearItems()},t.ui.Toolbar.prototype.destroy=function(){e(this.getElementWindow()).off("resize",this.onWindowResizeHandler),this.reset(),this.$element.remove()},t.ui.Toolbar.prototype.isToolAvailable=function(t){return!this.tools[t]},t.ui.Toolbar.prototype.reserveTool=function(t){this.tools[t.getName()]=t},t.ui.Toolbar.prototype.releaseTool=function(t){delete this.tools[t.getName()]},t.ui.Toolbar.prototype.getToolAccelerator=function(){},t.ui.Tool=function(i,n){t.isPlainObject(i)&&void 0===n&&(i=(n=i).toolGroup),n=n||{},t.ui.Tool.parent.call(this,n),this.toolGroup=i,this.toolbar=this.toolGroup.getToolbar(),this.active=!1,this.$title=e("<span>"),this.$accel=e("<span>"),this.$link=e("<a>"),this.title=null,this.checkIcon=new t.ui.IconWidget({icon:"check",classes:["oo-ui-tool-checkIcon"]}),t.ui.mixin.IconElement.call(this,n),t.ui.mixin.FlaggedElement.call(this,n),t.ui.mixin.TabIndexedElement.call(this,e.extend({$tabIndexed:this.$link},n)),this.toolbar.connect(this,{updateState:"onUpdateState"}),this.$title.addClass("oo-ui-tool-title"),this.$accel.addClass("oo-ui-tool-accel").prop({dir:"ltr",lang:"en"}),this.$link.addClass("oo-ui-tool-link").append(this.checkIcon.$element,this.$icon,this.$title,this.$accel).attr("role","button"),t.ui.isMobile()||this.$link.append(this.$accel),this.$element.data("oo-ui-tool",this).addClass("oo-ui-tool").addClass("oo-ui-tool-name-"+this.constructor.static.name.replace(/^([^/]+)\/([^/]+).*$/,"$1-$2")).toggleClass("oo-ui-tool-with-label",this.constructor.static.displayBothIconAndLabel).append(this.$link),this.setTitle(n.title||this.constructor.static.title)},t.inheritClass(t.ui.Tool,t.ui.Widget),t.mixinClass(t.ui.Tool,t.ui.mixin.IconElement),t.mixinClass(t.ui.Tool,t.ui.mixin.FlaggedElement),t.mixinClass(t.ui.Tool,t.ui.mixin.TabIndexedElement),t.ui.Tool.static.tagName="span",t.ui.Tool.static.name="",t.ui.Tool.static.group="",t.ui.Tool.static.title="",t.ui.Tool.static.displayBothIconAndLabel=!1,t.ui.Tool.static.autoAddToCatchall=!0,t.ui.Tool.static.autoAddToGroup=!0,t.ui.Tool.static.isCompatibleWith=function(){return!1},t.ui.Tool.prototype.onUpdateState=null,t.ui.Tool.prototype.onSelect=null,t.ui.Tool.prototype.isActive=function(){return this.active},t.ui.Tool.prototype.setActive=function(t){this.active=!!t,this.$element.toggleClass("oo-ui-tool-active",this.active),this.updateThemeClasses()},t.ui.Tool.prototype.setTitle=function(e){return this.title=t.ui.resolveMsg(e),this.updateTitle(),this},t.ui.Tool.prototype.getTitle=function(){return this.title},t.ui.Tool.prototype.getName=function(){return this.constructor.static.name},t.ui.Tool.prototype.updateTitle=function(){var t=this.toolGroup.constructor.static.titleTooltips,e=this.toolGroup.constructor.static.accelTooltips,i=this.toolbar.getToolAccelerator(this.constructor.static.name),n=[];this.$title.text(this.title),this.$accel.text(i),t&&"string"==typeof this.title&&this.title.length&&n.push(this.title),e&&"string"==typeof i&&i.length&&n.push(i),n.length?this.$link.attr("title",n.join(" ")):this.$link.removeAttr("title")},t.ui.Tool.prototype.setIcon=function(e){return t.ui.mixin.IconElement.prototype.setIcon.call(this,e),this.$element.toggleClass("oo-ui-tool-with-icon",!!this.icon),this},t.ui.Tool.prototype.destroy=function(){this.toolbar.disconnect(this),this.$element.remove()},t.ui.ToolGroup=function(e,i){t.isPlainObject(e)&&void 0===i&&(e=(i=e).toolbar),i=i||{},t.ui.ToolGroup.parent.call(this,i),t.ui.mixin.GroupElement.call(this,i),this.toolbar=e,this.tools={},this.pressed=null,this.autoDisabled=!1,this.include=i.include||[],this.exclude=i.exclude||[],this.promote=i.promote||[],this.demote=i.demote||[],this.onDocumentMouseKeyUpHandler=this.onDocumentMouseKeyUp.bind(this),this.$group.on({mousedown:this.onMouseKeyDown.bind(this),mouseup:this.onMouseKeyUp.bind(this),keydown:this.onMouseKeyDown.bind(this),keyup:this.onMouseKeyUp.bind(this),focus:this.onMouseOverFocus.bind(this),blur:this.onMouseOutBlur.bind(this),mouseover:this.onMouseOverFocus.bind(this),mouseout:this.onMouseOutBlur.bind(this)}),this.toolbar.getToolFactory().connect(this,{register:"onToolFactoryRegister"}),this.aggregate({disable:"itemDisable"}),this.connect(this,{itemDisable:"updateDisabled",disable:"onDisable"}),this.$group.addClass("oo-ui-toolGroup-tools"),this.$element.addClass("oo-ui-toolGroup").append(this.$group),this.onDisable(this.isDisabled()),this.populate()},t.inheritClass(t.ui.ToolGroup,t.ui.Widget),t.mixinClass(t.ui.ToolGroup,t.ui.mixin.GroupElement),t.ui.ToolGroup.static.titleTooltips=!1,t.ui.ToolGroup.static.accelTooltips=!1,t.ui.ToolGroup.static.autoDisable=!0,t.ui.ToolGroup.static.name=null,t.ui.ToolGroup.prototype.isDisabled=function(){return this.autoDisabled||t.ui.ToolGroup.parent.prototype.isDisabled.apply(this,arguments)},t.ui.ToolGroup.prototype.updateDisabled=function(){var e,i=!0;if(this.constructor.static.autoDisable){for(e=this.items.length-1;e>=0;e--)if(!this.items[e].isDisabled()){i=!1;break}this.autoDisabled=i}t.ui.ToolGroup.parent.prototype.updateDisabled.apply(this,arguments)},t.ui.ToolGroup.prototype.onDisable=function(t){this.$group.toggleClass("oo-ui-toolGroup-disabled-tools",t),this.$group.toggleClass("oo-ui-toolGroup-enabled-tools",!t)},t.ui.ToolGroup.prototype.onMouseKeyDown=function(e){if(!this.isDisabled()&&(e.which===t.ui.MouseButtons.LEFT||e.which===t.ui.Keys.SPACE||e.which===t.ui.Keys.ENTER)&&(this.pressed=this.findTargetTool(e),this.pressed))return this.pressed.setActive(!0),this.getElementDocument().addEventListener("mouseup",this.onDocumentMouseKeyUpHandler,!0),this.getElementDocument().addEventListener("keyup",this.onDocumentMouseKeyUpHandler,!0),!1},t.ui.ToolGroup.prototype.onDocumentMouseKeyUp=function(t){this.getElementDocument().removeEventListener("mouseup",this.onDocumentMouseKeyUpHandler,!0),this.getElementDocument().removeEventListener("keyup",this.onDocumentMouseKeyUpHandler,!0),this.onMouseKeyUp(t)},t.ui.ToolGroup.prototype.onMouseKeyUp=function(e){var i=this.findTargetTool(e);this.isDisabled()||!this.pressed||this.pressed!==i||e.which!==t.ui.MouseButtons.LEFT&&e.which!==t.ui.Keys.SPACE&&e.which!==t.ui.Keys.ENTER||(this.pressed.onSelect(),this.pressed=null,e.preventDefault(),e.stopPropagation()),this.pressed=null},t.ui.ToolGroup.prototype.onMouseOverFocus=function(t){var e=this.findTargetTool(t);this.pressed&&this.pressed===e&&this.pressed.setActive(!0)},t.ui.ToolGroup.prototype.onMouseOutBlur=function(t){var e=this.findTargetTool(t);this.pressed&&this.pressed===e&&this.pressed.setActive(!1)},t.ui.ToolGroup.prototype.findTargetTool=function(t){var i,n=e(t.target).closest(".oo-ui-tool-link");return n.length&&(i=n.parent().data("oo-ui-tool")),i&&!i.isDisabled()?i:null},t.ui.ToolGroup.prototype.onToolFactoryRegister=function(){this.populate()},t.ui.ToolGroup.prototype.getToolbar=function(){return this.toolbar},t.ui.ToolGroup.prototype.populate=function(){var t,e,i,n,o=this.toolbar.getToolFactory(),s={},a=[],r=[],l=this.toolbar.getToolFactory().getTools(this.include,this.exclude,this.promote,this.demote);for(t=0,e=l.length;t<e;t++)i=l[t],o.lookup(i)&&(this.toolbar.isToolAvailable(i)||this.tools[i])&&(this.toolbar.tools[i]=!0,(n=this.tools[i])||(this.tools[i]=n=o.create(i,this),n.updateTitle()),this.toolbar.reserveTool(n),a.push(n),s[i]=!0);for(i in this.tools)s[i]||(this.tools[i].destroy(),this.toolbar.releaseTool(this.tools[i]),r.push(this.tools[i]),delete this.tools[i]);r.length&&this.removeItems(r),a.length?this.$element.removeClass("oo-ui-toolGroup-empty"):this.$element.addClass("oo-ui-toolGroup-empty"),this.addItems(a),this.updateDisabled()},t.ui.ToolGroup.prototype.destroy=function(){var t;for(t in this.clearItems(),this.toolbar.getToolFactory().disconnect(this),this.tools)this.toolbar.releaseTool(this.tools[t]),this.tools[t].disconnect(this).destroy(),delete this.tools[t];this.$element.remove()},t.ui.ToolFactory=function(){t.ui.ToolFactory.parent.call(this)},t.inheritClass(t.ui.ToolFactory,t.Factory),t.ui.ToolFactory.prototype.getTools=function(e,i,n,o){var s,a,r,l,u,h=[],c={};for(r=t.simpleArrayDifference(this.extract(e),this.extract(i)),l=this.extract(n,c),u=this.extract(o,c),s=0,a=r.length;s<a;s++)c[r[s]]||h.push(r[s]);return l.concat(h).concat(u)},t.ui.ToolFactory.prototype.extract=function(e,i){var n,o,s,a,r,l=[];for(n=0,o=(e=Array.isArray(e)?e:[e]).length;n<o;n++)if("*"===(s=e[n]))for(a in this.registry)!(r=this.registry[a]).static.autoAddToCatchall||i&&i[a]||(l.push(a),i&&(i[a]=!0));else if("string"==typeof s&&(s={name:s}),t.isPlainObject(s))if(s.group)for(a in this.registry)(r=this.registry[a]).static.group!==s.group||!r.static.autoAddToGroup||i&&i[a]||(l.push(a),i&&(i[a]=!0));else!s.name||i&&i[s.name]||(l.push(s.name),i&&(i[s.name]=!0));return l},t.ui.ToolGroupFactory=function(){var e,i,n;for(t.Factory.call(this),e=0,i=(n=this.constructor.static.getDefaultClasses()).length;e<i;e++)this.register(n[e])},t.inheritClass(t.ui.ToolGroupFactory,t.Factory),t.ui.ToolGroupFactory.static.getDefaultClasses=function(){return[t.ui.BarToolGroup,t.ui.ListToolGroup,t.ui.MenuToolGroup]},t.ui.PopupTool=function(e,i){t.isPlainObject(e)&&void 0===i&&(e=(i=e).toolGroup),t.ui.PopupTool.parent.call(this,e,i),t.ui.mixin.PopupElement.call(this,i),this.popup.connect(this,{toggle:"onPopupToggle"}),this.popup.setAutoFlip(!1),this.popup.setPosition("bottom"===e.getToolbar().position?"above":"below"),this.$element.addClass("oo-ui-popupTool"),this.popup.$element.addClass("oo-ui-popupTool-popup"),this.toolbar.$popups.append(this.popup.$element)},t.inheritClass(t.ui.PopupTool,t.ui.Tool),t.mixinClass(t.ui.PopupTool,t.ui.mixin.PopupElement),t.ui.PopupTool.prototype.onSelect=function(){return this.isDisabled()||this.popup.toggle(),!1},t.ui.PopupTool.prototype.onUpdateState=function(){},t.ui.PopupTool.prototype.onPopupToggle=function(t){this.setActive(t),this.toolGroup.emit("active",t)},t.ui.ToolGroupTool=function(e,i){t.isPlainObject(e)&&void 0===i&&(e=(i=e).toolGroup),t.ui.ToolGroupTool.parent.call(this,e,i),this.innerToolGroup=this.createGroup(this.constructor.static.groupConfig),this.innerToolGroup.connect(this,{disable:"onToolGroupDisable",active:this.toolGroup.emit.bind(this.toolGroup,"active")}),this.$link.remove(),this.$element.addClass("oo-ui-toolGroupTool").append(this.innerToolGroup.$element)},t.inheritClass(t.ui.ToolGroupTool,t.ui.Tool),t.ui.ToolGroupTool.static.groupConfig={},t.ui.ToolGroupTool.prototype.onSelect=function(){return this.innerToolGroup.setActive(!this.innerToolGroup.active),!1},t.ui.ToolGroupTool.prototype.onToolGroupDisable=function(t){this.setDisabled(t)},t.ui.ToolGroupTool.prototype.onUpdateState=function(){this.setActive(!1)},t.ui.ToolGroupTool.prototype.createGroup=function(e){return"*"===e.include&&void 0===e.label&&(e.label=t.ui.msg("ooui-toolbar-more")),this.toolbar.getToolGroupFactory().create("list",this.toolbar,e)},t.ui.BarToolGroup=function(e,i){t.isPlainObject(e)&&void 0===i&&(e=(i=e).toolbar),t.ui.BarToolGroup.parent.call(this,e,i),this.$element.addClass("oo-ui-barToolGroup"),this.$group.addClass("oo-ui-barToolGroup-tools")},t.inheritClass(t.ui.BarToolGroup,t.ui.ToolGroup),t.ui.BarToolGroup.static.titleTooltips=!0,t.ui.BarToolGroup.static.accelTooltips=!0,t.ui.BarToolGroup.static.name="bar",t.ui.PopupToolGroup=function(i,n){t.isPlainObject(i)&&void 0===n&&(i=(n=i).toolbar),n=e.extend({indicator:void 0===n.indicator?"bottom"===i.position?"up":"down":n.indicator},n),t.ui.PopupToolGroup.parent.call(this,i,n),this.active=!1,this.dragging=!1,this.onPopupDocumentMouseKeyUpHandler=this.onPopupDocumentMouseKeyUp.bind(this),this.$handle=e("<span>"),t.ui.mixin.IconElement.call(this,n),t.ui.mixin.IndicatorElement.call(this,n),t.ui.mixin.LabelElement.call(this,n),t.ui.mixin.TitledElement.call(this,n),t.ui.mixin.FlaggedElement.call(this,n),t.ui.mixin.ClippableElement.call(this,e.extend({$clippable:this.$group},n)),t.ui.mixin.FloatableElement.call(this,e.extend({$floatable:this.$group,$floatableContainer:this.$handle,hideWhenOutOfView:!1,verticalPosition:"bottom"===this.toolbar.position?"above":"below"},n)),t.ui.mixin.TabIndexedElement.call(this,e.extend({$tabIndexed:this.$handle},n)),this.$handle.on({keydown:this.onHandleMouseKeyDown.bind(this),keyup:this.onHandleMouseKeyUp.bind(this),mousedown:this.onHandleMouseKeyDown.bind(this),mouseup:this.onHandleMouseKeyUp.bind(this)}),this.$handle.addClass("oo-ui-popupToolGroup-handle").attr("role","button").append(this.$icon,this.$label,this.$indicator),void 0!==n.header&&this.$group.prepend(e("<span>").addClass("oo-ui-popupToolGroup-header").text(n.header)),this.$element.addClass("oo-ui-popupToolGroup").prepend(this.$handle),this.$group.addClass("oo-ui-popupToolGroup-tools"),this.toolbar.$popups.append(this.$group)},t.inheritClass(t.ui.PopupToolGroup,t.ui.ToolGroup),t.mixinClass(t.ui.PopupToolGroup,t.ui.mixin.IconElement),t.mixinClass(t.ui.PopupToolGroup,t.ui.mixin.IndicatorElement),t.mixinClass(t.ui.PopupToolGroup,t.ui.mixin.LabelElement),t.mixinClass(t.ui.PopupToolGroup,t.ui.mixin.TitledElement),t.mixinClass(t.ui.PopupToolGroup,t.ui.mixin.FlaggedElement),t.mixinClass(t.ui.PopupToolGroup,t.ui.mixin.ClippableElement),t.mixinClass(t.ui.PopupToolGroup,t.ui.mixin.FloatableElement),t.mixinClass(t.ui.PopupToolGroup,t.ui.mixin.TabIndexedElement),t.ui.PopupToolGroup.prototype.setDisabled=function(){t.ui.PopupToolGroup.parent.prototype.setDisabled.apply(this,arguments),this.isDisabled()&&this.isElementAttached()&&this.setActive(!1)},t.ui.PopupToolGroup.prototype.onPopupDocumentMouseKeyUp=function(t){var i=e(t.target);i.closest(".oo-ui-popupToolGroup")[0]!==this.$element[0]&&i.closest(".oo-ui-popupToolGroup-tools")[0]!==this.$group[0]&&this.setActive(!1)},t.ui.PopupToolGroup.prototype.onMouseKeyUp=function(e){return this.isDisabled()||!this.pressed||this.pressed!==this.findTargetTool(e)||e.which!==t.ui.MouseButtons.LEFT&&e.which!==t.ui.Keys.SPACE&&e.which!==t.ui.Keys.ENTER||this.setActive(!1),t.ui.PopupToolGroup.parent.prototype.onMouseKeyUp.call(this,e)},t.ui.PopupToolGroup.prototype.onMouseKeyDown=function(i){var n,o,s;if(!this.isDisabled()&&i.which===t.ui.Keys.TAB){if(n=e(document.activeElement),o=t.ui.findFocusable(this.$group),n[0]===o[0]&&i.shiftKey)return this.$handle.trigger("focus"),!1;s=t.ui.findFocusable(this.$group,!0),n[0]!==s[0]||i.shiftKey||(this.$handle.trigger("focus"),this.setActive(!1))}return t.ui.PopupToolGroup.parent.prototype.onMouseKeyDown.call(this,i)},t.ui.PopupToolGroup.prototype.onHandleMouseKeyUp=function(e){if(!this.isDisabled()&&(e.which===t.ui.MouseButtons.LEFT||e.which===t.ui.Keys.SPACE||e.which===t.ui.Keys.ENTER))return!1},t.ui.PopupToolGroup.prototype.onHandleMouseKeyDown=function(e){var i;if(!this.isDisabled()){if(e.which===t.ui.Keys.TAB&&!e.shiftKey&&(i=t.ui.findFocusable(this.$group)).length)return i.trigger("focus"),!1;if(e.which===t.ui.MouseButtons.LEFT||e.which===t.ui.Keys.SPACE||e.which===t.ui.Keys.ENTER)return this.setActive(!this.active),!1}},t.ui.PopupToolGroup.prototype.isActive=function(){return this.active},t.ui.PopupToolGroup.prototype.setActive=function(t){var e,i;t=!!t,this.active!==t&&(this.active=t,t?(this.getElementDocument().addEventListener("mouseup",this.onPopupDocumentMouseKeyUpHandler,!0),this.getElementDocument().addEventListener("keyup",this.onPopupDocumentMouseKeyUpHandler,!0),this.$clippable.css("left",""),this.$element.addClass("oo-ui-popupToolGroup-active"),this.$group.addClass("oo-ui-popupToolGroup-active-tools"),this.togglePositioning(!0),this.toggleClipping(!0),this.setHorizontalPosition("start"),(this.isClippedHorizontally()||this.isFloatableOutOfView())&&this.setHorizontalPosition("end"),(this.isClippedHorizontally()||this.isFloatableOutOfView())&&(e=this.$clippableScrollableContainer.width(),i=this.$clippableScrollableContainer[0]===document.documentElement?0:this.$clippableScrollableContainer.offset().left,this.toggleClipping(!1),this.setHorizontalPosition("start"),this.$clippable.css({"margin-left":-(this.$element.offset().left-i),width:e}))):(this.getElementDocument().removeEventListener("mouseup",this.onPopupDocumentMouseKeyUpHandler,!0),this.getElementDocument().removeEventListener("keyup",this.onPopupDocumentMouseKeyUpHandler,!0),this.$element.removeClass("oo-ui-popupToolGroup-active"),this.$group.removeClass("oo-ui-popupToolGroup-active-tools"),this.togglePositioning(!1),this.toggleClipping(!1)),this.emit("active",this.active),this.updateThemeClasses())},t.ui.ListToolGroup=function(e,i){t.isPlainObject(e)&&void 0===i&&(e=(i=e).toolbar),i=i||{},this.allowCollapse=i.allowCollapse,this.forceExpand=i.forceExpand,this.expanded=void 0!==i.expanded&&i.expanded,this.collapsibleTools=[],t.ui.ListToolGroup.parent.call(this,e,i),this.$element.addClass("oo-ui-listToolGroup"),this.$group.addClass("oo-ui-listToolGroup-tools")},t.inheritClass(t.ui.ListToolGroup,t.ui.PopupToolGroup),t.ui.ListToolGroup.static.name="list",t.ui.ListToolGroup.prototype.populate=function(){var e,i,n=[];for(t.ui.ListToolGroup.parent.prototype.populate.call(this),void 0!==this.allowCollapse?n=this.allowCollapse:void 0!==this.forceExpand&&(n=t.simpleArrayDifference(Object.keys(this.tools),this.forceExpand)),this.collapsibleTools=[],e=0,i=n.length;e<i;e++)void 0!==this.tools[n[e]]&&this.collapsibleTools.push(this.tools[n[e]]);this.$group.append(this.getExpandCollapseTool().$element),this.getExpandCollapseTool().toggle(0!==this.collapsibleTools.length),this.updateCollapsibleState()},t.ui.ListToolGroup.prototype.getExpandCollapseTool=function(){var e;return void 0===this.expandCollapseTool&&(e=function(){e.parent.apply(this,arguments)},t.inheritClass(e,t.ui.Tool),e.prototype.onSelect=function(){this.toolGroup.expanded=!this.toolGroup.expanded,this.toolGroup.updateCollapsibleState(),this.setActive(!1)},e.prototype.onUpdateState=function(){},e.static.name="more-fewer",this.expandCollapseTool=new e(this)),this.expandCollapseTool},t.ui.ListToolGroup.prototype.onMouseKeyUp=function(i){return!e(i.target).closest(".oo-ui-tool-name-more-fewer").length||i.which!==t.ui.MouseButtons.LEFT&&i.which!==t.ui.Keys.SPACE&&i.which!==t.ui.Keys.ENTER?t.ui.ListToolGroup.parent.prototype.onMouseKeyUp.call(this,i):t.ui.ListToolGroup.parent.parent.prototype.onMouseKeyUp.call(this,i)},t.ui.ListToolGroup.prototype.updateCollapsibleState=function(){var e,i,n;for(i="bottom"!==this.toolbar.position?this.expanded?"collapse":"expand":this.expanded?"expand":"collapse",this.getExpandCollapseTool().setIcon(i).setTitle(t.ui.msg(this.expanded?"ooui-toolgroup-collapse":"ooui-toolgroup-expand")),e=0,n=this.collapsibleTools.length;e<n;e++)this.collapsibleTools[e].toggle(this.expanded);this.clip()},t.ui.MenuToolGroup=function(e,i){t.isPlainObject(e)&&void 0===i&&(e=(i=e).toolbar),i=i||{},t.ui.MenuToolGroup.parent.call(this,e,i),this.toolbar.connect(this,{updateState:"onUpdateState"}),this.$element.addClass("oo-ui-menuToolGroup"),this.$group.addClass("oo-ui-menuToolGroup-tools")},t.inheritClass(t.ui.MenuToolGroup,t.ui.PopupToolGroup),t.ui.MenuToolGroup.static.name="menu",t.ui.MenuToolGroup.prototype.onUpdateState=function(){var t,e=[];for(t in this.tools)this.tools[t].isActive()&&e.push(this.tools[t].getTitle());this.setLabel(e.join(", ")||" ")}}(t),
/*!
 * OOUI v0.33.4
 * https://www.mediawiki.org/wiki/OOUI
 *
 * Copyright 2011–2019 OOUI Team and other contributors.
 * Released under the MIT license
 * http://oojs.mit-license.org
 *
 * Date: 2019-07-23T03:23:32Z
 */
function(t){"use strict";t.ui.ActionWidget=function(i){i=e.extend({framed:!1},i),t.ui.ActionWidget.parent.call(this,i),t.ui.mixin.PendingElement.call(this,i),this.action=i.action||"",this.modes=i.modes||[],this.width=0,this.height=0,this.$element.addClass("oo-ui-actionWidget")},t.inheritClass(t.ui.ActionWidget,t.ui.ButtonWidget),t.mixinClass(t.ui.ActionWidget,t.ui.mixin.PendingElement),t.ui.ActionWidget.prototype.hasMode=function(t){return-1!==this.modes.indexOf(t)},t.ui.ActionWidget.prototype.getAction=function(){return this.action},t.ui.ActionWidget.prototype.getModes=function(){return this.modes.slice()},t.ui.ActionSet=function(e){e=e||{},t.EventEmitter.call(this),this.list=[],this.categories={actions:"getAction",flags:"getFlags",modes:"getModes"},this.categorized={},this.special={},this.others=[],this.organized=!1,this.changing=!1,this.changed=!1},t.mixinClass(t.ui.ActionSet,t.EventEmitter),t.ui.ActionSet.static.specialFlags=["safe","primary"],t.ui.ActionSet.prototype.onActionChange=function(){this.organized=!1,this.changing?this.changed=!0:this.emit("change")},t.ui.ActionSet.prototype.isSpecial=function(t){var e;for(e in this.special)if(t===this.special[e])return!0;return!1},t.ui.ActionSet.prototype.get=function(t){var e,i,n,o,s,a,r,l;if(t){for(o in this.organize(),l=[],this.categorized)if(n=t[o])for(Array.isArray(n)||(n=[n]),e=0,i=n.length;e<i;e++)s=this.categorized[o][n[e]],Array.isArray(s)&&l.push.apply(l,s);for(e=0,i=l.length;e<i;e++)r=l[e],(void 0!==t.visible&&r.isVisible()!==t.visible||void 0!==t.disabled&&r.isDisabled()!==t.disabled)&&(l.splice(e,1),i--,e--);for(e=0,i=l.length;e<i;e++)for(r=l[e],a=l.lastIndexOf(r);a!==e;)l.splice(a,1),i--,a=l.lastIndexOf(r);return l}return this.list.slice()},t.ui.ActionSet.prototype.getSpecial=function(){return this.organize(),e.extend({},this.special)},t.ui.ActionSet.prototype.getOthers=function(){return this.organize(),this.others.slice()},t.ui.ActionSet.prototype.setMode=function(t){var e,i,n;for(this.changing=!0,e=0,i=this.list.length;e<i;e++)(n=this.list[e]).toggle(n.hasMode(t));return this.organized=!1,this.changing=!1,this.emit("change"),this},t.ui.ActionSet.prototype.setAbilities=function(t){var e,i,n,o;for(e=0,i=this.list.length;e<i;e++)void 0!==t[n=(o=this.list[e]).getAction()]&&o.setDisabled(!t[n]);return this},t.ui.ActionSet.prototype.forEach=function(t,e){return this.changed=!1,this.changing=!0,this.get(t).forEach(e),this.changing=!1,this.changed&&this.emit("change"),this},t.ui.ActionSet.prototype.add=function(t){var e,i,n;for(this.changing=!0,e=0,i=t.length;e<i;e++)(n=t[e]).connect(this,{click:["emit","click",n],toggle:["onActionChange"]}),this.list.push(n);return this.organized=!1,this.emit("add",t),this.changing=!1,this.emit("change"),this},t.ui.ActionSet.prototype.remove=function(t){var e,i,n,o;for(this.changing=!0,e=0,i=t.length;e<i;e++)o=t[e],-1!==(n=this.list.indexOf(o))&&(o.disconnect(this),this.list.splice(n,1));return this.organized=!1,this.emit("remove",t),this.changing=!1,this.emit("change"),this},t.ui.ActionSet.prototype.clear=function(){var t,e,i=this.list.slice();for(this.changing=!0,t=0,e=this.list.length;t<e;t++)this.list[t].disconnect(this);return this.list=[],this.organized=!1,this.emit("remove",i),this.changing=!1,this.emit("change"),this},t.ui.ActionSet.prototype.organize=function(){var t,e,i,n,o,s,a,r,l,u,h=this.constructor.static.specialFlags;if(!this.organized){for(this.categorized={},this.special={},this.others=[],t=0,e=this.list.length;t<e;t++)if((s=this.list[t]).isVisible()){for(a in this.categories)for(this.categorized[a]||(this.categorized[a]={}),r=s[this.categories[a]](),Array.isArray(r)||(r=[r]),i=0,n=r.length;i<n;i++)l=r[i],this.categorized[a][l]||(this.categorized[a][l]=[]),this.categorized[a][l].push(s);for(u=!1,i=0,n=h.length;i<n;i++)if(o=h[i],!this.special[o]&&s.hasFlag(o)){this.special[o]=s,u=!0;break}u||this.others.push(s)}this.organized=!0}return this},t.ui.Error=function(i,n){t.isPlainObject(i)&&void 0===n&&(i=(n=i).message),n=n||{},this.message=i instanceof e?i:String(i),this.recoverable=void 0===n.recoverable||!!n.recoverable,this.warning=!!n.warning},t.initClass(t.ui.Error),t.ui.Error.prototype.isRecoverable=function(){return this.recoverable},t.ui.Error.prototype.isWarning=function(){return this.warning},t.ui.Error.prototype.getMessage=function(){return this.message instanceof e?this.message.clone():e("<div>").text(this.message).contents()},t.ui.Error.prototype.getMessageText=function(){return this.message instanceof e?this.message.text():this.message},t.ui.Process=function(t,e){this.steps=[],void 0!==t&&this.next(t,e)},t.initClass(t.ui.Process),t.ui.Process.prototype.execute=function(){var i,n,o;function s(i){return function(){var n,o=i.callback.call(i.context);if(!1===o)return e.Deferred().reject([]).promise();if("number"==typeof o){if(o<0)throw new Error("Cannot go back in time: flux capacitor is out of service");return n=e.Deferred(),setTimeout(n.resolve,o),n.promise()}return o instanceof t.ui.Error?e.Deferred().reject([o]).promise():Array.isArray(o)&&o.length&&o[0]instanceof t.ui.Error?e.Deferred().reject(o).promise():o&&"function"==typeof o.promise?o.promise():e.Deferred().resolve().promise()}}if(this.steps.length)for(o=s(this.steps[0])(),i=1,n=this.steps.length;i<n;i++)o=o.then(s(this.steps[i]));else o=e.Deferred().resolve().promise();return o},t.ui.Process.prototype.createStep=function(t,e){if("number"==typeof t||"function"==typeof t.promise)return{callback:function(){return t},context:null};if("function"==typeof t)return{callback:t,context:e};throw new Error("Cannot create process step: number, promise or function expected")},t.ui.Process.prototype.first=function(t,e){return this.steps.unshift(this.createStep(t,e)),this},t.ui.Process.prototype.next=function(t,e){return this.steps.push(this.createStep(t,e)),this},t.ui.WindowInstance=function(){var t={opening:e.Deferred(),opened:e.Deferred(),closing:e.Deferred(),closed:e.Deferred()};this.deferreds=t,this.opening=t.opening.promise(),this.opened=this.opening.then((function(){return t.opened})),this.closing=this.opened.then((function(){return t.closing})),this.closed=this.closing.then((function(){return t.closed}))},t.initClass(t.ui.WindowInstance),t.ui.WindowInstance.prototype.isOpening=function(){return"pending"===this.deferreds.opened.state()},t.ui.WindowInstance.prototype.isOpened=function(){return"resolved"===this.deferreds.opened.state()&&"pending"===this.deferreds.closing.state()},t.ui.WindowInstance.prototype.isClosing=function(){return"resolved"===this.deferreds.closing.state()&&"pending"===this.deferreds.closed.state()},t.ui.WindowInstance.prototype.isClosed=function(){return"resolved"===this.deferreds.closed.state()},t.ui.WindowManager=function(e){e=e||{},t.ui.WindowManager.parent.call(this,e),t.EventEmitter.call(this),this.factory=e.factory,this.modal=void 0===e.modal||!!e.modal,this.windows={},this.compatOpened=null,this.preparingToOpen=null,this.preparingToClose=null,this.currentWindow=null,this.globalEvents=!1,this.$returnFocusTo=null,this.$ariaHidden=null,this.onWindowResizeTimeout=null,this.onWindowResizeHandler=this.onWindowResize.bind(this),this.afterWindowResizeHandler=this.afterWindowResize.bind(this),this.$element.addClass("oo-ui-windowManager").toggleClass("oo-ui-windowManager-modal",this.modal),this.modal&&this.$element.attr("aria-hidden",!0)},t.inheritClass(t.ui.WindowManager,t.ui.Element),t.mixinClass(t.ui.WindowManager,t.EventEmitter),t.ui.WindowManager.static.sizes={small:{width:300},medium:{width:500},large:{width:700},larger:{width:900},full:{width:"100%",height:"100%"}},t.ui.WindowManager.static.defaultSize="medium",t.ui.WindowManager.prototype.onWindowResize=function(){clearTimeout(this.onWindowResizeTimeout),this.onWindowResizeTimeout=setTimeout(this.afterWindowResizeHandler,200)},t.ui.WindowManager.prototype.afterWindowResize=function(){var t=document.activeElement;this.currentWindow&&(this.updateWindowSize(this.currentWindow),t!==document.activeElement&&t.focus())},t.ui.WindowManager.prototype.isOpening=function(t){return t===this.currentWindow&&!!this.lifecycle&&this.lifecycle.isOpening()},t.ui.WindowManager.prototype.isClosing=function(t){return t===this.currentWindow&&!!this.lifecycle&&this.lifecycle.isClosing()},t.ui.WindowManager.prototype.isOpened=function(t){return t===this.currentWindow&&!!this.lifecycle&&this.lifecycle.isOpened()},t.ui.WindowManager.prototype.hasWindow=function(t){var e;for(e in this.windows)if(this.windows[e]===t)return!0;return!1},t.ui.WindowManager.prototype.getSetupDelay=function(){return 0},t.ui.WindowManager.prototype.getReadyDelay=function(){return this.modal?t.ui.theme.getDialogTransitionDuration():0},t.ui.WindowManager.prototype.getHoldDelay=function(){return 0},t.ui.WindowManager.prototype.getTeardownDelay=function(){return this.modal?t.ui.theme.getDialogTransitionDuration():0},t.ui.WindowManager.prototype.getWindow=function(i){var n=e.Deferred(),o=this.windows[i];return o instanceof t.ui.Window?n.resolve(o):this.factory?this.factory.lookup(i)?(o=this.factory.create(i),this.addWindows([o]),n.resolve(o)):n.reject(new t.ui.Error("Cannot auto-instantiate window: symbolic name is unrecognized by the factory")):n.reject(new t.ui.Error("Cannot get unmanaged window: symbolic name unrecognized as a managed window")),n.promise()},t.ui.WindowManager.prototype.getCurrentWindow=function(){return this.currentWindow},t.ui.WindowManager.prototype.openWindow=function(i,n,o,s){var a,r=this;return n=n||{},o=o||new t.ui.WindowInstance,s=s||e.Deferred(),["state","always","catch","pipe","then","promise","progress","done","fail"].forEach((function(e){o[e]=function(){return t.ui.warnDeprecation("Using the return value of openWindow as a promise is deprecated. Use .openWindow( ... ).opening."+e+"( ... ) instead."),s[e].apply(this,arguments)}})),"string"==typeof i?(this.getWindow(i).then((function(t){r.openWindow(t,n,o,s)}),(function(t){o.deferreds.opening.reject(t)})),o):(this.hasWindow(i)?this.lifecycle&&this.lifecycle.isOpened()?a="Cannot open window: another window is open":(this.preparingToOpen||this.lifecycle&&this.lifecycle.isOpening())&&(a="Cannot open window: another window is opening"):a="Cannot open window: window is not attached to manager",a?(s.reject(new t.ui.Error(a)),o.deferreds.opening.reject(new t.ui.Error(a)),o):(this.preparingToOpen=e.when(this.lifecycle&&this.lifecycle.closed),this.preparingToOpen.done((function(){r.modal&&(r.toggleGlobalEvents(!0),r.toggleAriaIsolation(!0)),r.$returnFocusTo=void 0!==n.$returnFocusTo?n.$returnFocusTo:e(document.activeElement),r.currentWindow=i,r.lifecycle=o,r.preparingToOpen=null,r.emit("opening",i,s,n),o.deferreds.opening.resolve(n),setTimeout((function(){r.compatOpened=e.Deferred(),i.setup(n).then((function(){s.notify({state:"setup"}),setTimeout((function(){i.ready(n).then((function(){s.notify({state:"ready"}),o.deferreds.opened.resolve(n),s.resolve(r.compatOpened.promise(),n),r.togglePreventIosScrolling(!0)}),(function(){o.deferreds.opened.reject(),s.reject(),r.closeWindow(i)}))}),r.getReadyDelay())}),(function(){o.deferreds.opened.reject(),s.reject(),r.closeWindow(i)}))}),r.getSetupDelay())})),o))},t.ui.WindowManager.prototype.closeWindow=function(i,n){var o,s,a=this,r=e.Deferred(),l=this.lifecycle;return"string"==typeof i?i=this.windows[i]:this.hasWindow(i)||(i=null),l?i?i!==this.currentWindow||this.lifecycle.isClosed()?o="Cannot close window: window already closed with different data":(this.preparingToClose||this.lifecycle.isClosing())&&(o="Cannot close window: window already closing with different data"):o="Cannot close window: window is not attached to manager":o="Cannot close window: no window is currently open",o&&((l=new t.ui.WindowInstance).deferreds.opening.resolve({}),l.deferreds.opened.resolve({})),["state","always","catch","pipe","then","promise","progress","done","fail"].forEach((function(e){l[e]=function(){return t.ui.warnDeprecation("Using the return value of closeWindow as a promise is deprecated. Use .closeWindow( ... ).closed."+e+"( ... ) instead."),r[e].apply(this,arguments)}})),o?(r.reject(new t.ui.Error(o)),l.deferreds.closing.reject(new t.ui.Error(o)),l):(this.preparingToClose=e.when(this.lifecycle.opened),this.preparingToClose.always((function(){a.preparingToClose=null,a.emit("closing",i,r,n),l.deferreds.closing.resolve(n),s=a.compatOpened,a.compatOpened=null,s.resolve(r.promise(),n),a.togglePreventIosScrolling(!1),setTimeout((function(){i.hold(n).then((function(){r.notify({state:"hold"}),setTimeout((function(){i.teardown(n).then((function(){r.notify({state:"teardown"}),a.modal&&(a.toggleGlobalEvents(!1),a.toggleAriaIsolation(!1)),a.$returnFocusTo&&a.$returnFocusTo.length&&a.$returnFocusTo[0].focus(),a.currentWindow=null,a.lifecycle=null,l.deferreds.closed.resolve(n),r.resolve(n)}))}),a.getTeardownDelay())}))}),a.getHoldDelay())})),l)},t.ui.WindowManager.prototype.addWindows=function(e){var i,n,o,s,a;if(Array.isArray(e))for(a={},i=0,n=e.length;i<n;i++){if(!(s=e[i].constructor.static.name))throw new Error("Windows must have a `name` static property defined.");a[s]=e[i]}else t.isPlainObject(e)&&(a=e);for(s in a)o=a[s],this.windows[s]=o.toggle(!1),this.$element.append(o.$element),o.setManager(this)},t.ui.WindowManager.prototype.removeWindows=function(t){var i,n,o,s,a,r=this,l=[],u=function(t,e){delete r.windows[t],e.$element.detach()};for(i=0,n=t.length;i<n;i++){if(s=t[i],!(o=this.windows[s]))throw new Error("Cannot remove window");a=u.bind(null,s,o),l.push(this.closeWindow(s).closed.then(a,a))}return e.when.apply(e,l)},t.ui.WindowManager.prototype.clearWindows=function(){return this.removeWindows(Object.keys(this.windows))},t.ui.WindowManager.prototype.updateWindowSize=function(t){var e;if(t===this.currentWindow)return e="full"===t.getSize(),this.$element.toggleClass("oo-ui-windowManager-fullscreen",e),this.$element.toggleClass("oo-ui-windowManager-floating",!e),t.setDimensions(t.getSizeProperties()),this.emit("resize",t),this},t.ui.WindowManager.prototype.togglePreventIosScrolling=function(i){var n=/ipad|iphone|ipod/i.test(navigator.userAgent),o=e(this.getElementDocument().body),s=t.ui.Element.static.getRootScrollableElement(o[0]),a=o.data("windowManagerGlobalEvents")||0;return n&&1===a?(i?(this.iosOrigScrollPosition=s.scrollTop,"full"===this.getCurrentWindow().getSize()&&o.add(o.parent()).addClass("oo-ui-windowManager-ios-modal-ready")):(o.add(o.parent()).removeClass("oo-ui-windowManager-ios-modal-ready"),"full"===this.getCurrentWindow().getSize()&&(s.scrollTop=this.iosOrigScrollPosition)),this):this},t.ui.WindowManager.prototype.toggleGlobalEvents=function(t){var i,n,o=e(this.getElementDocument().body),s=o.data("windowManagerGlobalEvents")||0;return(t=void 0===t?!!this.globalEvents:!!t)?this.globalEvents||(e(this.getElementWindow()).on({"orientationchange resize":this.onWindowResizeHandler}),0===s&&(i=window.innerWidth-document.documentElement.clientWidth,n=parseFloat(o.css("margin-right"))||0,o.addClass("oo-ui-windowManager-modal-active"),o.css("margin-right",n+i)),s++,this.globalEvents=!0):this.globalEvents&&(e(this.getElementWindow()).off({"orientationchange resize":this.onWindowResizeHandler}),0===--s&&(o.removeClass("oo-ui-windowManager-modal-active"),o.css("margin-right","")),this.globalEvents=!1),o.data("windowManagerGlobalEvents",s),this},t.ui.WindowManager.prototype.toggleAriaIsolation=function(t){var i;return(t=void 0===t?!this.$ariaHidden:!!t)?this.$ariaHidden||(i=0===(i=this.$element.parentsUntil("body").last()).length?this.$element:i,this.$element.removeAttr("aria-hidden"),this.$ariaHidden=e(document.body).children().not("script").not(i).attr("aria-hidden",!0)):this.$ariaHidden&&(this.$ariaHidden.removeAttr("aria-hidden"),this.$ariaHidden=null,this.$element.attr("aria-hidden",!0)),this},t.ui.WindowManager.prototype.destroy=function(){this.toggleGlobalEvents(!1),this.toggleAriaIsolation(!1),this.clearWindows(),this.$element.remove()},t.ui.Window=function(i){i=i||{},t.ui.Window.parent.call(this,i),t.EventEmitter.call(this),this.manager=null,this.size=i.size||this.constructor.static.size,this.$frame=e("<div>"),this.$overlay=e("<div>"),this.$content=e("<div>"),this.$focusTrapBefore=e("<div>").prop("tabIndex",0),this.$focusTrapAfter=e("<div>").prop("tabIndex",0),this.$focusTraps=this.$focusTrapBefore.add(this.$focusTrapAfter),this.$overlay.addClass("oo-ui-window-overlay"),this.$content.addClass("oo-ui-window-content").attr("tabindex",0),this.$frame.addClass("oo-ui-window-frame").append(this.$focusTrapBefore,this.$content,this.$focusTrapAfter),this.$element.addClass("oo-ui-window").append(this.$frame,this.$overlay),this.visible=!1,this.$element.addClass("oo-ui-element-hidden")},t.inheritClass(t.ui.Window,t.ui.Element),t.mixinClass(t.ui.Window,t.EventEmitter),t.ui.Window.static.size="medium",t.ui.Window.prototype.onMouseDown=function(t){if(t.target===this.$element[0])return!1},t.ui.Window.prototype.isInitialized=function(){return!!this.manager},t.ui.Window.prototype.isVisible=function(){return this.visible},t.ui.Window.prototype.isOpening=function(){return this.manager.isOpening(this)},t.ui.Window.prototype.isClosing=function(){return this.manager.isClosing(this)},t.ui.Window.prototype.isOpened=function(){return this.manager.isOpened(this)},t.ui.Window.prototype.getManager=function(){return this.manager},t.ui.Window.prototype.getSize=function(){var e=t.ui.Element.static.getDimensions(this.getElementWindow()),i=this.manager.constructor.static.sizes,n=this.size;return i[n]||(n=this.manager.constructor.static.defaultSize),"full"!==n&&e.rect.right-e.rect.left<i[n].width&&(n="full"),n},t.ui.Window.prototype.getSizeProperties=function(){return this.manager.constructor.static.sizes[this.getSize()]},t.ui.Window.prototype.withoutSizeTransitions=function(t){var e=this.$frame.css("transition-property")+" "+this.$frame.css("transition-duration")+" "+this.$frame.css("transition-timing-function")+" "+this.$frame.css("transition-delay");this.$frame.css("transition","none"),t(),this.$frame.height(),this.$frame.css("transition",e)},t.ui.Window.prototype.getContentHeight=function(){var t,e=this,i=this.$body[0].style,n=this.$frame[0].style;return this.withoutSizeTransitions((function(){var o=n.height,s=i.position;n.height="1px",i.position="relative",t=e.getBodyHeight(),n.height=o,i.position=s})),this.$frame.outerHeight()-this.$frame.innerHeight()+(this.$head.outerHeight(!0)+t+this.$foot.outerHeight(!0))},t.ui.Window.prototype.getBodyHeight=function(){return this.$body[0].scrollHeight},t.ui.Window.prototype.getDir=function(){return t.ui.Element.static.getDir(this.$content)||"ltr"},t.ui.Window.prototype.getSetupProcess=function(){return new t.ui.Process},t.ui.Window.prototype.getReadyProcess=function(){return new t.ui.Process},t.ui.Window.prototype.getHoldProcess=function(){return new t.ui.Process},t.ui.Window.prototype.getTeardownProcess=function(){return new t.ui.Process},t.ui.Window.prototype.setManager=function(t){if(this.manager)throw new Error("Cannot set window manager, window already has a manager");return this.manager=t,this.initialize(),this},t.ui.Window.prototype.setSize=function(t){return this.size=t,this.updateSize(),this},t.ui.Window.prototype.updateSize=function(){if(!this.manager)throw new Error("Cannot update window size, must be attached to a manager");return this.manager.updateWindowSize(this),this},t.ui.Window.prototype.setDimensions=function(t){var e,i=this,n=this.$frame[0].style;return void 0===t.height?this.withoutSizeTransitions((function(){var o=n.width;i.$frame.css("width",t.width||""),e=i.getContentHeight(),n.width=o})):e=t.height,this.$frame.css({width:t.width||"",minWidth:t.minWidth||"",maxWidth:t.maxWidth||"",height:e||"",minHeight:t.minHeight||"",maxHeight:t.maxHeight||""}),this},t.ui.Window.prototype.initialize=function(){if(!this.manager)throw new Error("Cannot initialize window, must be attached to a manager");return this.$head=e("<div>"),this.$body=e("<div>"),this.$foot=e("<div>"),this.$document=e(this.getElementDocument()),this.$element.on("mousedown",this.onMouseDown.bind(this)),this.$head.addClass("oo-ui-window-head"),this.$body.addClass("oo-ui-window-body"),this.$foot.addClass("oo-ui-window-foot"),this.$content.append(this.$head,this.$body,this.$foot),this},t.ui.Window.prototype.onFocusTrapFocused=function(e){var i=this.$focusTrapBefore.is(e.target),n=t.ui.findFocusable(this.$content,i);n?n.focus():this.$content.trigger("focus")},t.ui.Window.prototype.open=function(t){if(!this.manager)throw new Error("Cannot open window, must be attached to a manager");return this.manager.openWindow(this,t)},t.ui.Window.prototype.close=function(t){if(!this.manager)throw new Error("Cannot close window, must be attached to a manager");return this.manager.closeWindow(this,t)},t.ui.Window.prototype.setup=function(e){var i=this;return this.toggle(!0),this.focusTrapHandler=t.ui.bind(this.onFocusTrapFocused,this),this.$focusTraps.on("focus",this.focusTrapHandler),this.getSetupProcess(e).execute().then((function(){i.updateSize(),i.$element.addClass("oo-ui-window-active oo-ui-window-setup").width(),i.$content.addClass("oo-ui-window-content-setup").width()}))},t.ui.Window.prototype.ready=function(t){var e=this;return this.$content.trigger("focus"),this.getReadyProcess(t).execute().then((function(){e.$element.addClass("oo-ui-window-ready").width(),e.$content.addClass("oo-ui-window-content-ready").width()}))},t.ui.Window.prototype.hold=function(e){var i=this;return this.getHoldProcess(e).execute().then((function(){var e=i.$content.find(t.ui.Element.static.getDocument(i.$content).activeElement);e.length&&e[0].blur(),i.$element.removeClass("oo-ui-window-ready oo-ui-window-setup").width(),i.$content.removeClass("oo-ui-window-content-ready oo-ui-window-content-setup").width()}))},t.ui.Window.prototype.teardown=function(t){var e=this;return this.getTeardownProcess(t).execute().then((function(){e.$element.removeClass("oo-ui-window-active").width(),e.$focusTraps.off("focus",e.focusTrapHandler),e.toggle(!1)}))},t.ui.Dialog=function(e){t.ui.Dialog.parent.call(this,e),t.ui.mixin.PendingElement.call(this),this.actions=new t.ui.ActionSet,this.attachedActions=[],this.currentAction=null,this.onDialogKeyDownHandler=this.onDialogKeyDown.bind(this),this.actions.connect(this,{click:"onActionClick",change:"onActionsChange"}),this.$element.addClass("oo-ui-dialog").attr("role","dialog")},t.inheritClass(t.ui.Dialog,t.ui.Window),t.mixinClass(t.ui.Dialog,t.ui.mixin.PendingElement),t.ui.Dialog.static.name="",t.ui.Dialog.static.title="",t.ui.Dialog.static.actions=[],t.ui.Dialog.static.escapable=!0,t.ui.Dialog.prototype.onDialogKeyDown=function(e){var i;e.which===t.ui.Keys.ESCAPE&&this.constructor.static.escapable?(this.executeAction(""),e.preventDefault(),e.stopPropagation()):e.which===t.ui.Keys.ENTER&&(e.ctrlKey||e.metaKey)&&(i=this.actions.get({flags:"primary",visible:!0,disabled:!1})).length>0&&(this.executeAction(i[0].getAction()),e.preventDefault(),e.stopPropagation())},t.ui.Dialog.prototype.onActionClick=function(t){this.isPending()||this.executeAction(t.getAction())},t.ui.Dialog.prototype.onActionsChange=function(){this.detachActions(),this.isClosing()||(this.attachActions(),this.isOpening()||this.updateSize())},t.ui.Dialog.prototype.getActions=function(){return this.actions},t.ui.Dialog.prototype.getActionProcess=function(e){return(new t.ui.Process).next((function(){e||this.close()}),this)},t.ui.Dialog.prototype.getSetupProcess=function(e){return e=e||{},t.ui.Dialog.parent.prototype.getSetupProcess.call(this,e).next((function(){var t=this.constructor.static,i=void 0!==e.actions?e.actions:t.actions,n=void 0!==e.title?e.title:t.title;this.title.setLabel(n).setTitle(n),this.actions.add(this.getActionWidgets(i)),this.$element.on("keydown",this.onDialogKeyDownHandler)}),this)},t.ui.Dialog.prototype.getTeardownProcess=function(e){return t.ui.Dialog.parent.prototype.getTeardownProcess.call(this,e).first((function(){this.$element.off("keydown",this.onDialogKeyDownHandler),this.actions.clear(),this.currentAction=null}),this)},t.ui.Dialog.prototype.initialize=function(){t.ui.Dialog.parent.prototype.initialize.call(this),this.title=new t.ui.LabelWidget,this.$content.addClass("oo-ui-dialog-content"),this.$element.attr("aria-labelledby",this.title.getElementId()),this.setPendingElement(this.$head)},t.ui.Dialog.prototype.getActionWidgets=function(t){var e,i,n=[];for(e=0,i=t.length;e<i;e++)n.push(this.getActionWidget(t[e]));return n},t.ui.Dialog.prototype.getActionWidget=function(e){return new t.ui.ActionWidget(this.getActionWidgetConfig(e))},t.ui.Dialog.prototype.getActionWidgetConfig=function(t){return t},t.ui.Dialog.prototype.attachActions=function(){this.attachedActions=this.actions.get()},t.ui.Dialog.prototype.detachActions=function(){var t,e;for(t=0,e=this.attachedActions.length;t<e;t++)this.attachedActions[t].$element.detach();return this.attachedActions=[],this},t.ui.Dialog.prototype.executeAction=function(t){return this.pushPending(),this.currentAction=t,this.getActionProcess(t).execute().always(this.popPending.bind(this))},t.ui.MessageDialog=function(e){t.ui.MessageDialog.parent.call(this,e),this.verticalActionLayout=null,this.$element.addClass("oo-ui-messageDialog")},t.inheritClass(t.ui.MessageDialog,t.ui.Dialog),t.ui.MessageDialog.static.name="message",t.ui.MessageDialog.static.size="small",t.ui.MessageDialog.static.title=null,t.ui.MessageDialog.static.message=null,t.ui.MessageDialog.static.actions=[{action:"accept",label:t.ui.deferMsg("ooui-dialog-message-accept"),flags:"primary"},{action:"reject",label:t.ui.deferMsg("ooui-dialog-message-reject"),flags:"safe"}],t.ui.MessageDialog.prototype.toggleVerticalActionLayout=function(t){return(t=void 0===t?!this.verticalActionLayout:!!t)!==this.verticalActionLayout&&(this.verticalActionLayout=t,this.$actions.toggleClass("oo-ui-messageDialog-actions-vertical",t).toggleClass("oo-ui-messageDialog-actions-horizontal",!t)),this},t.ui.MessageDialog.prototype.getActionProcess=function(e){return e?new t.ui.Process((function(){this.close({action:e})}),this):t.ui.MessageDialog.parent.prototype.getActionProcess.call(this,e)},t.ui.MessageDialog.prototype.getSetupProcess=function(e){return e=e||{},t.ui.MessageDialog.parent.prototype.getSetupProcess.call(this,e).next((function(){this.title.setLabel(void 0!==e.title?e.title:this.constructor.static.title),this.message.setLabel(void 0!==e.message?e.message:this.constructor.static.message),this.size=void 0!==e.size?e.size:this.constructor.static.size}),this)},t.ui.MessageDialog.prototype.getReadyProcess=function(e){return e=e||{},t.ui.MessageDialog.parent.prototype.getReadyProcess.call(this,e).next((function(){var t=this.actions.get();(t=t.filter((function(t){return t.getFlags().indexOf("primary")>-1}))).length>0&&t[0].focus()}),this)},t.ui.MessageDialog.prototype.getBodyHeight=function(){var e,i,n=this.container.$element;return i=n[0].style.overflow,n[0].style.overflow="hidden",t.ui.Element.static.reconsiderScrollbars(n[0]),e=this.text.$element.outerHeight(!0),n[0].style.overflow=i,e},t.ui.MessageDialog.prototype.setDimensions=function(e){var i=this,n=this.container.$element;return t.ui.MessageDialog.parent.prototype.setDimensions.call(this,e),setTimeout((function(){var e=n[0].style.overflow,i=document.activeElement;n[0].style.overflow="hidden",t.ui.Element.static.reconsiderScrollbars(n[0]),i&&i!==document.activeElement&&i.focus&&i.focus(),n[0].style.overflow=e}),300),i.fitActions(),setTimeout((function(){i.fitActions()}),300),this},t.ui.MessageDialog.prototype.initialize=function(){t.ui.MessageDialog.parent.prototype.initialize.call(this),this.$actions=e("<div>"),this.container=new t.ui.PanelLayout({scrollable:!0,classes:["oo-ui-messageDialog-container"]}),this.text=new t.ui.PanelLayout({padded:!0,expanded:!1,classes:["oo-ui-messageDialog-text"]}),this.message=new t.ui.LabelWidget({classes:["oo-ui-messageDialog-message"]}),this.title.$element.addClass("oo-ui-messageDialog-title"),this.$content.addClass("oo-ui-messageDialog-content"),this.container.$element.append(this.text.$element),this.text.$element.append(this.title.$element,this.message.$element),this.$body.append(this.container.$element),this.$actions.addClass("oo-ui-messageDialog-actions"),this.$foot.append(this.$actions)},t.ui.MessageDialog.prototype.getActionWidgetConfig=function(t){return e.extend({},t,{framed:!1})},t.ui.MessageDialog.prototype.attachActions=function(){var e,i,n,o;for(t.ui.MessageDialog.parent.prototype.attachActions.call(this),n=this.actions.getSpecial(),o=this.actions.getOthers(),n.safe&&(this.$actions.append(n.safe.$element),n.safe.toggleFramed(!0)),e=0,i=o.length;e<i;e++)this.$actions.append(o[e].$element),o[e].toggleFramed(!0);n.primary&&(this.$actions.append(n.primary.$element),n.primary.toggleFramed(!0))},t.ui.MessageDialog.prototype.fitActions=function(){var t,e,i,n=this.verticalActionLayout,o=this.actions.get();for(this.toggleVerticalActionLayout(!1),t=0,e=o.length;t<e;t++)if((i=o[t]).$element[0].scrollWidth>i.$element[0].clientWidth){this.toggleVerticalActionLayout(!0);break}this.$body.css("bottom",this.$foot.outerHeight(!0)),this.verticalActionLayout!==n&&this.updateSize()},t.ui.ProcessDialog=function(e){t.ui.ProcessDialog.parent.call(this,e),this.fitOnOpen=!1,this.$element.addClass("oo-ui-processDialog"),t.ui.isMobile()&&this.$element.addClass("oo-ui-isMobile")},t.inheritClass(t.ui.ProcessDialog,t.ui.Dialog),t.ui.ProcessDialog.prototype.onDismissErrorButtonClick=function(){this.hideErrors()},t.ui.ProcessDialog.prototype.onRetryButtonClick=function(){this.hideErrors(),this.executeAction(this.currentAction)},t.ui.ProcessDialog.prototype.initialize=function(){t.ui.ProcessDialog.parent.prototype.initialize.call(this),this.$navigation=e("<div>"),this.$location=e("<div>"),this.$safeActions=e("<div>"),this.$primaryActions=e("<div>"),this.$otherActions=e("<div>"),this.dismissButton=new t.ui.ButtonWidget({label:t.ui.msg("ooui-dialog-process-dismiss")}),this.retryButton=new t.ui.ButtonWidget,this.$errors=e("<div>"),this.$errorsTitle=e("<div>"),this.dismissButton.connect(this,{click:"onDismissErrorButtonClick"}),this.retryButton.connect(this,{click:"onRetryButtonClick"}),this.title.connect(this,{labelChange:"fitLabel"}),this.title.$element.addClass("oo-ui-processDialog-title"),this.$location.append(this.title.$element).addClass("oo-ui-processDialog-location"),this.$safeActions.addClass("oo-ui-processDialog-actions-safe"),this.$primaryActions.addClass("oo-ui-processDialog-actions-primary"),this.$otherActions.addClass("oo-ui-processDialog-actions-other"),this.$errorsTitle.addClass("oo-ui-processDialog-errors-title").text(t.ui.msg("ooui-dialog-process-error")),this.$errors.addClass("oo-ui-processDialog-errors oo-ui-element-hidden").append(this.$errorsTitle,this.dismissButton.$element,this.retryButton.$element),this.$content.addClass("oo-ui-processDialog-content").append(this.$errors),this.$navigation.addClass("oo-ui-processDialog-navigation").append(this.$primaryActions,this.$location,this.$safeActions),this.$head.append(this.$navigation),this.$foot.append(this.$otherActions)},t.ui.ProcessDialog.prototype.getActionWidgetConfig=function(t){function i(e){return t.flags===e||Array.isArray(t.flags)&&-1!==t.flags.indexOf(e)}return t=e.extend({framed:!0},t),i("close")?e.extend(t,{icon:"close",invisibleLabel:!0}):i("back")&&e.extend(t,{icon:"previous",invisibleLabel:!0}),t},t.ui.ProcessDialog.prototype.attachActions=function(){var e,i,n,o,s;for(t.ui.ProcessDialog.parent.prototype.attachActions.call(this),o=this.actions.getSpecial(),s=this.actions.getOthers(),o.primary&&this.$primaryActions.append(o.primary.$element),e=0,i=s.length;e<i;e++)n=s[e],this.$otherActions.append(n.$element);o.safe&&this.$safeActions.append(o.safe.$element)},t.ui.ProcessDialog.prototype.executeAction=function(e){var i=this;return t.ui.ProcessDialog.parent.prototype.executeAction.call(this,e).fail((function(t){i.showErrors(t||[])}))},t.ui.ProcessDialog.prototype.setDimensions=function(){var e=this;t.ui.ProcessDialog.parent.prototype.setDimensions.apply(this,arguments),this.fitLabel(),e.$body.css("bottom",e.$foot.outerHeight(!0)),setTimeout((function(){e.$body.css("bottom",e.$foot.outerHeight(!0))}),300)},t.ui.ProcessDialog.prototype.fitLabel=function(){var e,i,n,o,s,a,r,l=this.getSizeProperties();if("number"!=typeof l.width){if(!this.isOpened())return this.isOpening()?void(this.fitOnOpen||(this.manager.lifecycle.opened.done(this.fitLabel.bind(this)),this.fitOnOpen=!0)):void 0;s=this.$head.width()-20}else s=l.width-20;return e=this.$safeActions.width(),i=this.$primaryActions.width(),n=Math.max(e,i),o=this.title.$element.width(),!t.ui.isMobile()&&2*n+o<s?a=r=n:"ltr"===this.getDir()?(a=e,r=i):(a=i,r=e),this.$location.css({paddingLeft:a,paddingRight:r}),this},t.ui.ProcessDialog.prototype.showErrors=function(i){var n,o,s,a,r=[],l={},u=!0,h=!1;for(i instanceof t.ui.Error&&(i=[i]),n=0,o=i.length;n<o;n++)i[n].isRecoverable()||(u=!1),i[n].isWarning()&&(h=!0),s=e("<div>").addClass("oo-ui-processDialog-error").append(i[n].getMessage()),r.push(s[0]);this.$errorItems=e(r),u?(l[this.currentAction]=!0,(a=this.actions.get({actions:this.currentAction})).length&&this.retryButton.clearFlags().setFlags(a[0].getFlags())):(l[this.currentAction]=!1,this.actions.setAbilities(l)),h?this.retryButton.setLabel(t.ui.msg("ooui-dialog-process-continue")):this.retryButton.setLabel(t.ui.msg("ooui-dialog-process-retry")),this.retryButton.toggle(u),this.$errorsTitle.after(this.$errorItems),this.$errors.removeClass("oo-ui-element-hidden").scrollTop(0)},t.ui.ProcessDialog.prototype.hideErrors=function(){this.$errors.addClass("oo-ui-element-hidden"),this.$errorItems&&(this.$errorItems.remove(),this.$errorItems=null)},t.ui.ProcessDialog.prototype.getTeardownProcess=function(e){return t.ui.ProcessDialog.parent.prototype.getTeardownProcess.call(this,e).first((function(){this.hideErrors(),this.fitOnOpen=!1}),this)},t.ui.getWindowManager=function(){return t.ui.windowManager||(t.ui.windowManager=new t.ui.WindowManager,e(document.body).append(t.ui.windowManager.$element),t.ui.windowManager.addWindows([new t.ui.MessageDialog])),t.ui.windowManager},t.ui.alert=function(i,n){return t.ui.getWindowManager().openWindow("message",e.extend({message:i,actions:[t.ui.MessageDialog.static.actions[0]]},n)).closed.then((function(){}))},t.ui.confirm=function(i,n){return t.ui.getWindowManager().openWindow("message",e.extend({message:i},n)).closed.then((function(t){return!(!t||"accept"!==t.action)}))},t.ui.prompt=function(i,n){var o,s=t.ui.getWindowManager(),a=new t.ui.TextInputWidget(n&&n.textInput||{}),r=new t.ui.FieldLayout(a,{align:"top",label:i});return(o=s.openWindow("message",e.extend({message:r.$element},n))).opened.then((function(){a.on("enter",(function(){s.getCurrentWindow().close({action:"accept"})})),a.focus()})),o.closed.then((function(t){return t&&"accept"===t.action?a.getValue():null}))}}(t)}).call(this,i("ovuR"),i("EVdn"))},mJPs:function(t,e,i){(function(t){
/*!
 * jQuery Internationalization library
 *
 * Copyright (C) 2011-2013 Santhosh Thottingal, Neil Kandalgaonkar
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do
 * anything special to choose one license or the other and you don't have to
 * notify anyone which license you are using. You are free to use
 * UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
!function(t){"use strict";var e=function(){this.language=t.i18n.languages[String.locale]||t.i18n.languages.default};e.prototype={constructor:e,emit:function(e,i){var n,o,s,a=this;switch(typeof e){case"string":case"number":n=e;break;case"object":if(o=t.map(e.slice(1),(function(t){return a.emit(t,i)})),s=e[0].toLowerCase(),"function"!=typeof a[s])throw new Error('unknown operation "'+s+'"');n=a[s](o,i);break;case"undefined":n="";break;default:throw new Error("unexpected type in AST: "+typeof e)}return n},concat:function(e){var i="";return t.each(e,(function(t,e){i+=e})),i},replace:function(t,e){var i=parseInt(t[0],10);return i<e.length?e[i]:"$"+(i+1)},plural:function(t){var e=parseFloat(this.language.convertNumber(t[0],10)),i=t.slice(1);return i.length?this.language.convertPlural(e,i):""},gender:function(t){var e=t[0],i=t.slice(1);return this.language.gender(e,i)},grammar:function(t){var e=t[0],i=t[1];return i&&e&&this.language.convertGrammar(i,e)}},t.extend(t.i18n.parser.emitter,new e)}(t)}).call(this,i("EVdn"))},mwPO:function(t,e){t.exports="../assets/images/language.3c39d721.svg"},nmF7:function(t,e,i){(function(t){
/*!
 * jQuery Internationalization library - Message Store
 *
 * Copyright (C) 2012 Santhosh Thottingal
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do anything special to
 * choose one license or the other and you don't have to notify anyone which license you are using.
 * You are free to use UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
!function(t){"use strict";var e=function(){this.messages={},this.sources={}};e.prototype={load:function(e,i){var n,o,s=null,a=[],r=this;if("string"==typeof e)return t.i18n.log("Loading messages from: "+e),(n=e,o=t.Deferred(),t.getJSON(n).done(o.resolve).fail((function(e,i,s){t.i18n.log("Error in loading messages from "+n+" Exception: "+s),o.resolve()})),o.promise()).then((function(t){return r.load(t,i)}));if(i)return r.set(i,e),t.Deferred().resolve();for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i=s,a.push(r.load(e[s],i)));return t.when.apply(t,a)},set:function(e,i){this.messages[e]?this.messages[e]=t.extend(this.messages[e],i):this.messages[e]=i},get:function(t,e){return this.messages[t]&&this.messages[t][e]}},t.extend(t.i18n.messageStore,new e)}(t)}).call(this,i("EVdn"))},ovuR:function(t,e,i){
/*!
 * OOjs v2.2.2
 * https://www.mediawiki.org/wiki/OOjs
 *
 * Copyright 2011-2018 OOjs Team and other contributors.
 * Released under the MIT license
 * https://oojs.mit-license.org
 *
 * Date: 2018-06-14T20:13:14Z
 */
!function(e){"use strict";var i={},n=i.hasOwnProperty,o=i.toString;function s(t,e,i){var n,o,s={},a=[];for(n=0,o=e.length;n<o;n++)s[e[n]]=!0;for(n=0,o=t.length;n<o;n++)!!s[t[n]]===i&&a.push(t[n]);return a}i.initClass=function(t){t.static=t.static||{}},i.inheritClass=function(t,e){var n;if(!e)throw new Error("inheritClass: Origin is not a function (actually "+e+")");if(t.prototype instanceof e)throw new Error("inheritClass: Target already inherits from origin");n=t.prototype.constructor,t.super=t.parent=e,t.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i.initClass(e),t.static=Object.create(e.static)},i.mixinClass=function(t,e){var o;if(!e)throw new Error("mixinClass: Origin is not a function (actually "+e+")");for(o in e.prototype)"constructor"!==o&&n.call(e.prototype,o)&&(t.prototype[o]=e.prototype[o]);if(i.initClass(t),e.static)for(o in e.static)n.call(e.static,o)&&(t.static[o]=e.static[o]);else i.initClass(e)},i.isSubclass=function(t,e){return t===e||t.prototype instanceof e},i.getProp=function(t){var e,i=t;for(e=1;e<arguments.length;e++){if(null==i)return;i=i[arguments[e]]}return i},i.setProp=function(t){var e,i=t;if(!(Object(t)!==t||arguments.length<2)){for(e=1;e<arguments.length-2;e++){if(void 0===i[arguments[e]]&&(i[arguments[e]]={}),Object(i[arguments[e]])!==i[arguments[e]])return;i=i[arguments[e]]}i[arguments[arguments.length-2]]=arguments[arguments.length-1]}},i.deleteProp=function(t){var e,n=t,o=[n];if(!(Object(t)!==t||arguments.length<2)){for(e=1;e<arguments.length-1;e++){if(void 0===n[arguments[e]]||Object(n[arguments[e]])!==n[arguments[e]])return;n=n[arguments[e]],o.push(n)}for(delete n[arguments[e]];o.length>1&&(n=o.pop())&&i.isPlainObject(n)&&!Object.keys(n).length;)delete o[o.length-1][arguments[o.length]]}},i.cloneObject=function(t){var e,i;for(e in i=Object.create(t.constructor.prototype),t)n.call(t,e)&&(i[e]=t[e]);return i},i.getObjectValues=function(t){var e,i;if(t!==Object(t))throw new TypeError("Called on non-object");for(e in i=[],t)n.call(t,e)&&(i[i.length]=t[e]);return i},i.binarySearch=function(t,e,i){for(var n,o,s=0,a=t.length;s<a;)if((o=e(t[n=s+a>>1]))<0)a=n;else{if(!(o>0))return n;s=n+1}return i?a:null},i.compare=function(t,e,o){var s,a,r,l;if(t===e)return!0;if(e=e||{},"number"==typeof(t=t||{}).nodeType&&"function"==typeof t.isEqualNode)return t.isEqualNode(e);for(l in t)if(n.call(t,l)&&void 0!==t[l]&&t[l]!==e[l]&&((r=typeof(s=t[l]))!==typeof(a=e[l])||("string"===r||"number"===r||"boolean"===r)&&s!==a||s===Object(s)&&!i.compare(s,a,!0)))return!1;return!!o||i.compare(e,t,!0)},i.copy=function(t,e,n){var o,s;if(n&&void 0!==(s=n(t)))return s;if(Array.isArray(t))s=new Array(t.length);else{if(t&&"function"==typeof t.clone)return e?e(t.clone()):t.clone();if(t&&"function"==typeof t.cloneNode)return e?e(t.cloneNode(!0)):t.cloneNode(!0);if(!i.isPlainObject(t))return e?e(t):t;s={}}for(o in t)s[o]=i.copy(t[o],e,n);return s},i.getHash=function(t){return JSON.stringify(t,i.getHash.keySortReplacer)},i.getHash.keySortReplacer=function(t,e){var i,n,o,s;if(e&&"function"==typeof e.getHashObject&&(e=e.getHashObject()),Array.isArray(e)||Object(e)!==e)return e;for(i={},o=0,s=(n=Object.keys(e).sort()).length;o<s;o+=1)i[n[o]]=e[n[o]];return i},i.unique=function(t){return t.reduce((function(t,e){return-1===t.indexOf(e)&&t.push(e),t}),[])},i.simpleArrayUnion=function(){var t,e,i,n,o,s={},a=[];for(t=0,e=arguments.length;t<e;t++)for(n=0,o=(i=arguments[t]).length;n<o;n++)s[i[n]]||(s[i[n]]=!0,a.push(i[n]));return a},i.simpleArrayIntersection=function(t,e){return s(t,e,!0)},i.simpleArrayDifference=function(t,e){return s(t,e,!1)},i.isPlainObject=function(t){var e;return!(!t||"[object Object]"!==o.call(t))&&(!(e=Object.getPrototypeOf(t))||n.call(e,"isPrototypeOf"))},function(){function t(t,e){if("string"==typeof t){if(null==e)throw new Error('Method name "'+t+'" has no context.');if("function"!=typeof e[t])throw new Error('Property "'+t+'" is not a function')}else if("function"!=typeof t)throw new Error("Invalid callback. Function or method name expected.")}function e(t,e,i){(n.call(t.bindings,e)?t.bindings[e]:t.bindings[e]=[]).push(i)}i.EventEmitter=function(){this.bindings={}},i.initClass(i.EventEmitter),i.EventEmitter.prototype.on=function(i,n,o,s){return t(n,s),e(this,i,{method:n,args:o,context:arguments.length<4?null:s,once:!1}),this},i.EventEmitter.prototype.once=function(i,n){return t(n),e(this,i,{method:n,args:void 0,context:null,once:!0}),this},i.EventEmitter.prototype.off=function(e,i,o){var s,a;if(1===arguments.length)return delete this.bindings[e],this;if(t(i,o),!n.call(this.bindings,e)||!this.bindings[e].length)return this;for(arguments.length<3&&(o=null),s=(a=this.bindings[e]).length;s--;)a[s].method===i&&a[s].context===o&&a.splice(s,1);return 0===a.length&&delete this.bindings[e],this},i.EventEmitter.prototype.emit=function(t){var e,i,o,s,a,r=[];if(n.call(this.bindings,t)){for(s=this.bindings[t].slice(),e=1,i=arguments.length;e<i;e++)r.push(arguments[e]);for(e=0,i=s.length;e<i;e++)a="string"==typeof(o=s[e]).method?o.context[o.method]:o.method,o.once&&this.off(t,a),a.apply(o.context,o.args?o.args.concat(r):r);return!0}return!1},i.EventEmitter.prototype.connect=function(t,e){var i,n,o;for(o in e)i=e[o],Array.isArray(i)?(n=i.slice(1),i=i[0]):n=[],this.on(o,i,n,t);return this},i.EventEmitter.prototype.disconnect=function(t,e){var i,n,o,s;if(e)for(n in e)o=e[n],Array.isArray(o)&&(o=o[0]),this.off(n,o,t);else for(n in this.bindings)for(i=(s=this.bindings[n]).length;i--;)s[i]&&s[i].context===t&&this.off(n,s[i].method,t);return this}}(),function(){function t(t,e){return void 0===e||e<0||e>=t.length?t.length:e}i.EmitterList=function(){this.items=[],this.aggregateItemEvents={}},i.EmitterList.prototype.getItems=function(){return this.items.slice(0)},i.EmitterList.prototype.getItemIndex=function(t){return this.items.indexOf(t)},i.EmitterList.prototype.getItemCount=function(){return this.items.length},i.EmitterList.prototype.isEmpty=function(){return!this.items.length},i.EmitterList.prototype.aggregate=function(t){var e,i,n,o,s,a;for(s in t){if(a=t[s],Object.prototype.hasOwnProperty.call(this.aggregateItemEvents,s)){if(a)throw new Error("Duplicate item event aggregation for "+s);for(e=0;e<this.items.length;e++)(i=this.items[e]).connect&&i.disconnect&&((o={})[s]=["emit",this.aggregateItemEvents[s],i],i.disconnect(this,o));delete this.aggregateItemEvents[s]}if(a)for(this.aggregateItemEvents[s]=a,e=0;e<this.items.length;e++)(i=this.items[e]).connect&&i.disconnect&&((n={})[s]=["emit",a,i],i.connect(this,n))}},i.EmitterList.prototype.addItems=function(e,i){var n,o;if(Array.isArray(e)||(e=[e]),0===e.length)return this;for(i=t(this.items,i),n=0;n<e.length;n++)-1!==(o=this.items.indexOf(e[n]))?(i=this.moveItem(e[n],i),this.emit("move",e[n],i,o)):(i=this.insertItem(e[n],i),this.emit("add",e[n],i)),i++;return this},i.EmitterList.prototype.moveItem=function(e,i){var n=this.items.indexOf(e);if(-1===n)throw new Error("Item cannot be moved, because it is not in the list.");return i=t(this.items,i),this.items.splice(n,1),n<i&&i--,this.items.splice(i,0,e),i},i.EmitterList.prototype.insertItem=function(e,i){var n,o;if(e.connect&&e.disconnect){for(o in n={},this.aggregateItemEvents)n[o]=["emit",this.aggregateItemEvents[o],e];e.connect(this,n)}return i=t(this.items,i),this.items.splice(i,0,e),i},i.EmitterList.prototype.removeItems=function(t){var e,i,n;if(Array.isArray(t)||(t=[t]),0===t.length)return this;for(e=0;e<t.length;e++)i=t[e],-1!==(n=this.items.indexOf(i))&&(i.connect&&i.disconnect&&i.disconnect(this),this.items.splice(n,1),this.emit("remove",i,n));return this},i.EmitterList.prototype.clearItems=function(){var t,e,i=this.items.splice(0,this.items.length);for(t=0;t<i.length;t++)(e=i[t]).connect&&e.disconnect&&e.disconnect(this);return this.emit("clear"),this}}(),i.SortedEmitterList=function(t){i.EmitterList.call(this),this.sortingCallback=t,this.aggregate({sortChange:"itemSortChange"}),this.connect(this,{itemSortChange:"onItemSortChange"})},i.mixinClass(i.SortedEmitterList,i.EmitterList),i.SortedEmitterList.prototype.onItemSortChange=function(t){this.removeItems(t),this.addItems(t)},i.SortedEmitterList.prototype.setSortingCallback=function(t){var e=this.getItems();this.sortingCallback=t,this.clearItems(),this.addItems(e)},i.SortedEmitterList.prototype.addItems=function(t){var e,i,n;if(Array.isArray(t)||(t=[t]),0===t.length)return this;for(i=0;i<t.length;i++)(n=this.findInsertionIndex(t[i]))<=this.items.length&&this.items[n]&&0===this.sortingCallback(this.items[n],t[i])&&this.removeItems(this.items[n]),e=this.insertItem(t[i],n),this.emit("add",t[i],e);return this},i.SortedEmitterList.prototype.findInsertionIndex=function(t){var e=this;return i.binarySearch(this.items,(function(i){return e.sortingCallback(t,i)}),!0)},i.Registry=function(){i.EventEmitter.call(this),this.registry={}},i.mixinClass(i.Registry,i.EventEmitter),i.Registry.prototype.register=function(t,e){var i,n;if("string"==typeof t)this.registry[t]=e,this.emit("register",t,e);else{if(!Array.isArray(t))throw new Error("Name must be a string or array, cannot be a "+typeof t);for(i=0,n=t.length;i<n;i++)this.register(t[i],e)}},i.Registry.prototype.unregister=function(t){var e,i,n;if("string"==typeof t)void 0!==(n=this.lookup(t))&&(delete this.registry[t],this.emit("unregister",t,n));else{if(!Array.isArray(t))throw new Error("Name must be a string or array, cannot be a "+typeof t);for(e=0,i=t.length;e<i;e++)this.unregister(t[e])}},i.Registry.prototype.lookup=function(t){if(n.call(this.registry,t))return this.registry[t]},i.Factory=function(){i.Factory.super.call(this)},i.inheritClass(i.Factory,i.Registry),i.Factory.prototype.register=function(t){var e;if("function"!=typeof t)throw new Error("constructor must be a function, cannot be a "+typeof t);if("string"!=typeof(e=t.static&&t.static.name)||""===e)throw new Error("Name must be a string and must not be empty");i.Factory.super.prototype.register.call(this,e,t)},i.Factory.prototype.unregister=function(t){var e;if("function"!=typeof t)throw new Error("constructor must be a function, cannot be a "+typeof t);if("string"!=typeof(e=t.static&&t.static.name)||""===e)throw new Error("Name must be a string and must not be empty");i.Factory.super.prototype.unregister.call(this,e)},i.Factory.prototype.create=function(t){var e,i,n=[],o=this.lookup(t);if(!o)throw new Error("No class registered by that name: "+t);for(i=1;i<arguments.length;i++)n.push(arguments[i]);return e=Object.create(o.prototype),o.apply(e,n),e},t.exports?t.exports=i:e.OO=i}(this)},p46w:function(t,e,i){var n,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(s){if(void 0===(o="function"==typeof(n=s)?n.call(e,i,e,t):n)||(t.exports=o),!0,t.exports=s(),!!0){var a=window.Cookies,r=window.Cookies=s();r.noConflict=function(){return window.Cookies=a,r}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function i(n){function o(){}function s(e,i,s){if("undefined"!=typeof document){"number"==typeof(s=t({path:"/"},o.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var a=JSON.stringify(i);/^[\{\[]/.test(a)&&(i=a)}catch(t){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r="";for(var l in s)s[l]&&(r+="; "+l,!0!==s[l]&&(r+="="+s[l].split(";")[0]));return document.cookie=e+"="+i+r}}function a(t,i){if("undefined"!=typeof document){for(var o={},s=document.cookie?document.cookie.split("; "):[],a=0;a<s.length;a++){var r=s[a].split("="),l=r.slice(1).join("=");i||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var u=e(r[0]);if(l=(n.read||n)(l,u)||e(l),i)try{l=JSON.parse(l)}catch(t){}if(o[u]=l,t===u)break}catch(t){}}return t?o[t]:o}}return o.set=s,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,i){s(e,"",t(i,{expires:-1}))},o.defaults={},o.withConverter=i,o}((function(){}))}))},qXYj:function(t,e,i){},tPeR:function(t,e,i){(function(t){
/*!
 * jQuery Internationalization library
 *
 * Copyright (C) 2012 Santhosh Thottingal
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do anything special to
 * choose one license or the other and you don't have to notify anyone which license you are using.
 * You are free to use UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
!function(t){"use strict";t.i18n=t.i18n||{},t.extend(t.i18n.fallbacks,{ab:["ru"],ace:["id"],aln:["sq"],als:["gsw","de"],an:["es"],anp:["hi"],arn:["es"],arz:["ar"],av:["ru"],ay:["es"],ba:["ru"],bar:["de"],"bat-smg":["sgs","lt"],bcc:["fa"],"be-x-old":["be-tarask"],bh:["bho"],bjn:["id"],bm:["fr"],bpy:["bn"],bqi:["fa"],bug:["id"],"cbk-zam":["es"],ce:["ru"],crh:["crh-latn"],"crh-cyrl":["ru"],csb:["pl"],cv:["ru"],"de-at":["de"],"de-ch":["de"],"de-formal":["de"],dsb:["de"],dtp:["ms"],egl:["it"],eml:["it"],ff:["fr"],fit:["fi"],"fiu-vro":["vro","et"],frc:["fr"],frp:["fr"],frr:["de"],fur:["it"],gag:["tr"],gan:["gan-hant","zh-hant","zh-hans"],"gan-hans":["zh-hans"],"gan-hant":["zh-hant","zh-hans"],gl:["pt"],glk:["fa"],gn:["es"],gsw:["de"],hif:["hif-latn"],hsb:["de"],ht:["fr"],ii:["zh-cn","zh-hans"],inh:["ru"],iu:["ike-cans"],jut:["da"],jv:["id"],kaa:["kk-latn","kk-cyrl"],kbd:["kbd-cyrl"],khw:["ur"],kiu:["tr"],kk:["kk-cyrl"],"kk-arab":["kk-cyrl"],"kk-latn":["kk-cyrl"],"kk-cn":["kk-arab","kk-cyrl"],"kk-kz":["kk-cyrl"],"kk-tr":["kk-latn","kk-cyrl"],kl:["da"],"ko-kp":["ko"],koi:["ru"],krc:["ru"],ks:["ks-arab"],ksh:["de"],ku:["ku-latn"],"ku-arab":["ckb"],kv:["ru"],lad:["es"],lb:["de"],lbe:["ru"],lez:["ru"],li:["nl"],lij:["it"],liv:["et"],lmo:["it"],ln:["fr"],ltg:["lv"],lzz:["tr"],mai:["hi"],"map-bms":["jv","id"],mg:["fr"],mhr:["ru"],min:["id"],mo:["ro"],mrj:["ru"],mwl:["pt"],myv:["ru"],mzn:["fa"],nah:["es"],nap:["it"],nds:["de"],"nds-nl":["nl"],"nl-informal":["nl"],no:["nb"],os:["ru"],pcd:["fr"],pdc:["de"],pdt:["de"],pfl:["de"],pms:["it"],pt:["pt-br"],"pt-br":["pt"],qu:["es"],qug:["qu","es"],rgn:["it"],rmy:["ro"],"roa-rup":["rup"],rue:["uk","ru"],ruq:["ruq-latn","ro"],"ruq-cyrl":["mk"],"ruq-latn":["ro"],sa:["hi"],sah:["ru"],scn:["it"],sg:["fr"],sgs:["lt"],sli:["de"],sr:["sr-ec"],srn:["nl"],stq:["de"],su:["id"],szl:["pl"],tcy:["kn"],tg:["tg-cyrl"],tt:["tt-cyrl","ru"],"tt-cyrl":["ru"],ty:["fr"],udm:["ru"],ug:["ug-arab"],uk:["ru"],vec:["it"],vep:["et"],vls:["nl"],vmf:["de"],vot:["fi"],vro:["et"],wa:["fr"],wo:["fr"],wuu:["zh-hans"],xal:["ru"],xmf:["ka"],yi:["he"],za:["zh-hans"],zea:["nl"],zh:["zh-hans"],"zh-classical":["lzh"],"zh-cn":["zh-hans"],"zh-hant":["zh-hans"],"zh-hk":["zh-hant","zh-hans"],"zh-min-nan":["nan"],"zh-mo":["zh-hk","zh-hant","zh-hans"],"zh-my":["zh-sg","zh-hans"],"zh-sg":["zh-hans"],"zh-tw":["zh-hant","zh-hans"],"zh-yue":["yue"]})}(t)}).call(this,i("EVdn"))},uzZt:function(t,e,i){(function(t){
/*!
 * jQuery Internationalization library
 *
 * Copyright (C) 2011-2013 Santhosh Thottingal, Neil Kandalgaonkar
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do
 * anything special to choose one license or the other and you don't have to
 * notify anyone which license you are using. You are free to use
 * UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
!function(t){"use strict";var e=function(e){this.options=t.extend({},t.i18n.parser.defaults,e),this.language=t.i18n.languages[String.locale]||t.i18n.languages.default,this.emitter=t.i18n.parser.emitter};e.prototype={constructor:e,simpleParse:function(t,e){return t.replace(/\$(\d+)/g,(function(t,i){var n=parseInt(i,10)-1;return void 0!==e[n]?e[n]:"$"+i}))},parse:function(e,i){return e.indexOf("{{")<0?this.simpleParse(e,i):(this.emitter.language=t.i18n.languages[t.i18n().locale]||t.i18n.languages.default,this.emitter.emit(this.ast(e),i))},ast:function(t){var e,i,n,o,s,a,r,l,u,h,c,d,p,g,m,f,y,v,b,_=0;function x(t){return function(){var e,i;for(e=0;e<t.length;e++)if(null!==(i=t[e]()))return i;return null}}function w(t){var e,i,n=_,o=[];for(e=0;e<t.length;e++){if(null===(i=t[e]()))return _=n,null;o.push(i)}return o}function E(t,e){return function(){for(var i=_,n=[],o=e();null!==o;)n.push(o),o=e();return n.length<t?(_=i,null):n}}function C(e){var i=e.length;return function(){var n=null;return t.slice(_,_+i)===e&&(n=e,_+=i),n}}function L(e){return function(){var i=t.slice(_).match(e);return null===i?null:(_+=i[0].length,i[0])}}function T(){var t=w([n,o]);return null===t?null:t[1]}function I(){var t=w([s,a]);return null===t?null:["REPLACE",parseInt(t[1],10)-1]}function W(){var t,i=w([e,E(0,f)]);return null===i?null:(t=i[1]).length>1?["CONCAT"].concat(t):t[0]}function S(){var t=w([d,i,I]);return null===t?null:[t[0],t[2]]}function $(){var t=w([d,i,f]);return null===t?null:[t[0],t[2]]}function k(){var t=w([p,c,g]);return null===t?null:t[1]}if(e=C("|"),i=C(":"),n=C("\\"),o=L(/^./),s=C("$"),a=L(/^\d+/),r=L(/^[^{}[\]$\\]/),l=L(/^[^{}[\]$\\|]/),x([T,L(/^[^{}[\]$\s]/)]),u=x([T,l]),h=x([T,r]),v=L(/^[ !"$&'()*,./0-9;=?@A-Z^_`a-z~\x80-\xFF+-]+/),b=function(t){return t.toString()},d=function(){var t=v();return null===t?null:b(t)},c=x([function(){var t=w([x([S,$]),E(0,W)]);return null===t?null:t[0].concat(t[1])},function(){var t=w([d,E(0,W)]);return null===t?null:[t[0]].concat(t[1])}]),p=C("{{"),g=C("}}"),m=x([k,I,function(){var t=E(1,h)();return null===t?null:t.join("")}]),f=x([k,I,function(){var t=E(1,u)();return null===t?null:t.join("")}]),null===(y=function(){var t=E(0,m)();return null===t?null:["CONCAT"].concat(t)}())||_!==t.length)throw new Error("Parse error at position "+_.toString()+" in input: "+t);return y}},t.extend(t.i18n.parser,new e)}(t)}).call(this,i("EVdn"))},viYT:function(t,e,i){(function(t){!function(t){"use strict";t.i18n.languages.he=t.extend({},t.i18n.languages.default,{convertGrammar:function(t,e){switch(e){case"prefixed":case"תחילית":"ו"===t.slice(0,1)&&"וו"!==t.slice(0,2)&&(t="ו"+t),"ה"===t.slice(0,1)&&(t=t.slice(1)),(t.slice(0,1)<"א"||t.slice(0,1)>"ת")&&(t="־"+t)}return t}})}(t)}).call(this,i("EVdn"))},"vuU+":function(t,e,i){},wCmc:function(t,e,i){},yLpj:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},zXW2:function(t,e,i){(function(t,e){App.SearchWidget=function(e){t.ui.SearchInputWidget.parent.call(this,e),t.ui.mixin.LookupElement.call(this)},t.inheritClass(App.SearchWidget,t.ui.SearchInputWidget),t.mixinClass(App.SearchWidget,t.ui.mixin.LookupElement),App.SearchWidget.prototype.getLookupRequest=function(){var t=this.getValue();return-1!==t.indexOf("File:")&&(t=t.slice(Math.max(0,t.indexOf("File:")+"File:".length))),e.ajax({url:appConfig.wikiUrl,dataType:"jsonp",data:{format:"json",action:"query",list:"search",srnamespace:6,srsearch:t+" filetype:drawing"}})},App.SearchWidget.prototype.getLookupCacheDataFromResponse=function(t){return void 0===t.query||void 0===t.query.search?[]:t.query.search},App.SearchWidget.prototype.getLookupMenuOptionsFromData=function(e){var i,n,o=[];for(i=0;i<e.length;i++)n=String(e[i].title).slice("File:".length),o.push(new t.ui.MenuOptionWidget({data:n,label:n}));return o}}).call(this,i("ovuR"),i("EVdn"))},zoyU:function(t,e,i){}});